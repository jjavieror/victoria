!function(e){function t(t){for(var i,s,o=t[0],l=t[1],u=t[2],h=0,d=[];h<o.length;h++)s=o[h],r[s]&&d.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(c&&c(t);d.length;)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={app:0},a=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,i){n=r[e]=[t,i]});t.push(n[2]=i);var a,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=function(e){return s.p+"version/1570018962653/js/"+e+".js"}(e),a=function(t){o.onerror=o.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");s.type=i,s.request=a,n[1](s)}r[e]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:o})},12e4);o.onerror=o.onload=a,document.head.appendChild(o)}return Promise.all(t)},s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var o=this.webpackJsonp=this.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;a.push([388,"vendors"]),n()}([,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s});var i={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",LOCAL:"local"},r={LOCALE:"locale",API:"api",MOCK_API:"mock-api"},a={LOCALE_ENABLED:"locale-enabled",LOCALE_ROUTING_ENABLED:"locale-routing-enabled",STATIC_ROOT:"static-root",PUBLIC_PATH:"public-path",VERSIONED_STATIC_ROOT:"versioned-static-root",MOCK_API_ENABLED:"mock-api-enabled"},s={DEFAULT_LOCALE:"default-locale",AVAILABLE_LOCALES:"available-locales",PERSIST_QUERY_PARAMS:"persist-query-params",GTM:"gtm"}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var i={},r=function(e,t){i[e]=t},a=function(e){return i[e]}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return o});var i="gateway",r="configManager",a="twitterSharer",s="facebookSharer",o="trackingManager"},,,function(e,t,n){"use strict";var i;!function(e){e[e.SMALL=0]="SMALL",e[e.MEDIUM=1]="MEDIUM",e[e.LARGE=2]="LARGE"}(i||(i={})),t.a=i},,,,,,,,function(e,t,n){"use strict";n.d(t,"g",function(){return o}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f});var i,r,a=n(14),s=n.n(a),o="".concat("user","/setRememberMe"),l="".concat("user","/setBirthYear"),u="".concat("user","/setBirthMonth"),c="".concat("user","/setBirthDay"),h="".concat("user","/isAgeAllowed"),d="".concat("user","/clearUser"),f="".concat("user","/getDateOfBirth"),v=function(e){return"number"===typeof e};t.h={state:{rememberMe:!1,birthYear:null,birthMonth:null,birthDay:null},getters:(i={},s()(i,f,function(e){return"".concat(e.birthYear,"-").concat(e.birthMonth.toString().padStart(2,"0"),"-").concat(e.birthDay.toString().padStart(2,"0"))}),s()(i,h,function(e){var t=new Date;return t.setFullYear(t.getFullYear()-18),t>=new Date(e.birthYear,e.birthMonth-1,e.birthDay)&&v(e.birthYear)&&v(e.birthMonth)&&e.birthMonth<=12&&v(e.birthDay)&&e.birthDay<=31}),i),mutations:(r={},s()(r,l,function(e,t){e.birthYear=t}),s()(r,u,function(e,t){e.birthMonth=t}),s()(r,c,function(e,t){e.birthDay=t}),s()(r,o,function(e,t){e.rememberMe=t}),s()(r,d,function(e){e.birthYear=null,e.birthMonth=null,e.birthDay=null}),r),actions:{}}},,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(10),r=n(7),a=n(61),s=n(26),o=n(71),l=n(70);t.a={name:"AbstractButtonComponent",extends:r.AbstractTransitionComponent,props:{active:i.a.bool.def(!0),disabled:i.a.bool,invalid:i.a.bool,size:i.a.oneOf([s.a.SMALL,s.a.MEDIUM,s.a.LARGE]).def(s.a.MEDIUM),icon:i.a.string,label:i.a.string,title:i.a.string,type:i.a.oneOf(Object.values(o.a)).isRequired,link:i.a.shape({type:i.a.oneOf(Object.values(a.a)).isRequired,target:i.a.any.isRequired})},computed:{buttonSize:function(){return s.a[this.size].toLowerCase()},target:function(){var e=this,t=this.link.target;this.link.type===a.a.INTERNAL&&(t=l.b.find(function(t){return t.name===e.link.target.name}).path);return t}},methods:{onClick:function(){},handleClick:function(e){switch(this.onClick(),this.$emit("click"),this.type){case o.a.LINK:switch(e.preventDefault(),this.link.type){case a.a.EXTERNAL:this.openExternalLink();break;case a.a.EXTERNAL_BLANK:this.openExternalLink(!0);break;case a.a.INTERNAL:default:this.openInternalLink()}break;case o.a.ACTION:e&&e.preventDefault();break;case o.a.SUBMIT:}},openInternalLink:function(){this.$router.push(this.link.target)},openExternalLink:function(e){e?window.open(this.link.target):window.location.href=this.link.target}}}},,,,,,,,,,,function(e,t,n){"use strict";(function(e){var i=n(249),r=n(146),a=n(216),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/button/PrimaryButton/PrimaryButton.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(247),r=n(150),a=n(218),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/layout/LogoXibalba/LogoXibalba.vue",t.a=u.exports}).call(this,n(21)(e))},,function(e,t,n){"use strict";t.a={INTERNAL:"link-type-internal",EXTERNAL:"link-type-external",EXTERNAL_BLANK:"link-type-external-blank"}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o});var i,r=n(14),a=n.n(r),s="".concat("app","/setDeviceState"),o="".concat("app","/setMenuIsOpen"),l="".concat("app","/setLogoIsVisible");t.c={state:{deviceState:null,menuIsOpen:!1,logoIsVisible:!0},getters:{},mutations:(i={},a()(i,s,function(e,t){e.deviceState=t}),a()(i,o,function(e,t){e.menuIsOpen=t}),a()(i,l,function(e,t){e.logoIsVisible=t}),i),actions:{}}},function(e,t,n){"use strict";var i=n(359).a,r=n(366),a=n(368),s=n(89),o=n(34),l=function(e,t,n){console.log(Object(s.a)().getters[o.c]),t.name||Object(s.a)().getters[o.c]?n():n({name:h.AGE_GATE})},u=n(371),c=n(374);n.d(t,"a",function(){return h});var h={HOME:"home",AGE_GATE:"ageGate",REGISTER:"register",THANKYOU:"thankyou",WEBGL:"webgl"};t.b=[{path:"/age-gate",component:r.a,name:h.AGE_GATE},{path:"/",component:i,name:h.HOME,beforeEnter:l},{path:"/register",component:a.a,name:h.REGISTER,beforeEnter:l},{path:"/thankyou",component:u.a,name:h.THANKYOU,beforeEnter:l},{path:"/webgl",component:c.a,name:h.WEBGL}]},function(e,t,n){"use strict";t.a={ACTION:"button-type-action",LINK:"button-type-link",SUBMIT:"button-type-submit"}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(37),r=n(29),a=n(384),s={app:n(69).c,user:n(34).h};r.a.use(i.a);var o=null;t.a=function(){return o||(o=new i.a.Store({modules:s,strict:!1,plugins:[Object(a.a)({storage:window.localStorage,reducer:function(e){return{user:e.user}}})]})),o}},function(e){e.exports={b:{X_SMALL:"'(max-width: 479px)'",SMALL:"'(max-width: 599px), (max-height: 375px)'",MEDIUM:"'(max-width: 959px)'",LARGE:"'(max-width: 1199px), (max-height: 700px)'",XLARGE:"'(max-width: 1439px), (max-height: 800px)'",XXLARGE:"'(max-width: 1679px), (max-height: 900px)'",XXXLARGE:"'(max-width: 1919px), (max-height: 1080px)'",XXXXLARGE:"'(min-width: 1920px), (min-height: 1080px)'"},a:{SMALL:0,MEDIUM:1}}},,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={icon:"icon-IOxSc_E"}},,,function(e,t,n){e.exports={"play-button":"play-button-1Ph1V-3",playButton:"play-button-1Ph1V-3","is-playing":"is-playing-2buC-Vh",isPlaying:"is-playing-2buC-Vh",touchevents:"touchevents-1NlFXoE",outline:"outline-2MKqmQC"}},function(e,t,n){e.exports={"primary-button":"primary-button-2u4GFLa",primaryButton:"primary-button-2u4GFLa","is-inactive":"is-inactive-2JD9fMq",isInactive:"is-inactive-2JD9fMq",button:"button-2uhxaF8",label:"label-IJilfVW"}},function(e,t,n){e.exports={"hero-video":"hero-video-3lsYX6K",heroVideo:"hero-video-3lsYX6K","play-button":"play-button-1sV-m6j",playButton:"play-button-1sV-m6j","video-holder":"video-holder-2MBV0_S",videoHolder:"video-holder-2MBV0_S",poster:"poster-1LW0ist",content:"content-3yKm9_4",shade:"shade-385_koQ",title:"title-26AhhrP","title-part":"title-part-36B750x",titlePart:"title-part-36B750x",copy:"copy-1LANOer","copy-line":"copy-line-1x5FEqZ",copyLine:"copy-line-1x5FEqZ","is-playing":"is-playing-3yFx8jo",isPlaying:"is-playing-3yFx8jo"}},function(e,t,n){e.exports={"logo-xibalba":"logo-xibalba-2HmhmSw",logoXibalba:"logo-xibalba-2HmhmSw",text:"text-2aYUoFO"}},function(e,t,n){e.exports={"home-page":"home-page-2SkhppO",homePage:"home-page-2SkhppO","logo-xibalba":"logo-xibalba-1wIZHhU",logoXibalba:"logo-xibalba-1wIZHhU"}},function(e,t,n){e.exports={"dob-input-field":"dob-input-field-3YyE0zM",dobInputField:"dob-input-field-3YyE0zM","input-field":"input-field-92q3G66",inputField:"input-field-92q3G66","day-input":"day-input-3of9cqX",dayInput:"day-input-3of9cqX","month-input":"month-input-2sFNmr5",monthInput:"month-input-2sFNmr5","year-input":"year-input-2bgg9gf",yearInput:"year-input-2bgg9gf"}},function(e,t,n){e.exports={"logo-victoria":"logo-victoria-1ZbXag3",logoVictoria:"logo-victoria-1ZbXag3","is-blurred":"is-blurred-8D5dvMH",isBlurred:"is-blurred-8D5dvMH","is-hidden":"is-hidden-22ptRoG",isHidden:"is-hidden-22ptRoG"}},function(e,t,n){e.exports={element:"element-Thn60c8",container:"container-1d3hvEh",text:"text-FGUx78h",icon:"icon-1K6hvvQ","is-large":"is-large-1ldSK8N",isLarge:"is-large-1ldSK8N"}},function(e,t,n){e.exports={"age-gate-page":"age-gate-page-1Sb4dVU",ageGatePage:"age-gate-page-1Sb4dVU","logo-victoria":"logo-victoria-1fxcVlR",logoVictoria:"logo-victoria-1fxcVlR","logo-xibalba":"logo-xibalba-EXydlmo",logoXibalba:"logo-xibalba-EXydlmo",title:"title-NaUo2HU",copy:"copy-cTF08RP","dob-input-field":"dob-input-field-xlF3Z5-",dobInputField:"dob-input-field-xlF3Z5-","checkbox-holder":"checkbox-holder-2PyzdY-",checkboxHolder:"checkbox-holder-2PyzdY-",checkbox:"checkbox-1BoL8x1","button-holder":"button-holder-2V-5ybW",buttonHolder:"button-holder-2V-5ybW",disclaimer:"disclaimer-aMPBRbp","submit-button":"submit-button-1wJ2kyM",submitButton:"submit-button-1wJ2kyM"}},function(e,t,n){e.exports={element:"element-dhEUnea",container:"container-2R9sgMH",text:"text-2ft1rZD",icon:"icon-uMheVtB"}},function(e,t,n){e.exports={"primary-input-field":"primary-input-field-2SmTJEZ",primaryInputField:"primary-input-field-2SmTJEZ"}},function(e,t,n){e.exports={"register-page":"register-page-12MbQeC",registerPage:"register-page-12MbQeC","logo-xibalba":"logo-xibalba-2wERN7P",logoXibalba:"logo-xibalba-2wERN7P",title:"title-2qQO--J",copy:"copy-2tXedE6",form:"form-2u2Gy5w","question-list":"question-list-1OVPzqH",questionList:"question-list-1OVPzqH","question-list-item":"question-list-item-3nHKdby",questionListItem:"question-list-item-3nHKdby",options:"options-1LxgMr5",question:"question-2QRT3ki","radio-button":"radio-button-3meK6H0",radioButton:"radio-button-3meK6H0","checkbox-holder":"checkbox-holder-2eAlERt",checkboxHolder:"checkbox-holder-2eAlERt",buttons:"buttons-3iKDouC","input-field":"input-field-3CfchRU",inputField:"input-field-3CfchRU","field-row":"field-row-2HRWipc",fieldRow:"field-row-2HRWipc","input-holder":"input-holder-MRJ26VI",inputHolder:"input-holder-MRJ26VI"}},function(e,t,n){e.exports={"dasharray-circle-button":"dasharray-circle-button-2YMXFMb",dasharrayCircleButton:"dasharray-circle-button-2YMXFMb",button:"button-3-X7AK5",facebook:"facebook-1DHCYJQ",icon:"icon-35gnIah",twitter:"twitter-1yYipVr"}},function(e,t,n){e.exports={"share-block":"share-block-2qtAlrG",shareBlock:"share-block-2qtAlrG",divider:"divider-1h24PoR","splatter-right":"splatter-right-160v6md",splatterRight:"splatter-right-160v6md","splatter-left":"splatter-left-2yjpseA",splatterLeft:"splatter-left-2yjpseA","leaf-left":"leaf-left-26tAE2A",leafLeft:"leaf-left-26tAE2A","leaf-right":"leaf-right-7iZ0lTU",leafRight:"leaf-right-7iZ0lTU",copy:"copy-r3LcTaJ"}},function(e,t,n){e.exports={"primary-link":"primary-link-2xC2FBD",primaryLink:"primary-link-2xC2FBD",button:"button-12LIEcR"}},function(e,t,n){e.exports={"thankyou-page":"thankyou-page-1-aHQDg",thankyouPage:"thankyou-page-1-aHQDg","logo-xibalba":"logo-xibalba-aI0wQFI",logoXibalba:"logo-xibalba-aI0wQFI",title:"title-yE1_jWz",copy:"copy-bdBG0Qj","share-block-wrapper":"share-block-wrapper-1YQbQmx",shareBlockWrapper:"share-block-wrapper-1YQbQmx","back-link":"back-link-PtGXieY",backLink:"back-link-PtGXieY"}},function(e,t,n){e.exports={"webgl-page":"webgl-page-1DO0Keu",webglPage:"webgl-page-1DO0Keu"}},function(e,t,n){e.exports={"primary-square-button":"primary-square-button-3MFtPvp",primarySquareButton:"primary-square-button-3MFtPvp",button:"button-1hmgden","icon-facebook":"icon-facebook-k909IsH",iconFacebook:"icon-facebook-k909IsH","icon-twitter":"icon-twitter-2Xhw18V",iconTwitter:"icon-twitter-2Xhw18V"}},function(e,t,n){e.exports={"share-list":"share-list-gm-93up",shareList:"share-list-gm-93up","list-item":"list-item-BLKNV-R",listItem:"list-item-BLKNV-R"}},function(e,t,n){e.exports={"site-footer":"site-footer-2dcEhgh",siteFooter:"site-footer-2dcEhgh","share-list":"share-list-2IZNPrF",shareList:"share-list-2IZNPrF",container:"container-jZUU_XL","menu-list":"menu-list-75xHYIj",menuList:"menu-list-75xHYIj","menu-list-item":"menu-list-item-1Q78PQP",menuListItem:"menu-list-item-1Q78PQP",disclaimer:"disclaimer-UkPQcHu"}},function(e,t,n){e.exports={notification:"notification-3NZbhze",mask:"mask-HA8rHcv","inner-content":"inner-content-kcluSLs",innerContent:"inner-content-kcluSLs",background:"background-3qJy-y0",title:"title-3zA_cGA",copy:"copy-bzlRjq_","button-holder":"button-holder-1CIOFC1",buttonHolder:"button-holder-1CIOFC1",button:"button-35eG7V7"}},function(e,t,n){e.exports={"hamburger-button":"hamburger-button-1EKxsR1",hamburgerButton:"hamburger-button-1EKxsR1","is-active":"is-active-3wqB4xi",isActive:"is-active-3wqB4xi"}},function(e,t,n){e.exports={app:"app-eX7W9uA","menu-is-open":"menu-is-open-3uYX3gR",menuIsOpen:"menu-is-open-3uYX3gR","scroll-container":"scroll-container-23LpSZ5",scrollContainer:"scroll-container-23LpSZ5","scroll-wrapper":"scroll-wrapper-TxiQgZb",scrollWrapper:"scroll-wrapper-TxiQgZb","logo-victoria":"logo-victoria-26a4DN4",logoVictoria:"logo-victoria-26a4DN4",page:"page-hlA_4Jb",background:"background-y8YyH6-","share-list":"share-list-1dFYh_H",shareList:"share-list-1dFYh_H"}},function(e,t,n){"use strict";var i=n(35),r=n.n(i),a=n(165),s=n(29),o=n(7),l=n(37),u=n(69),c=n(379),h=n(161),d=n(381),f=n(0),v=n.n(f),_=n(1),p=n.n(_),m=n(4),y=n.n(m),E=n(2),g=n.n(E),T=n(9),A=n.n(T),R=n(5),b=n.n(R),k=function(){function e(){v()(this,e),this.isDestructed=!1}return p()(e,[{key:"destruct",value:function(){this.isDestructed?console.error("Cannot destruct twice"):this.isDestructed=!0}}]),e}(),x=function(e){function t(){var e;return v()(this,t),(e=y()(this,g()(t).call(this)))._loadsRequested=[],e._loadsCompleted=0,e._progress=0,e._isLoading=!1,e._callbackPerPreloadable=[],e}return b()(t,e),p()(t,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._loadsRequested.push(e)-1;return this._callbackPerPreloadable.push(t),this.isLoading()&&this.startLoader(n),e}},{key:"load",value:function(e,t){this._callback=e,this._progressCallBack=t,this.loadAll()}},{key:"isLoading",value:function(){return this._isLoading}},{key:"loadAll",value:function(){if(0!==this._loadsRequested.length){this._isLoading=!0;for(var e=0;e<this._loadsRequested.length;e++)this.startLoader(e)}else this.loadDoneCallback()}},{key:"setCallbackForPreloadable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._callbackPerPreloadable[this.getIndexOfPreloadable(e)]=t}},{key:"getIndexOfPreloadable",value:function(e){return this._loadsRequested.indexOf(e)}},{key:"startLoader",value:function(e){var t=this;this._loadsRequested[e].load(function(){var n=t._callbackPerPreloadable[e];n&&n(),t.loadDoneCallback()})}},{key:"loadDoneCallback",value:function(){this._loadsCompleted++,this._progress+=(1-this._progress)/(1+this._loadsRequested.length-this._loadsCompleted),this._progressCallBack&&(this._loadsRequested.length?this._progressCallBack.call(this,this._progress):this._progressCallBack.call(this,1)),this._loadsCompleted>=this._loadsRequested.length&&(this._isLoading=!1,this._callback&&(this._callback.call(this),this._callback=null))}},{key:"destruct",value:function(){this._callback=null,A()(g()(t.prototype),"destruct",this).call(this)}}]),t}(k),M=function(e){function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v()(this,t),(i=y()(this,g()(t).call(this))).dataName=null,i.exposed=!1,i.name=n,i.parent=e,i._callback=a,i._materials=r||[],i}return b()(t,e),p()(t,[{key:"expose",value:function(){this.exposed=!0}},{key:"getValue",value:function(){return this._value}},{key:"setUpdateUICallback",value:function(e){this._updateUIcallback=e}},{key:"setChangeCallback",value:function(e){this._callback=e}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e!==this._value&&(this._value=e,this.setShaderUniform(e),this._callback&&n&&this._callback(this._value),!t&&this._updateUIcallback&&this._updateUIcallback.call(this,this.getValue()))}},{key:"setFromUI",value:function(e){this.setValue(e,!0)}},{key:"setShaderUniform",value:function(e){console.log("warning: override this")}}]),t}(k),N=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return v()(this,t),y()(this,g()(t).call(this,e,n,null,i))}return b()(t,e),p()(t,[{key:"getValue",value:function(){return this._callback}}]),t}(M),S=function(e){function t(e,n,i){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return v()(this,t),(r=y()(this,g()(t).call(this,e,null!==s?s:n,a,o))).setValue(i,!1,!1),r}return b()(t,e),p()(t,[{key:"setShaderUniform",value:function(e){for(var t=0;t<this._materials.length;t++)this._materials[t].setFloat(this.name,!0===e?1:0)}}]),t}(M),F=n(6),C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;v()(this,e),this.v=F.e.fromValues(t,n,i)}return p()(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.z)}},{key:"copy",value:function(e){return F.e.copy(this.v,e.v),this}},{key:"setValues",value:function(e,t,n){return F.e.set(this.v,e,t,n),this}},{key:"length",value:function(){return F.e.length(this.v)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.z+")"}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"normalize",value:function(){return F.e.normalize(this.v,this.v),this}},{key:"negate",value:function(){return F.e.negate(this.v,this.v),this}},{key:"multiplyScalar",value:function(e){return F.e.scale(this.v,this.v,e),this}},{key:"multiply",value:function(e){return F.e.multiply(this.v,this.v,e.v),this}},{key:"divide",value:function(e){return F.e.divide(this.v,this.v,e.v),this}},{key:"add",value:function(e){return F.e.add(this.v,this.v,e.v),this}},{key:"subtract",value:function(e){return F.e.subtract(this.v,this.v,e.v),this}},{key:"subtractScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"rotateX",value:function(e,t){return F.e.rotateX(this.v,this.v,e.v,t),this}},{key:"rotateY",value:function(e,t){return F.e.rotateY(this.v,this.v,e.v,t),this}},{key:"transform",value:function(e){return F.e.transformMat4(this.v,this.v,e),this}},{key:"transformMat3",value:function(e){return F.e.transformMat3(this.v,this.v,e),this}},{key:"randomize",value:function(){return this.x=2*Math.random()-1,this.y=2*Math.random()-1,this.z=2*Math.random()-1,this}},{key:"randomize01",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomizeSphere",value:function(){do{this.randomize()}while(this.length()>1);return this}},{key:"smoothstep",value:function(){return this.x=e.smoothstep1(this.x),this.y=e.smoothstep1(this.y),this.z=e.smoothstep1(this.z),this}},{key:"min",value:function(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z)}},{key:"max",value:function(e){this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z)}},{key:"x",get:function(){return this.v[0]},set:function(e){this.v[0]=e}},{key:"y",get:function(){return this.v[1]},set:function(e){this.v[1]=e}},{key:"z",get:function(){return this.v[2]},set:function(e){this.v[2]=e}}],[{key:"smoothstep1",value:function(e){return e*e*(3-2*e)}},{key:"dot",value:function(e,t){return F.e.dot(e.v,t.v)}},{key:"distance",value:function(e,t){return F.e.distance(e.v,t.v)}},{key:"multiplyScalar",value:function(e,t,n){return e.x=t.x*n,e.y=t.y*n,e.z=t.z*n,e}},{key:"cross",value:function(e,t,n){return F.e.cross(e.v,t.v,n.v),e}},{key:"add",value:function(e,t,n){return F.e.add(e.v,t.v,n.v),e}},{key:"subtract",value:function(e,t,n){return F.e.subtract(e.v,t.v,n.v),e}},{key:"lerp",value:function(e,t,n,i){return F.e.lerp(e.v,t.v,n.v,i),e}},{key:"fract",value:function(e,t){return e.x=t.x-Math.floor(t.x),e.y=t.y-Math.floor(t.y),e.x=t.z-Math.floor(t.z),e}},{key:"floor",value:function(e,t){return F.e.floor(e.v,t.v),e}},{key:"bezier",value:function(e,t,n,i,r,a){F.e.bezier(e.v,t.v,n.v,i.v,r.v,a)}}]),e}();C.ZERO=new C,C.RIGHT=new C(1,0,0),C.UP=new C(0,1,0),C.FORWARD=new C(0,0,1),C.ONE=new C(1,1,1);var P=C,L=function(e){function t(e,n,i){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5?arguments[5]:void 0;v()(this,t),(r=y()(this,g()(t).call(this,e,null!==s?s:n,a,o)))._uniforms=[],r._color=new P;for(var l=0;l<r._materials.length;l++)r._uniforms[l]=r._materials[l].addVector3Uniform(n,r._color);return r.setValue([255*i.x,255*i.y,255*i.z]),r}return b()(t,e),p()(t,[{key:"getValueVector3",value:function(){return this._color}},{key:"convertColorToArray",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:e}},{key:"setValue",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e instanceof P?this._color.copy(e):(e=this.convertColorToArray(e),this._color.setValues(e[0]/255,e[1]/255,e[2]/255)),A()(g()(t.prototype),"setValue",this).call(this,[255*this._color.x,255*this._color.y,255*this._color.z],n)}},{key:"setShaderUniform",value:function(e){for(var t=0;t<this._uniforms.length;t++)this._uniforms[t].set(this._color)}}]),t}(M),I=function(){function e(){v()(this,e)}return p()(e,null,[{key:"posMod",value:function(e,t){return(e%t+t)%t}},{key:"fract",value:function(e){return e-Math.floor(e)}},{key:"lerp",value:function(e,t,n){return(1-n)*e+n*t}},{key:"clamp01",value:function(e){return e<0?0:e>1?1:e}},{key:"gain01",value:function(e,t){return e>.5?1-.5*Math.pow(2-2*e,t):.5*Math.pow(2*e,t)}},{key:"smootherStep01",value:function(e){return e*e*e*(e*(6*e-15)+10)}},{key:"smoothStep01",value:function(t){return(t=e.clamp(t,0,1))*t*(3-2*t)}},{key:"invSmoothStep01",value:function(e){return e+(e-e*e*(3-2*e))}},{key:"smoothStep",value:function(t,n,i){return(i=e.clamp((i-t)/(n-t),0,1))*i*(3-2*i)}},{key:"step",value:function(t,n,i){return e.clamp01((i-t)/(n-t))}},{key:"nearestPowerOfTwo",value:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.log(2)))}},{key:"smallerPowerOfTwo",value:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.log(2)))}},{key:"clamp",value:function(e,t,n){return Math.min(Math.max(e,t),n)}},{key:"degToRad",value:function(e){return e*(Math.PI/180)}},{key:"radToDeg",value:function(e){return e*(180/Math.PI)}},{key:"latLongToCartesian",value:function(e,t,n,i){var r=this.degToRad(t),a=this.degToRad(n)+Math.PI;return e.z=i*Math.cos(r)*Math.cos(a),e.x=i*Math.cos(r)*Math.sin(a),e.y=i*Math.sin(r),e}}]),e}(),w=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return v()(this,t),(e=y()(this,g()(t).call(this)))._finished=!1,e._easeInOut=!1,e._isUpdating=!1,e._update=function(){return e.update()},e.value=n,e}return b()(t,e),p()(t,[{key:"to",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.goal=e,this.progress=0,this.startValue=this.value,this._duration=1e3*t,this._t0=+new Date,this._finished=!1,this._completeCallback=i,this._animateCallback=n,this._easeInOut=r,this._isUpdating||this.update()}},{key:"fromTo",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.value=e,this.to(t,n,i,r,a)}},{key:"stop",value:function(){this._finished=!0,this._completeCallback=null,this._animateCallback=null}},{key:"update",value:function(){if(void 0===this._t0||void 0===this._duration||void 0===this.startValue||void 0===this.goal)throw new Error("cannot update: Tween not started. Call Tween.to or Tween.fromTo first");if(this._isUpdating=!1,!this.isDestructed&&!this._finished)if(this.progress=(+new Date-this._t0)/this._duration,this.progress>1&&(this.progress=1),this.easedProgress=this.progress,this._easeInOut&&(this.easedProgress=I.smoothStep01(this.easedProgress)),this.value=I.lerp(this.startValue,this.goal,this.easedProgress),this._animateCallback&&this._animateCallback.call(this,this.value),this.progress>=1){if(this._finished=!0,this._completeCallback){var e=this._completeCallback;this._completeCallback=null,e.call(this)}}else this._isUpdating=!0,window.requestAnimationFrame(this._update)}}]),t}(k),O=function(e){function t(e,n,i){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;v()(this,t),(r=y()(this,g()(t).call(this,e,null!==l?l:n,o,u)))._floatUniforms=[];for(var c=0;c<r._materials.length;c++)r._floatUniforms[c]=r._materials[c].addFloatUniform(n,i);return r.min=a,r.max=s,r.max<i&&(r.max=2*i),r.min>i&&(r.min=i-1),r.setValue(i,!1,!1),r}return b()(t,e),p()(t,[{key:"setValue",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=I.clamp(e,this.min,this.max),A()(g()(t.prototype),"setValue",this).call(this,e,n,i)}},{key:"setShaderUniform",value:function(e){for(var t=0;t<this._floatUniforms.length;t++)this._floatUniforms[t].set(e)}},{key:"to",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._tween||(this._tween=new w),i?this._tween.fromTo(this.getValue(),e,t,function(e){return n.setValue(e)},function(){return i()}):this._tween.fromTo(this.getValue(),e,t,function(e){return n.setValue(e)})}},{key:"destruct",value:function(){if(this._floatUniforms){for(var e=0;e<this._floatUniforms.length;e++)this._floatUniforms[e].destruct();this._floatUniforms=[]}this._tween&&(this._tween.destruct(),delete this._tween),A()(g()(t.prototype),"destruct",this).call(this)}}]),t}(M),B=function(e){function t(e,n,i){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;v()(this,t),(r=y()(this,g()(t).call(this,e,null!==l?l:n,o,u)))._floatUniforms=[];for(var c=0;c<r._materials.length;c++)r._floatUniforms[c]=r._materials[c].addFloatUniform(n,i);return r.min=a,r.max=s,r.max<i&&(r.max=2*i),r.min>i&&(r.min=i-1),r.setValue(i),r}return b()(t,e),p()(t,[{key:"setShaderUniform",value:function(e){for(var t=0;t<this._floatUniforms.length;t++)this._floatUniforms[t].set(e)}}]),t}(M),D=function(e){function t(){var e;return v()(this,t),(e=y()(this,g()(t).call(this))).params=[],e.children=[],e}return b()(t,e),p()(t,[{key:"addGroup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new t;return r.init(e,n,i),this.children.push(r),r}},{key:"removeGroup",value:function(e){var t=null,n=!0,i=!1,r=void 0;try{for(var a,s=this.children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;if(console.log("checking",o.name,e),o.name===e){t=o;break}}}catch(l){i=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}t&&this.children.splice(this.children.indexOf(t),1)}},{key:"removeAllGroups",value:function(){this.children=[]}},{key:"pushGroup",value:function(e){this.children.push(e)}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.name=e,this.collapsed=n,this.materials=t?[].concat(t):[]}},{key:"addParamFloat",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=new O(this,e,t,n,i,[],null,r);return this.params.push(a),a}},{key:"addShaderParamFloat",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this.materials&&0!=this.materials.length||console.warn("Adding shader param to param group that has no materials",e);var s=new O(this,e,t,n,i,this.materials,r,a);return this.params.push(s),s}},{key:"addParamInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=new B(this,e,t,n,i,null,null,r);return this.params.push(a),a}},{key:"addShaderParamInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this.materials&&0!=this.materials.length||console.warn("Adding shader param to param group that has no materials");var s=new B(this,e,t,n,i,this.materials,r,a);return this.params.push(s),s}},{key:"addParamBool",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=new S(this,e,t,null,null,n);return this.params.push(i),i}},{key:"addShaderParamBool",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.materials&&0!=this.materials.length||console.warn("Adding shader param to param group that has no materials");var r=new S(this,e,t,this.materials,n,i);return this.params.push(r),r}},{key:"addParamColor",value:function(e,t,n){var i=new L(this,e,t,[],null,n);return this.params.push(i),i}},{key:"addShaderParamColor",value:function(e,t,n,i){this.materials&&0!=this.materials.length||console.warn("Adding shader param to param group that has no materials");var r=new L(this,e,t,this.materials,n,i);return this.params.push(r),r}},{key:"addButton",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new N(this,e,t);return this.params.push(n),n}},{key:"getParameters",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,a=this.children[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var s=r.value;e=e.concat(s.getParameters())}}catch(f){n=!0,i=f}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}var o=!0,l=!1,u=void 0;try{for(var c,h=this.params[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;e.push(d)}}catch(f){l=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(l)throw u}}return e}},{key:"destruct",value:function(){if(this.params)for(var e=0;e<this.params.length;e++)this.params[e].isDestructed||this.params[e].destruct();if(this.children)for(var n=0;n<this.children.length;n++)this.children[n].isDestructed||this.children[n].destruct(),this.children[n].destruct();A()(g()(t.prototype),"destruct",this).call(this)}}],[{key:"exposeParam",value:function(e){e.expose()}}]),t}(k),U=n(32),V=n.n(U),G=n(382),H=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v()(this,t),(e=y()(this,g()(t).call(this)))._params={},e.folderIndex=-2,n&&n.add(V()(e)),e._jsonExportEnabled=i,e._params=r,e}return b()(t,e),p()(t,[{key:"load",value:function(e){e.call(this)}},{key:"init",value:function(e){this._rootGroup=e;var t={};this._gui=new G.a(this._params),this.readGroup(null,e,t,this._gui),this._jsonExportEnabled&&this._gui.remember(t),this.setVisible(!0)}},{key:"getDatGUI",value:function(){return this._gui}},{key:"setPreset",value:function(e){if(!this._gui)throw new Error("Cannot set preset: DatGui not initialized");this.folderIndex=-2,this.setPresetRecurse(this._gui.__folders.controls,e.remembered.Default)}},{key:"setPresetRecurse",value:function(e,t){this.folderIndex++;var n=t[this.folderIndex];if("undefined"!==typeof n){var i=!0,r=!1,a=void 0;try{for(var s,o=e.__controllers[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l=s.value,u=n[l.property];"undefined"!==typeof u&&l.setValue(u)}}catch(v){r=!0,a=v}finally{try{i||null==o.return||o.return()}finally{if(r)throw a}}}for(var c=Object.keys(e.__folders),h=0;h<c.length;h++){var d=c[h],f=e.__folders[d];this.setPresetRecurse(f,t)}}},{key:"readGroup",value:function(e,t,n,i){if(!t.name)throw new Error("group name not initialized");if(!this._gui)throw new Error("cannot read group: DatGui not initialized");var r=this.uniqueName(i.__folders,t.name);t.uniqueName=r;var a=i.addFolder(r);t.collapsed||a.open();var s=!0,o=!1,l=void 0;try{for(var u,c=t.params[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var h=u.value;h.dataName=this.uniqueName(n,h.name);var d=h.dataName;void 0==n[d]?n[d]=h.getValue():console.log("property "+d+" already exists on param object",n);var f=void 0;if(h instanceof O){var v=h;f=a.add(n,d,v.min,v.max)}if(h instanceof B){var _=h;f=a.add(n,d,_.min,_.max).step(1)}if(h instanceof S&&(f=a.add(n,d)),h instanceof N&&(f=a.add(n,d)),h instanceof L&&(f=a.addColor(n,d)),!(h instanceof N)){if(void 0===f)throw new TypeError("Unknown type of parameter");this.addHandlers(f,n,h)}}}catch(R){o=!0,l=R}finally{try{s||null==c.return||c.return()}finally{if(o)throw l}}var p=!0,m=!1,y=void 0;try{for(var E,g=t.children[Symbol.iterator]();!(p=(E=g.next()).done);p=!0){var T=E.value,A={};this._jsonExportEnabled&&this._gui.remember(A),this.readGroup(t,T,A,a)}}catch(R){m=!0,y=R}finally{try{p||null==g.return||g.return()}finally{if(m)throw y}}}},{key:"uniqueName",value:function(e,t){return t in e?this.uniqueName(e,"U_"+t):t}},{key:"addHandlers",value:function(e,t,n){n.setUpdateUICallback(function(e){t[n.dataName]=e}),e.listen(),e.onChange(function(e){t[n.dataName]=e,n.setFromUI(e)}),e.onFinishChange=function(e){return n.setFromUI(e)}}},{key:"setVisible",value:function(e){if(!this._gui)throw new Error("cannot set visible: DatGui not initialized");this._visible=e,this._gui.domElement.parentElement&&(this._gui.domElement.parentElement.style.zIndex=(e?999:0).toString(),this._gui.domElement.parentElement.style.visibility=(e?"visible":"hidden").toString())}},{key:"destruct",value:function(){this._gui&&(this._gui.domElement.parentElement&&this._gui.domElement.parentElement.removeChild(this._gui.domElement),delete this._gui),A()(g()(t.prototype),"destruct",this).call(this)}}]),t}(k),$=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v()(this,e),this.v=F.d.fromValues(t,n)}return p()(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copy",value:function(e){return F.d.copy(this.v,e.v),this}},{key:"setValues",value:function(e,t){return F.d.set(this.v,e,t),this}},{key:"length",value:function(){return F.d.length(this.v)}},{key:"toString",value:function(){return this.x+","+this.y}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"normalize",value:function(){return F.d.normalize(this.v,this.v),this}},{key:"negate",value:function(){return F.d.negate(this.v,this.v),this}},{key:"multiplyScalar",value:function(e){return F.d.scale(this.v,this.v,e),this}},{key:"multiply",value:function(e){return F.d.multiply(this.v,this.v,e.v),this}},{key:"add",value:function(e){return F.d.add(this.v,this.v,e.v),this}},{key:"subtract",value:function(e){return F.d.subtract(this.v,this.v,e.v),this}},{key:"subtractScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"rotate",value:function(e,t){var n=Math.sin(t),i=Math.cos(t);this.x-=e.x,this.y-=e.y;var r=this.x*i-this.y*n,a=this.x*n+this.y*i;return this.x=r+e.x,this.y=a+e.y,this}},{key:"x",get:function(){return this.v[0]},set:function(e){this.v[0]=e}},{key:"y",get:function(){return this.v[1]},set:function(e){this.v[1]=e}}],[{key:"dot",value:function(e,t){return F.d.dot(e.v,t.v)}},{key:"distance",value:function(e,t){return F.d.distance(e.v,t.v)}},{key:"multiplyScalar",value:function(e,t,n){return e.x=t.x*n,e.y=t.y*n,e}},{key:"cross",value:function(e,t,n){return F.d.cross(e.v,t.v,n.v),e}},{key:"add",value:function(e,t,n){return F.d.add(e.v,t.v,n.v),e}},{key:"subtract",value:function(e,t,n){return F.d.subtract(e.v,t.v,n.v),e}},{key:"lerp",value:function(e,t,n,i){return F.d.lerp(e.v,t.v,n.v,i),e}},{key:"fract",value:function(t,n){return e.subtract(n,e.floor(t,n),t),t}},{key:"floor",value:function(e,t){return e.x=Math.floor(t.x),e.y=Math.floor(t.y),e}}]),e}();$.ZERO=new $(0,0);var X=$,z=function(e){function t(e){var n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return v()(this,t),(n=y()(this,g()(t).call(this)))._pixelRatio=1,n._needsResize=!1,n._resizeInterval=30,n._resizeWait=0,n._canvasParent=e,n._autoResize=i,e||(n._autoResize=!1),n._manualResizeUpdate=!1,n.canvas=n.prepareCanvas(e),window.devicePixelRatio?n._pixelRatio=window.devicePixelRatio:n._pixelRatio=1,n._autoResize&&n.handleResize(),n}return b()(t,e),p()(t,[{key:"getCanvas",value:function(){return this.canvas}},{key:"prepareCanvas",value:function(e){var t=document.createElement("canvas");return t.setAttribute("id","canvas"),t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.zIndex="1",this._canvasParent&&(t.style.width=this._canvasParent.offsetWidth+"px",t.style.height=this._canvasParent.offsetHeight+"px"),e&&e.appendChild(t),this._autoResize&&(this._resizeHandler=this.handleResize.bind(this),window.addEventListener("resize",this._resizeHandler)),t}},{key:"setSize",value:function(e,t){this._goalWidth==e&&this._goalHeight==t||this._autoResize&&(this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler),this._autoResize=!1),this._goalWidth=e,this._goalHeight=t,this.delayedResize()}},{key:"setMaxResolution",value:function(e){this._maxResolution=(new X).copy(e),this.delayedResize()}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this.delayedResize()}},{key:"setAutoResize",value:function(e){this._autoResize=e,this._resizeHandler&&(this._autoResize?(window.addEventListener("resize",this._resizeHandler),this.handleResize()):window.removeEventListener("resize",this._resizeHandler))}},{key:"getPixelRatio",value:function(){return this._pixelRatio}},{key:"getParentHeight",value:function(){return null===this._canvasParent?null:this._canvasParent.offsetHeight}},{key:"getAspectRatio",value:function(){return this.canvas.width/this.canvas.height}},{key:"handleResize",value:function(){var e=this;if(this._canvasParent){var t=this._canvasParent.offsetWidth,n=this._canvasParent.offsetHeight;(this._goalWidth!==t||this._goalHeight!==n||this._needsResize)&&(this._goalWidth=t,this._goalHeight=n,this._manualResizeUpdate||(clearTimeout(this._resizeTimeOut),this._resizeTimeOut=setTimeout(function(){return e.delayedResize()},100)))}}},{key:"updateResize",value:function(){this._manualResizeUpdate=!0,this.handleResize(),this.delayedResize()}},{key:"delayedResize",value:function(){if(!this.isDestructed){if(this._needsResize=!1,void 0===this._goalWidth||void 0===this._goalHeight)throw new ReferenceError("canvas size not yet set");if(this._maxResolution){var e=window.devicePixelRatio?window.devicePixelRatio:1,t=Math.min(this._maxResolution.x/this._goalWidth,this._maxResolution.y/this._goalHeight);this._pixelRatio=t<e?t/e:e}this.canvas.width=this._goalWidth*this._pixelRatio,this.canvas.height=this._goalHeight*this._pixelRatio,this._autoResize&&this._canvasParent?(this.canvas.style.width=this._canvasParent.offsetWidth+"px",this.canvas.style.height=this._canvasParent.offsetHeight+"px"):(this.canvas.style.width=this._goalWidth+"px",this.canvas.style.height=this._goalHeight+"px");var n=document.createEvent("Event");n.initEvent("resize",!1,!0),this.canvas.dispatchEvent(n)}}},{key:"forceResize",value:function(){if(!this._canvasParent)throw new ReferenceError("canvas has no parent");if(this._resizeWait--,this._resizeWait<=0){this._resizeWait=this._resizeInterval;var e=this._canvasParent.offsetWidth,t=this._canvasParent.offsetHeight;if(this.canvas.width!=e*this._pixelRatio||this.canvas.height!=t*this._pixelRatio){this.canvas.width=e*this._pixelRatio,this.canvas.height=t*this._pixelRatio;var n=document.createEvent("Event");n.initEvent("resize",!1,!0),this.canvas.dispatchEvent(n)}this.canvas.style.width==e+"px"&&this.canvas.style.height==t+"px"||(this.canvas.style.width=e+"px",this.canvas.style.height=t+"px")}}},{key:"destruct",value:function(){this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler),this.canvas.width=1,this.canvas.height=1,this._canvasParent&&this._canvasParent.removeChild(this.canvas),A()(g()(t.prototype),"destruct",this).call(this)}},{key:"canvasParent",get:function(){return this._canvasParent}}]),t}(k),q=function(){function e(){v()(this,e)}return p()(e,null,[{key:"log",value:function(){if(e.ENABLED){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];console.log(n)}}},{key:"error",value:function(){if(e.ENABLED){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];console.error(n)}}},{key:"getScreenLogDiv",value:function(){return e._screenLogDiv||(e._screenLogDiv=e.createDebugDiv()),e._screenLogDiv}},{key:"logToScreen",value:function(t){e.ENABLED&&(e._screenLogDiv||(e._screenLogDiv=e.createDebugDiv()),e._screenLogDiv.innerHTML=t)}},{key:"logAppendToScreen",value:function(t){e.ENABLED&&(e._screenLogDiv||(e._screenLogDiv=e.createDebugDiv()),e._screenLogDiv.innerHTML+=t)}},{key:"logArray",value:function(t){if(e.ENABLED){for(var n=t.length,i="",r=0;r<n;r++)i+=t[r],i+=",";i=i.substring(0,i.length-1),console.log(i)}}},{key:"log2dArray",value:function(t){if(e.ENABLED){for(var n=t.length,i="",r=0;r<n;r++)for(var a=0;a<t[r].length;a++)i+=t[r][a],i+=",";i=i.substring(0,i.length-1),console.log(i)}}},{key:"createDebugDiv",value:function(){var e=document.createElement("div");return document.body.appendChild(e),e.style.position="absolute",e.style.left="160px",e.style.top="0px",e.style.color="#fff",e.style.backgroundColor="#000",e.style.display="block",e.style.width="158px",e.style.height="94px",e.style.padding="1px",e.style.font="10px Helvetica,Arial,sans-serif",e.style.lineHeight="14px",e.style.zIndex="1000",e}}]),e}();q.ENABLED=!0;var j=q,W=function e(t){v()(this,e),this.MAX_VERTEX_ATTRIBS=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.MAX_VARYING_VECTORS=t.getParameter(t.MAX_VARYING_VECTORS),this.MAX_VERTEX_UNIFORM_VECTORS=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),this.MAX_FRAGMENT_UNIFORM_VECTORS=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),this.MAX_TEXTURE_IMAGE_UNITS=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.MAX_VERTEX_TEXTURE_IMAGE_UNITS=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.MAX_TEXTURE_SIZE=t.getParameter(t.MAX_TEXTURE_SIZE),this.MAX_CUBE_MAP_TEXTURE_SIZE=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),this.MAX_VIEWPORT_DIMS=t.getParameter(t.MAX_VIEWPORT_DIMS),this.MAX_RENDERBUFFER_SIZE=t.getParameter(t.MAX_RENDERBUFFER_SIZE),this.MAX_COMBINED_TEXTURE_IMAGE_UNITS=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);var n=t.getExtension("WEBGL_debug_renderer_info");for(var i in this.UNMASKED_RENDERER=n&&t.getParameter(n.UNMASKED_RENDERER_WEBGL),this.UNMASKED_VENDOR=n&&t.getParameter(n.UNMASKED_VENDOR_WEBGL),this)this.hasOwnProperty(i)&&j.log(i,this[i])},Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;v()(this,e),this.v=F.f.fromValues(t,n,i,r)}return p()(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return F.f.set(this.v,e.x,e.y,e.z,e.w),this}},{key:"setValues",value:function(e,t,n,i){return F.f.set(this.v,e,t,n,i),this}},{key:"dot",value:function(e){return F.f.dot(this.v,e.v)}},{key:"transform",value:function(e){return F.f.transformMat4(this.v,this.v,e),this}},{key:"x",get:function(){return this.v[0]},set:function(e){this.v[0]=e}},{key:"y",get:function(){return this.v[1]},set:function(e){this.v[1]=e}},{key:"z",get:function(){return this.v[2]},set:function(e){this.v[2]=e}},{key:"w",get:function(){return this.v[3]},set:function(e){this.v[3]=e}}],[{key:"dot",value:function(e,t){return F.f.dot(e.v,t.v)}},{key:"transform",value:function(e,t,n){return F.f.transformMat4(e.v,t.v,n),e}}]),e}();Y.ZERO=new Y;var K=Y,Z=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return v()(this,t),y()(this,g()(t).call(this,e,n,i,r))}return b()(t,e),p()(t,[{key:"r",get:function(){return this.v[0]},set:function(e){this.v[0]=e}},{key:"g",get:function(){return this.v[1]},set:function(e){this.v[1]=e}},{key:"b",get:function(){return this.v[2]},set:function(e){this.v[2]=e}},{key:"a",get:function(){return this.v[3]},set:function(e){this.v[3]=e}}]),p()(t,[{key:"isEqualTo",value:function(e){return this.r==e.r&&this.g==e.g&&this.b==e.b&&this.a==e.a}},{key:"clampCeil",value:function(e){this.r>e&&(this.r=e),this.g>e&&(this.g=e),this.b>e&&(this.b=e),this.a>e&&(this.a=e)}},{key:"toRGBString",value:function(){return"rgb("+Math.round(255*this.r)+","+Math.round(255*this.g)+","+Math.round(255*this.b)+")"}},{key:"getHex",value:function(){return"#"+t.componentToHex(this.r)+t.componentToHex(this.g)+t.componentToHex(this.b)}},{key:"setRGBA255",value:function(e){this.r=e[0]/255,this.g=e[1]/255,this.b=e[2]/255,this.a=e[3],console.log("setRGBA255: ",e,this.r,this.g,this.b,this.a)}},{key:"getRGBA255",value:function(){return[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b),this.a]}},{key:"setFromHex",value:function(e){e=e.replace(/[^0-9A-F]/gi,"");var t=parseInt(e,16);this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this.a=1}},{key:"setFromHSV",value:function(e,t,n){var i=0,r=0,a=0,s=Math.floor(6*e),o=6*e-s,l=n*(1-t),u=n*(1-o*t),c=n*(1-(1-o)*t);switch(s%6){case 0:i=n,r=c,a=l;break;case 1:i=u,r=n,a=l;break;case 2:i=l,r=n,a=c;break;case 3:i=l,r=u,a=n;break;case 4:i=c,r=l,a=n;break;case 5:i=n,r=l,a=u}this.r=i,this.g=r,this.b=a}},{key:"getRgbaString",value:function(){return"rgba("+Math.round(255*this.r)+", "+Math.round(255*this.g)+", "+Math.round(255*this.b)+", "+this.a+")"}}],[{key:"componentToHex",value:function(e){var t=(e*=255).toString(16);return 1===t.length?"0"+t:t}},{key:"fromHex",value:function(e){var n=new t;return n.setFromHex(e),n}},{key:"fromRGB255",value:function(e){var n=new t;return n.setRGBA255(e),n}},{key:"getRandom",value:function(){return new t(Math.random(),Math.random(),Math.random())}},{key:"colorFromString",value:function(e){var n=[],i=[];i[0]=e.substr(0,Math.floor(e.length/3)),i[1]=e.substr(Math.floor(e.length/3),Math.floor(2*e.length/3)),i[2]=e.substr(Math.floor(2*e.length/3),e.length);for(var r=0;r<i.length;r++)for(var a=0;a<i[r].length;a++)r in n||(n[r]=0),n[r]+=i[r].charCodeAt(a);return new t(n[0]/128%1,n[1]/128%1,n[2]/128%1,1)}},{key:"fromHSV",value:function(e,n,i){var r=new t;return r.setFromHSV(e,n,i),r}}]),t}(K),Q=function e(){v()(this,e)};Q.ACTIVE_ATTRIBUTES=35721,Q.ACTIVE_ATTRIBUTE_MAX_LENGTH=35722,Q.ACTIVE_TEXTURE=34016,Q.ACTIVE_UNIFORMS=35718,Q.ACTIVE_UNIFORM_MAX_LENGTH=35719,Q.ALIASED_LINE_WIDTH_RANGE=33902,Q.ALIASED_POINT_SIZE_RANGE=33901,Q.ALPHA=6406,Q.ALPHA_BITS=3413,Q.ALWAYS=519,Q.ARRAY_BUFFER=34962,Q.ARRAY_BUFFER_BINDING=34964,Q.ATTACHED_SHADERS=35717,Q.BACK=1029,Q.BLEND=3042,Q.BLEND_COLOR=32773,Q.BLEND_DST_ALPHA=32970,Q.BLEND_DST_RGB=32968,Q.BLEND_EQUATION=32777,Q.BLEND_EQUATION_ALPHA=34877,Q.BLEND_EQUATION_RGB=32777,Q.BLEND_SRC_ALPHA=32971,Q.BLEND_SRC_RGB=32969,Q.BLUE_BITS=3412,Q.BOOL=35670,Q.BOOL_VEC2=35671,Q.BOOL_VEC3=35672,Q.BOOL_VEC4=35673,Q.BROWSER_DEFAULT_WEBGL=37444,Q.BUFFER_SIZE=34660,Q.BUFFER_USAGE=34661,Q.BYTE=5120,Q.CCW=2305,Q.CLAMP_TO_EDGE=33071,Q.COLOR_ATTACHMENT0=36064,Q.COLOR_BUFFER_BIT=16384,Q.COLOR_CLEAR_VALUE=3106,Q.COLOR_WRITEMASK=3107,Q.COMPILE_STATUS=35713,Q.COMPRESSED_TEXTURE_FORMATS=34467,Q.CONSTANT_ALPHA=32771,Q.CONSTANT_COLOR=32769,Q.CONTEXT_LOST_WEBGL=37442,Q.CULL_FACE=2884,Q.CULL_FACE_MODE=2885,Q.CURRENT_PROGRAM=35725,Q.CURRENT_VERTEX_ATTRIB=34342,Q.CW=2304,Q.DECR=7683,Q.DECR_WRAP=34056,Q.DELETE_STATUS=35712,Q.DEPTH_ATTACHMENT=36096,Q.DEPTH_BITS=3414,Q.DEPTH_BUFFER_BIT=256,Q.DEPTH_CLEAR_VALUE=2931,Q.DEPTH_COMPONENT=6402,Q.DEPTH_COMPONENT16=33189,Q.DEPTH_FUNC=2932,Q.DEPTH_RANGE=2928,Q.DEPTH_STENCIL=34041,Q.DEPTH_STENCIL_ATTACHMENT=33306,Q.DEPTH_TEST=2929,Q.DEPTH_WRITEMASK=2930,Q.DITHER=3024,Q.DONT_CARE=4352,Q.DST_ALPHA=772,Q.DST_COLOR=774,Q.DYNAMIC_DRAW=35048,Q.ELEMENT_ARRAY_BUFFER=34963,Q.ELEMENT_ARRAY_BUFFER_BINDING=34965,Q.EQUAL=514,Q.FASTEST=4353,Q.FLOAT=5126,Q.FLOAT_MAT2=35674,Q.FLOAT_MAT3=35675,Q.FLOAT_MAT4=35676,Q.FLOAT_VEC2=35664,Q.FLOAT_VEC3=35665,Q.FLOAT_VEC4=35666,Q.FRAGMENT_SHADER=35632,Q.FRAMEBUFFER=36160,Q.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,Q.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,Q.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,Q.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,Q.FRAMEBUFFER_BINDING=36006,Q.FRAMEBUFFER_COMPLETE=36053,Q.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,Q.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,Q.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,Q.FRAMEBUFFER_UNSUPPORTED=36061,Q.FRONT=1028,Q.FRONT_AND_BACK=1032,Q.FRONT_FACE=2886,Q.FUNC_ADD=32774,Q.FUNC_REVERSE_SUBTRACT=32779,Q.FUNC_SUBTRACT=32778,Q.GENERATE_MIPMAP_HINT=33170,Q.GEQUAL=518,Q.GREATER=516,Q.GREEN_BITS=3411,Q.HIGH_FLOAT=36338,Q.HIGH_INT=36341,Q.INCR=7682,Q.INCR_WRAP=34055,Q.INFO_LOG_LENGTH=35716,Q.INT=5124,Q.INT_VEC2=35667,Q.INT_VEC3=35668,Q.INT_VEC4=35669,Q.INVALID_ENUM=1280,Q.INVALID_FRAMEBUFFER_OPERATION=1286,Q.INVALID_OPERATION=1282,Q.INVALID_VALUE=1281,Q.INVERT=5386,Q.KEEP=7680,Q.LEQUAL=515,Q.LESS=513,Q.LINEAR=9729,Q.LINEAR_MIPMAP_LINEAR=9987,Q.LINEAR_MIPMAP_NEAREST=9985,Q.LINES=1,Q.LINE_LOOP=2,Q.LINE_STRIP=3,Q.LINE_WIDTH=2849,Q.LINK_STATUS=35714,Q.LOW_FLOAT=36336,Q.LOW_INT=36339,Q.LUMINANCE=6409,Q.LUMINANCE_ALPHA=6410,Q.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,Q.MAX_CUBE_MAP_TEXTURE_SIZE=34076,Q.MAX_FRAGMENT_UNIFORM_VECTORS=36349,Q.MAX_RENDERBUFFER_SIZE=34024,Q.MAX_TEXTURE_IMAGE_UNITS=34930,Q.MAX_TEXTURE_SIZE=3379,Q.MAX_VARYING_VECTORS=36348,Q.MAX_VERTEX_ATTRIBS=34921,Q.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,Q.MAX_VERTEX_UNIFORM_VECTORS=36347,Q.MAX_VIEWPORT_DIMS=3386,Q.MEDIUM_FLOAT=36337,Q.MEDIUM_INT=36340,Q.MIRRORED_REPEAT=33648,Q.NEAREST=9728,Q.NEAREST_MIPMAP_LINEAR=9986,Q.NEAREST_MIPMAP_NEAREST=9984,Q.NEVER=512,Q.NICEST=4354,Q.NONE=0,Q.NOTEQUAL=517,Q.NO_ERROR=0,Q.NUM_COMPRESSED_TEXTURE_FORMATS=34466,Q.ONE=1,Q.ONE_MINUS_CONSTANT_ALPHA=32772,Q.ONE_MINUS_CONSTANT_COLOR=32770,Q.ONE_MINUS_DST_ALPHA=773,Q.ONE_MINUS_DST_COLOR=775,Q.ONE_MINUS_SRC_ALPHA=771,Q.ONE_MINUS_SRC_COLOR=769,Q.OUT_OF_MEMORY=1285,Q.PACK_ALIGNMENT=3333,Q.POINTS=0,Q.POLYGON_OFFSET_FACTOR=32824,Q.POLYGON_OFFSET_FILL=32823,Q.POLYGON_OFFSET_UNITS=10752,Q.RED_BITS=3410,Q.RENDERBUFFER=36161,Q.RENDERBUFFER_ALPHA_SIZE=36179,Q.RENDERBUFFER_BINDING=36007,Q.RENDERBUFFER_BLUE_SIZE=36178,Q.RENDERBUFFER_DEPTH_SIZE=36180,Q.RENDERBUFFER_GREEN_SIZE=36177,Q.RENDERBUFFER_HEIGHT=36163,Q.RENDERBUFFER_INTERNAL_FORMAT=36164,Q.RENDERBUFFER_RED_SIZE=36176,Q.RENDERBUFFER_STENCIL_SIZE=36181,Q.RENDERBUFFER_WIDTH=36162,Q.RENDERER=7937,Q.REPEAT=10497,Q.REPLACE=7681,Q.RGB=6407,Q.RGB5_A1=32855,Q.RGB565=36194,Q.RGBA=6408,Q.RGBA4=32854,Q.SAMPLER_2D=35678,Q.SAMPLER_CUBE=35680,Q.SAMPLES=32937,Q.SAMPLE_ALPHA_TO_COVERAGE=32926,Q.SAMPLE_BUFFERS=32936,Q.SAMPLE_COVERAGE=32928,Q.SAMPLE_COVERAGE_INVERT=32939,Q.SAMPLE_COVERAGE_VALUE=32938,Q.SCISSOR_BOX=3088,Q.SCISSOR_TEST=3089,Q.SHADER_COMPILER=36346,Q.SHADER_SOURCE_LENGTH=35720,Q.SHADER_TYPE=35663,Q.SHADING_LANGUAGE_VERSION=35724,Q.SHORT=5122,Q.SRC_ALPHA=770,Q.SRC_ALPHA_SATURATE=776,Q.SRC_COLOR=768,Q.STATIC_DRAW=35044,Q.STENCIL_ATTACHMENT=36128,Q.STENCIL_BACK_FAIL=34817,Q.STENCIL_BACK_FUNC=34816,Q.STENCIL_BACK_PASS_DEPTH_FAIL=34818,Q.STENCIL_BACK_PASS_DEPTH_PASS=34819,Q.STENCIL_BACK_REF=36003,Q.STENCIL_BACK_VALUE_MASK=36004,Q.STENCIL_BACK_WRITEMASK=36005,Q.STENCIL_BITS=3415,Q.STENCIL_BUFFER_BIT=1024,Q.STENCIL_CLEAR_VALUE=2961,Q.STENCIL_FAIL=2964,Q.STENCIL_FUNC=2962,Q.STENCIL_INDEX=6401,Q.STENCIL_INDEX8=36168,Q.STENCIL_PASS_DEPTH_FAIL=2965,Q.STENCIL_PASS_DEPTH_PASS=2966,Q.STENCIL_REF=2967,Q.STENCIL_TEST=2960,Q.STENCIL_VALUE_MASK=2963,Q.STENCIL_WRITEMASK=2968,Q.STREAM_DRAW=35040,Q.SUBPIXEL_BITS=3408,Q.TEXTURE=5890,Q.TEXTURE0=33984,Q.TEXTURE1=33985,Q.TEXTURE2=33986,Q.TEXTURE3=33987,Q.TEXTURE4=33988,Q.TEXTURE5=33989,Q.TEXTURE6=33990,Q.TEXTURE7=33991,Q.TEXTURE8=33992,Q.TEXTURE9=33993,Q.TEXTURE10=33994,Q.TEXTURE11=33995,Q.TEXTURE12=33996,Q.TEXTURE13=33997,Q.TEXTURE14=33998,Q.TEXTURE15=33999,Q.TEXTURE16=34e3,Q.TEXTURE17=34001,Q.TEXTURE18=34002,Q.TEXTURE19=34003,Q.TEXTURE20=34004,Q.TEXTURE21=34005,Q.TEXTURE22=34006,Q.TEXTURE23=34007,Q.TEXTURE24=34008,Q.TEXTURE25=34009,Q.TEXTURE26=34010,Q.TEXTURE27=34011,Q.TEXTURE28=34012,Q.TEXTURE29=34013,Q.TEXTURE30=34014,Q.TEXTURE31=34015,Q.TEXTURE_2D=3553,Q.TEXTURE_BINDING_2D=32873,Q.TEXTURE_BINDING_CUBE_MAP=34068,Q.TEXTURE_CUBE_MAP=34067,Q.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,Q.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,Q.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,Q.TEXTURE_CUBE_MAP_POSITIVE_X=34069,Q.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,Q.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,Q.TEXTURE_MAG_FILTER=10240,Q.TEXTURE_MIN_FILTER=10241,Q.TEXTURE_WRAP_S=10242,Q.TEXTURE_WRAP_T=10243,Q.TRIANGLES=4,Q.TRIANGLE_FAN=6,Q.TRIANGLE_STRIP=5,Q.UNPACK_ALIGNMENT=3317,Q.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,Q.UNPACK_FLIP_Y_WEBGL=37440,Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,Q.UNSIGNED_BYTE=5121,Q.UNSIGNED_INT=5125,Q.UNSIGNED_SHORT=5123,Q.UNSIGNED_SHORT_4_4_4_4=32819,Q.UNSIGNED_SHORT_5_5_5_1=32820,Q.UNSIGNED_SHORT_5_6_5=33635,Q.VALIDATE_STATUS=35715,Q.VENDOR=7936,Q.VERSION=7938,Q.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,Q.VERTEX_ATTRIB_ARRAY_ENABLED=34338,Q.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,Q.VERTEX_ATTRIB_ARRAY_POINTER=34373,Q.VERTEX_ATTRIB_ARRAY_SIZE=34339,Q.VERTEX_ATTRIB_ARRAY_STRIDE=34340,Q.VERTEX_ATTRIB_ARRAY_TYPE=34341,Q.VERTEX_SHADER=35633,Q.VIEWPORT=2978,Q.ZERO=0;var J=Q,ee=function(e){function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(v()(this,t),(i=y()(this,g()(t).call(this)))._loc=e.shader.uniformLocations[n],i._loc||j.log("FloatUniform: uniform does not exist on shader: ",e.name,n),!e.shader.program)throw new ReferenceError("Cannot construct FloatUniform from material: material shader is not yet initialized.");return i._renderer=e.renderer,i._program=e.shader.program,i.set(r),i}return b()(t,e),p()(t,[{key:"set",value:function(e){e!=this._value&&(this._value=e,this._renderer.renderState.setProgram(this._program),this._renderer.context.uniform1f(this._loc,this._value))}},{key:"getValue",value:function(){return this._value}},{key:"destruct",value:function(){A()(g()(t.prototype),"destruct",this).call(this)}}]),t}(k),te=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new X;if(v()(this,e),this._value=i,this._loc=t.shader.uniformLocations[n],this._loc||j.log("FloatUniform: uniform does not exist on shader: ",n),!t.shader.program)throw new ReferenceError("Cannot construct Vector2Uniform from material: material shader is not yet initialized.");this._renderer=t.renderer,this._program=t.shader.program}return p()(e,[{key:"set",value:function(e){e.x==this._value.x&&e.y==this._value.y||(this._value=e,this._renderer.renderState.setProgram(this._program),this._renderer.context.uniform2fv(this._loc,this._value.v))}},{key:"getValue",value:function(){return this._value}}]),e}(),ne=function(){function e(t,n){arguments.length>2&&void 0!==arguments[2]?arguments[2]:new P;if(v()(this,e),this._value=new P,this._loc=t.shader.uniformLocations[n],this._loc||j.log("FloatUniform: uniform does not exist on shader: ",n),!t.shader.program)throw new ReferenceError("Cannot construct Vector3Uniform from material: material shader is not yet initialized.");this._renderer=t.renderer,this._program=t.shader.program}return p()(e,[{key:"set",value:function(e){e.x==this._value.x&&e.y==this._value.y&&e.z==this._value.z||(this._value.copy(e),this._renderer.renderState.setProgram(this._program),this._renderer.context.uniform3fv(this._loc,this._value.v))}},{key:"getValue",value:function(){return this._value}}]),e}(),ie=function(e){function t(e,n,i){var r;return v()(this,t),(r=y()(this,g()(t).call(this)))._shaderDefines={},r.drawType=J.TRIANGLES,r.depthTest=!0,r.depthWrite=!0,r.blend=!1,r.culling=J.BACK,r.blendFuncSeparate=!1,r.renderer=e,r.name=n,r.shader=i,r.id=t.staticId++,r.setDefaultBlending(),r}return b()(t,e),p()(t,[{key:"setActive",value:function(){if(void 0===this.shader.program||void 0===this.shader.textureUniforms)throw new Error("Trying to activate material but the associated shader is not yet initialized");this.renderer.renderState.setProgram(this.shader.program);for(var e=0;e<this.shader.textureUniforms.length;e++)this.shader.textureUniforms[e].bind();if(this.renderer.renderState.material!=this&&(this.renderer.renderState.material=this,this.renderer.renderState.setDepthTest(this.depthTest),this.renderer.renderState.setDepthMask(this.depthWrite),this.depthFunc&&this.renderer.renderState.setDepthFunc(this.depthFunc),this.renderer.renderState.setCulling(this.culling),this.renderer.renderState.setBlendEnabled(this.blend),this.blend))if(this.renderer.renderState.setBlendEquation(this.blendEquation),this.blendFuncSeparate){if(void 0===this.sourceBlendRGB||void 0===this.destinationBlendRGB||void 0===this.sourceBlendAlpha||void 0===this.destinationBlendAlpha)throw new ReferenceError("expected blend properties to be set");this.renderer.renderState.setBlendFuncSeparate(this.sourceBlendRGB,this.destinationBlendRGB,this.sourceBlendAlpha,this.destinationBlendAlpha)}else this.renderer.renderState.setBlendFunc(this.sourceBlend,this.destinationBlend)}},{key:"setDefaultBlending",value:function(){this.depthTest=!0,this.depthWrite=!0,this.blend=!1,this.blendEquation=J.FUNC_ADD,this.sourceBlend=J.ZERO,this.destinationBlend=J.ONE}},{key:"setAlphaBlending",value:function(){this.depthWrite=!1,this.depthTest=!0,this.blend=!0,this.blendEquation=J.FUNC_ADD,this.setBlendUnified(J.SRC_ALPHA,J.ONE_MINUS_SRC_ALPHA)}},{key:"setPreMultipliedAlphaBlending",value:function(){this.depthWrite=!1,this.depthTest=!0,this.blend=!0,this.blendEquation=J.FUNC_ADD,this.setBlendUnified(J.ONE,J.ONE_MINUS_SRC_ALPHA)}},{key:"setMaxBlending",value:function(){this.depthWrite=!1,this.depthTest=!1,this.blend=!0,this.blendEquation=32776,this.sourceBlend=J.ONE,this.destinationBlend=J.ONE,this.setBlendUnified(J.ONE,J.ONE)}},{key:"setAdditiveBlending",value:function(){this.depthWrite=!1,this.depthTest=!0,this.blend=!0,this.blendEquation=J.FUNC_ADD,this.setBlendUnified(J.ONE,J.ONE)}},{key:"setMultiplyBlending",value:function(){this.depthWrite=!1,this.depthTest=!0,this.blend=!0,this.blendEquation=J.FUNC_ADD,this.setBlendUnified(J.ZERO,J.SRC_COLOR)}},{key:"setSubtractiveBlending",value:function(){this.depthWrite=!1,this.depthTest=!1,this.blend=!0,this.blendEquation=J.FUNC_SUBTRACT,this.setBlendUnified(J.ONE,J.ONE_MINUS_SRC_ALPHA)}},{key:"setBlendUnified",value:function(e,t){this.blendFuncSeparate=!1,this.sourceBlend=e,this.destinationBlend=t}},{key:"setBlendSeparate",value:function(e,t,n,i){this.blendFuncSeparate=!0,this.sourceBlendRGB=e,this.sourceBlendAlpha=n,this.destinationBlendRGB=t,this.destinationBlendAlpha=i}},{key:"setCullingBackFace",value:function(){this.culling=J.BACK}},{key:"setCullingFrontFace",value:function(){this.culling=J.FRONT}},{key:"setCullingDisabled",value:function(){this.culling=J.NONE}},{key:"setDrawTypePoints",value:function(){this.drawType=J.POINTS}},{key:"setDrawTypeLines",value:function(){this.drawType=J.LINES}},{key:"setDrawTypeLineStrip",value:function(){this.drawType=J.LINE_STRIP}},{key:"setDrawTypeTriangles",value:function(){this.drawType=J.TRIANGLES}},{key:"setDrawTypeTriangleFan",value:function(){this.drawType=J.TRIANGLE_FAN}},{key:"setDrawTypeTriangleStrip",value:function(){this.drawType=J.TRIANGLE_STRIP}},{key:"setFloat",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform1f(n,t))}},{key:"setInt",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform1i(n,t))}},{key:"setFloats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=this.getLoc(e);a&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform4f(a,t,n,i,r))}},{key:"setShaderVector",value:function(e,t){var n=this.renderer.context,i=this.getLoc(e);if(i)switch(this.renderer.renderState.setProgram(this.shader.program),t.length){case 1:n.uniform1f(i,t[0]);break;case 2:n.uniform2f(i,t[0],t[1]);break;case 3:n.uniform3f(i,t[0],t[1],t[2]);break;case 4:n.uniform4f(i,t[0],t[1],t[2],t[3])}}},{key:"setMatrix",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniformMatrix4fv(n,!1,t))}},{key:"setMatrix3x3",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniformMatrix3fv(n,!1,t))}},{key:"setMatrix2x2",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniformMatrix2fv(n,!1,t))}},{key:"setMatrixArray",value:function(e,t){for(var n=0;n<t.length;n++){var i=e+"["+n+"]";this.setMatrix(i,t[n])}}},{key:"setMatrixArray2",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniformMatrix4fv(n,!1,t))}},{key:"setMatrixFloatArray",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniformMatrix4fv(n,!1,t))}},{key:"setTexture",value:function(e,t){if(!this.shader)throw new ReferenceError("Material has no Shader");var n=this.shader.getTextureUniformByName(e);n&&n.set(t)}},{key:"setFloat32Array",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform1fv(n,t))}},{key:"setInt32Array",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform1iv(n,t))}},{key:"setColor",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform4f(n,t.r,t.g,t.b,t.a))}},{key:"setVector3",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform3fv(n,t.v))}},{key:"setVector3Array",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform3fv(n,t))}},{key:"setVector2",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform2fv(n,t.v))}},{key:"setVector2Array",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform2fv(n,t))}},{key:"setVector4",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform4fv(n,t.v))}},{key:"setVector4Array",value:function(e,t){var n=this.getLoc(e);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform4fv(n,t))}},{key:"getLoc",value:function(e){var t=this.shader.uniformLocations[e];if(!1!==t&&!t){if(!this.shader)throw new ReferenceError("Material has no Shader");if(!this.shader.program)throw new ReferenceError("Material shader has not yet been initialized");if(this.renderer.renderState.setProgram(this.shader.program),t=this.renderer.context.getUniformLocation(this.shader.program,e))return this.shader.uniformLocations[e]=t,t;this.shader.uniformLocations[e]=!1,j.log("uniform not present in shader: ",this.name,e)}return t}},{key:"hasUniform",value:function(e){if(!this.shader)throw new ReferenceError("Material has no Shader");return!!this.shader.uniformLocations[e]}},{key:"addFloatUniform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new ee(this,e,t)}},{key:"addVector2Uniform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new X;return new te(this,e,t)}},{key:"addVector3Uniform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new P;return new ne(this,e,t)}},{key:"addShaderDefines",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0;i<t.length;i++){var r=t[i]instanceof Array?t[i][0]:t[i],a=t[i]instanceof Array?t[i][1]:1;void 0==this._shaderDefines[r]&&(this._shaderDefines[r]=a)}}},{key:"getShaderDefines",value:function(){return this._shaderDefines}},{key:"clearShaderDefines",value:function(){this._shaderDefines=[]}},{key:"destruct",value:function(){this.isDestructed||this.shader.destruct(),A()(g()(t.prototype),"destruct",this).call(this)}}]),t}(k);ie.staticId=0;var re=ie,ae=function e(t,n,i){v()(this,e),this.name=t,this.stride=n,this.loc=i},se=function(){function e(t,n,i,r){if(v()(this,e),this.name=n,this._samplerIndex=r,!t.program)throw new ReferenceError("Cannot construct TextureUniform from shader: shader is not yet initialized.");t.renderer.renderState.setProgram(t.program),t.renderer.context.uniform1i(i,r)}return p()(e,[{key:"set",value:function(e){this._texture=e}},{key:"bind",value:function(){this._texture&&this._texture.bindToSlot(this._samplerIndex)}}]),e}(),oe=function e(){v()(this,e)};oe.READ_BUFFER=3074,oe.UNPACK_ROW_LENGTH=3314,oe.UNPACK_SKIP_ROWS=3315,oe.UNPACK_SKIP_PIXELS=3316,oe.PACK_ROW_LENGTH=3330,oe.PACK_SKIP_ROWS=3331,oe.PACK_SKIP_PIXELS=3332,oe.COLOR=6144,oe.DEPTH=6145,oe.STENCIL=6146,oe.RED=6403,oe.RGB8=32849,oe.RGBA8=32856,oe.RGB10_A2=32857,oe.TEXTURE_BINDING_3D=32874,oe.UNPACK_SKIP_IMAGES=32877,oe.UNPACK_IMAGE_HEIGHT=32878,oe.TEXTURE_3D=32879,oe.TEXTURE_WRAP_R=32882,oe.MAX_3D_TEXTURE_SIZE=32883,oe.UNSIGNED_INT_2_10_10_10_REV=33640,oe.MAX_ELEMENTS_VERTICES=33e3,oe.MAX_ELEMENTS_INDICES=33001,oe.TEXTURE_MIN_LOD=33082,oe.TEXTURE_MAX_LOD=33083,oe.TEXTURE_BASE_LEVEL=33084,oe.TEXTURE_MAX_LEVEL=33085,oe.MIN=32775,oe.MAX=32776,oe.DEPTH_COMPONENT24=33190,oe.MAX_TEXTURE_LOD_BIAS=34045,oe.TEXTURE_COMPARE_MODE=34892,oe.TEXTURE_COMPARE_FUNC=34893,oe.CURRENT_QUERY=34917,oe.QUERY_RESULT=34918,oe.QUERY_RESULT_AVAILABLE=34919,oe.STREAM_READ=35041,oe.STREAM_COPY=35042,oe.STATIC_READ=35045,oe.STATIC_COPY=35046,oe.DYNAMIC_READ=35049,oe.DYNAMIC_COPY=35050,oe.MAX_DRAW_BUFFERS=34852,oe.DRAW_BUFFER0=34853,oe.DRAW_BUFFER1=34854,oe.DRAW_BUFFER2=34855,oe.DRAW_BUFFER3=34856,oe.DRAW_BUFFER4=34857,oe.DRAW_BUFFER5=34858,oe.DRAW_BUFFER6=34859,oe.DRAW_BUFFER7=34860,oe.DRAW_BUFFER8=34861,oe.DRAW_BUFFER9=34862,oe.DRAW_BUFFER10=34863,oe.DRAW_BUFFER11=34864,oe.DRAW_BUFFER12=34865,oe.DRAW_BUFFER13=34866,oe.DRAW_BUFFER14=34867,oe.DRAW_BUFFER15=34868,oe.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657,oe.MAX_VERTEX_UNIFORM_COMPONENTS=35658,oe.SAMPLER_3D=35679,oe.SAMPLER_2D_SHADOW=35682,oe.FRAGMENT_SHADER_DERIVATIVE_HINT=35723,oe.PIXEL_PACK_BUFFER=35051,oe.PIXEL_UNPACK_BUFFER=35052,oe.PIXEL_PACK_BUFFER_BINDING=35053,oe.PIXEL_UNPACK_BUFFER_BINDING=35055,oe.FLOAT_MAT2x3=35685,oe.FLOAT_MAT2x4=35686,oe.FLOAT_MAT3x2=35687,oe.FLOAT_MAT3x4=35688,oe.FLOAT_MAT4x2=35689,oe.FLOAT_MAT4x3=35690,oe.SRGB=35904,oe.SRGB8=35905,oe.SRGB8_ALPHA8=35907,oe.COMPARE_REF_TO_TEXTURE=34894,oe.RGBA32F=34836,oe.RGB32F=34837,oe.RGBA16F=34842,oe.RGB16F=34843,oe.VERTEX_ATTRIB_ARRAY_INTEGER=35069,oe.MAX_ARRAY_TEXTURE_LAYERS=35071,oe.MIN_PROGRAM_TEXEL_OFFSET=35076,oe.MAX_PROGRAM_TEXEL_OFFSET=35077,oe.MAX_VARYING_COMPONENTS=35659,oe.TEXTURE_2D_ARRAY=35866,oe.TEXTURE_BINDING_2D_ARRAY=35869,oe.R11F_G11F_B10F=35898,oe.UNSIGNED_INT_10F_11F_11F_REV=35899,oe.RGB9_E5=35901,oe.UNSIGNED_INT_5_9_9_9_REV=35902,oe.TRANSFORM_FEEDBACK_BUFFER_MODE=35967,oe.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968,oe.TRANSFORM_FEEDBACK_VARYINGS=35971,oe.TRANSFORM_FEEDBACK_BUFFER_START=35972,oe.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973,oe.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976,oe.RASTERIZER_DISCARD=35977,oe.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978,oe.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979,oe.INTERLEAVED_ATTRIBS=35980,oe.SEPARATE_ATTRIBS=35981,oe.TRANSFORM_FEEDBACK_BUFFER=35982,oe.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983,oe.RGBA32UI=36208,oe.RGB32UI=36209,oe.RGBA16UI=36214,oe.RGB16UI=36215,oe.RGBA8UI=36220,oe.RGB8UI=36221,oe.RGBA32I=36226,oe.RGB32I=36227,oe.RGBA16I=36232,oe.RGB16I=36233,oe.RGBA8I=36238,oe.RGB8I=36239,oe.RED_INTEGER=36244,oe.RGB_INTEGER=36248,oe.RGBA_INTEGER=36249,oe.SAMPLER_2D_ARRAY=36289,oe.SAMPLER_2D_ARRAY_SHADOW=36292,oe.SAMPLER_CUBE_SHADOW=36293,oe.UNSIGNED_INT_VEC2=36294,oe.UNSIGNED_INT_VEC3=36295,oe.UNSIGNED_INT_VEC4=36296,oe.INT_SAMPLER_2D=36298,oe.INT_SAMPLER_3D=36299,oe.INT_SAMPLER_CUBE=36300,oe.INT_SAMPLER_2D_ARRAY=36303,oe.UNSIGNED_INT_SAMPLER_2D=36306,oe.UNSIGNED_INT_SAMPLER_3D=36307,oe.UNSIGNED_INT_SAMPLER_CUBE=36308,oe.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311,oe.DEPTH_COMPONENT32F=36012,oe.DEPTH32F_STENCIL8=36013,oe.FLOAT_32_UNSIGNED_INT_24_8_REV=36269,oe.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296,oe.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297,oe.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298,oe.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299,oe.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300,oe.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301,oe.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302,oe.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303,oe.FRAMEBUFFER_DEFAULT=33304,oe.DEPTH_STENCIL_ATTACHMENT=33306,oe.DEPTH_STENCIL=34041,oe.UNSIGNED_INT_24_8=34042,oe.DEPTH24_STENCIL8=35056,oe.UNSIGNED_NORMALIZED=35863,oe.DRAW_FRAMEBUFFER_BINDING=36006,oe.READ_FRAMEBUFFER=36008,oe.DRAW_FRAMEBUFFER=36009,oe.READ_FRAMEBUFFER_BINDING=36010,oe.RENDERBUFFER_SAMPLES=36011,oe.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052,oe.MAX_COLOR_ATTACHMENTS=36063,oe.COLOR_ATTACHMENT1=36065,oe.COLOR_ATTACHMENT2=36066,oe.COLOR_ATTACHMENT3=36067,oe.COLOR_ATTACHMENT4=36068,oe.COLOR_ATTACHMENT5=36069,oe.COLOR_ATTACHMENT6=36070,oe.COLOR_ATTACHMENT7=36071,oe.COLOR_ATTACHMENT8=36072,oe.COLOR_ATTACHMENT9=36073,oe.COLOR_ATTACHMENT10=36074,oe.COLOR_ATTACHMENT11=36075,oe.COLOR_ATTACHMENT12=36076,oe.COLOR_ATTACHMENT13=36077,oe.COLOR_ATTACHMENT14=36078,oe.COLOR_ATTACHMENT15=36079,oe.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182,oe.MAX_SAMPLES=36183,oe.HALF_FLOAT=5131,oe.RG=33319,oe.RG_INTEGER=33320,oe.R8=33321,oe.RG8=33323,oe.R16F=33325,oe.R32F=33326,oe.RG16F=33327,oe.RG32F=33328,oe.R8I=33329,oe.R8UI=33330,oe.R16I=33331,oe.R16UI=33332,oe.R32I=33333,oe.R32UI=33334,oe.RG8I=33335,oe.RG8UI=33336,oe.RG16I=33337,oe.RG16UI=33338,oe.RG32I=33339,oe.RG32UI=33340,oe.VERTEX_ARRAY_BINDING=34229,oe.R8_SNORM=36756,oe.RG8_SNORM=36757,oe.RGB8_SNORM=36758,oe.RGBA8_SNORM=36759,oe.SIGNED_NORMALIZED=36764,oe.COPY_READ_BUFFER=36662,oe.COPY_WRITE_BUFFER=36663,oe.COPY_READ_BUFFER_BINDING=36662,oe.COPY_WRITE_BUFFER_BINDING=36663,oe.UNIFORM_BUFFER=35345,oe.UNIFORM_BUFFER_BINDING=35368,oe.UNIFORM_BUFFER_START=35369,oe.UNIFORM_BUFFER_SIZE=35370,oe.MAX_VERTEX_UNIFORM_BLOCKS=35371,oe.MAX_FRAGMENT_UNIFORM_BLOCKS=35373,oe.MAX_COMBINED_UNIFORM_BLOCKS=35374,oe.MAX_UNIFORM_BUFFER_BINDINGS=35375,oe.MAX_UNIFORM_BLOCK_SIZE=35376,oe.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377,oe.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379,oe.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380,oe.ACTIVE_UNIFORM_BLOCKS=35382,oe.UNIFORM_TYPE=35383,oe.UNIFORM_SIZE=35384,oe.UNIFORM_BLOCK_INDEX=35386,oe.UNIFORM_OFFSET=35387,oe.UNIFORM_ARRAY_STRIDE=35388,oe.UNIFORM_MATRIX_STRIDE=35389,oe.UNIFORM_IS_ROW_MAJOR=35390,oe.UNIFORM_BLOCK_BINDING=35391,oe.UNIFORM_BLOCK_DATA_SIZE=35392,oe.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394,oe.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395,oe.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396,oe.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398,oe.INVALID_INDEX=4294967295,oe.MAX_VERTEX_OUTPUT_COMPONENTS=37154,oe.MAX_FRAGMENT_INPUT_COMPONENTS=37157,oe.MAX_SERVER_WAIT_TIMEOUT=37137,oe.OBJECT_TYPE=37138,oe.SYNC_CONDITION=37139,oe.SYNC_STATUS=37140,oe.SYNC_FLAGS=37141,oe.SYNC_FENCE=37142,oe.SYNC_GPU_COMMANDS_COMPLETE=37143,oe.UNSIGNALED=37144,oe.SIGNALED=37145,oe.ALREADY_SIGNALED=37146,oe.TIMEOUT_EXPIRED=37147,oe.CONDITION_SATISFIED=37148,oe.WAIT_FAILED=37149,oe.SYNC_FLUSH_COMMANDS_BIT=1,oe.VERTEX_ATTRIB_ARRAY_DIVISOR=35070,oe.ANY_SAMPLES_PASSED=35887,oe.ANY_SAMPLES_PASSED_CONSERVATIVE=36202,oe.SAMPLER_BINDING=35097,oe.RGB10_A2UI=36975,oe.INT_2_10_10_10_REV=36255,oe.TRANSFORM_FEEDBACK=36386,oe.TRANSFORM_FEEDBACK_PAUSED=36387,oe.TRANSFORM_FEEDBACK_ACTIVE=36388,oe.TRANSFORM_FEEDBACK_BINDING=36389,oe.TEXTURE_IMMUTABLE_FORMAT=37167,oe.MAX_ELEMENT_INDEX=36203,oe.TEXTURE_IMMUTABLE_LEVELS=33503;var le=oe,ue=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v()(this,t),(n=y()(this,g()(t).call(this))).uniformLocations={},n.id=t.staticId,t.staticId++,n.renderer=e,n.shaderDefines=i,n}return b()(t,e),p()(t,[{key:"load",value:function(e,t,n){var i=this;Promise.all([t.loadAssetByName("".concat(e,".vs.glsl")),t.loadAssetByName("".concat(e,".fs.glsl"))]).then(function(r){i.loadIncludes(r,t,function(t){i.init(e,t[0],t[1],n)})})}},{key:"loadIncludes",value:function(e,t,n){for(var i=this,r=/^#include\s+(\S+)/,a=[],s=0;s<e.length;s++)for(var o=e[s].split("\n"),l=0;l<o.length;l++){var u=o[l];u=u.trim();var c;null!==(c=r.exec(u))&&a.push([c[1],c])}if(a.length){for(var h=[],d=0;d<a.length;d++)h[d]=a[d][0];Promise.all(h.map(function(e){return t.loadAssetByPath(e)})).then(function(r){for(var s=0;s<e.length;s++)for(var o=0;o<a.length;o++)e[s]=e[s].replace(a[o][1][0],"\n\n///// Start "+h[o]+"\n\n"+r[o]+"\n\n///// End "+h[o]+"\n\n");i.loadIncludes(e,t,n)})}else n.call(this,e)}},{key:"init",value:function(e,n,i,r){if(this.name=e,this.shaderDefines){var a="";for(var s in this.shaderDefines)a+="#define "+s+" "+this.shaderDefines[s]+"\n";j.log("adding defines: ",this.name,a),n=a+n,i=a+i}n=t.stripUniformDuplicates(n),i=t.stripUniformDuplicates(i),n=this.renderer.preprocessShaderString(n),i=this.renderer.preprocessShaderString(i);var o=this.renderer.context,l=this.compileShader(o,n,o.VERTEX_SHADER),u=this.compileShader(o,i,o.FRAGMENT_SHADER);this.program=this.LinkProgram(o,l,u),this.getUniforms(o,this.program),this.getAttributes(o,this.program),r&&r.call(this)}},{key:"compileShader",value:function(e,t,n){var i=e.createShader(n);if(e.shaderSource(i,t),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))return i;var r=e.getShaderInfoLog(i);if(r){j.error("compileShader: error: "+this.name,(n===J.VERTEX_SHADER?"vs":"fs")+" \n"+r),console.log("%c compileShader: "+this.name+(n===J.VERTEX_SHADER?" vs":" fs"),"background: #fff0f0; color: red"),console.log(r);for(var a=/ERROR: (\d+):(\d+):/,s=r.split("\n"),o=[],l=0;l<s.length;l++){var u,c=s[l];null!==(u=a.exec(c))&&(o[parseInt(u[2],10)-1]=c)}s=t.split("\n");var h=[];h[0]="";for(var d=0;d<s.length;d++)h[0]+="%c"+s[d]+"\n",h[d+1]=o[d]?"background: #fff0f0; color: red":"background: white; color: black",o[d]&&(h[0]+=" --\x3e "+o[d]+"\n");console.log.apply(console,h),console.log("%c compileShader: "+this.name+(n===J.VERTEX_SHADER?" vs":" fs"),"background: #fff0f0; color: red")}throw new Error("unable to compile shader")}},{key:"LinkProgram",value:function(e,t,n){var i=e.createProgram();if(e.attachShader(i,t),e.attachShader(i,n),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS))return i;throw console.log("LinkProgram",this.name),new Error("Program link error:\n"+e.getProgramInfoLog(i))}},{key:"getUniforms",value:function(e,t){var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);this.textureUniforms=[],this.uniformLocations={};for(var i=0,r=0;r<n;r++){var a=e.getActiveUniform(t,r),s=e.getUniformLocation(this.program,a.name);this.uniformLocations[a.name]=s,a.type!==J.SAMPLER_2D&&a.type!==J.SAMPLER_CUBE&&a.type!==le.SAMPLER_3D||(this.textureUniforms.push(new se(this,a.name,s,i)),i++)}}},{key:"getAttributes",value:function(e,n){var i=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);this.attributes=[];for(var r=0;r<i;r++){var a=e.getActiveAttrib(n,r),s=e.getAttribLocation(this.program,a.name),o=t.getStride(a.type);this.attributes.push(new ae(a.name,o,s))}}},{key:"getAttributeByName",value:function(e){if(this.attributes)for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].name===e)return this.attributes[t];return null}},{key:"getTextureUniformByName",value:function(e){if(this.textureUniforms)for(var t=0;t<this.textureUniforms.length;t++)if(this.textureUniforms[t].name===e)return this.textureUniforms[t];return null}},{key:"destruct",value:function(){A()(g()(t.prototype),"destruct",this).call(this)}}],[{key:"stripUniformDuplicates",value:function(e){for(var t="",n={},i=/^uniform\s+(\S*)\s+(\S*);/,r=e.split("\n"),a=0;a<r.length;a++){var s=r[a];s=s.trim();var o;if(null!==(o=i.exec(s))){var l=o[2];n[l]&&(s="// "+s),n[l]=!0}t+=s+"\n"}return t}},{key:"getStride",value:function(e){switch(e){case J.FLOAT:return 1;case J.FLOAT_VEC2:return 2;case J.FLOAT_VEC3:return 3;case J.FLOAT_VEC4:return 4;default:return j.error("attribute type not handled: "+e),-1}}}]),t}(k);ue.staticId=0;var ce=ue,he=function(e){function t(e,n,i){var r;return v()(this,t),(r=y()(this,g()(t).call(this,e,i,new ce(e)))).shaderIndex=e.shaderIndex,n.add(V()(r)),r}return b()(t,e),p()(t,[{key:"load",value:function(e){var t=this;this.shader.shaderDefines=this.getShaderDefines(),this.shader.load(this.name,this.shaderIndex,function(){e.call(t)})}}]),t}(re),de=function(e){function t(e){var n;return v()(this,t),(n=y()(this,g()(t).call(this)))._depthMask=!0,n._depthTest=!0,n._depthFunc=-1,n._culling=-1,n._cullingEnabled=!0,n._blendEquation=-1,n._blendEnabled=!0,n._sourceBlend=-1,n._destinationBlend=-1,n._renderer=e,n.setBlendEnabled(!n._blendEnabled),n.setCullingEnabled(!n._cullingEnabled),n.setDepthMask(!n._depthMask),n.setDepthTest(!n._depthTest),n.enabledAttribArrays=[],n._textureSlots=[],n}return b()(t,e),p()(t,[{key:"bindTextureToSlot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._textureSlots[t]!=e&&(this._renderer.context.activeTexture(J.TEXTURE0+t),this._renderer.context.bindTexture(J.TEXTURE_2D,e),this._textureSlots[t]=e)}},{key:"bindTexture3DToSlot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._textureSlots[t]!=e&&(this._renderer.context.activeTexture(J.TEXTURE0+t),this._renderer.context.bindTexture(le.TEXTURE_3D,e),this._textureSlots[t]=e)}},{key:"bindCubeTextureToSlot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._textureSlots[t]!=e&&(this._renderer.context.activeTexture(J.TEXTURE0+t),this._renderer.context.bindTexture(J.TEXTURE_CUBE_MAP,e),this._textureSlots[t]=e)}},{key:"setProgram",value:function(e){return e!=this._program&&(this._program=e,this._renderer.context.useProgram(this._program),!0)}},{key:"setDepthMask",value:function(e){e!=this._depthMask&&(this._renderer.context.depthMask(e),this._depthMask=e)}},{key:"getDepthMask",value:function(){return this._depthMask}},{key:"setDepthTest",value:function(e){e!=this._depthTest&&(e?this._renderer.context.enable(J.DEPTH_TEST):this._renderer.context.disable(J.DEPTH_TEST),this._depthTest=e)}},{key:"setDepthFunc",value:function(e){e!=this._depthFunc&&(e?this._renderer.context.depthFunc(e):this._renderer.context.depthFunc(this._renderer.context.LESS),this._depthFunc=e)}},{key:"setCullingEnabled",value:function(e){e!=this._cullingEnabled&&(e?this._renderer.context.enable(J.CULL_FACE):this._renderer.context.disable(J.CULL_FACE),this._cullingEnabled=e)}},{key:"setCulling",value:function(e){e!=this._culling&&(e==J.NONE?this.setCullingEnabled(!1):(this.setCullingEnabled(!0),this._renderer.context.cullFace(e)),this._culling=e)}},{key:"setBlendEquation",value:function(e){e!=this._blendEquation&&(this._renderer.context.blendEquation(e),this._blendEquation=e)}},{key:"setBlendEnabled",value:function(e){e!=this._blendEnabled&&(e?this._renderer.context.enable(J.BLEND):this._renderer.context.disable(J.BLEND),this._blendEnabled=e)}},{key:"setBlendFunc",value:function(e,t){e==this._sourceBlend&&t==this._destinationBlend||(this._renderer.context.blendFunc(e,t),this._sourceBlend=e,this._destinationBlend=t)}},{key:"setBlendFuncSeparate",value:function(e,t,n,i){this._renderer.context.blendFuncSeparate(e,t,n,i),this._sourceBlend=-1}}]),t}(k),fe=function(){function e(){v()(this,e),this.maxAnisotropy=0}return p()(e,[{key:"enableExtensions",value:function(t){this.color_buffer_float=e.enableExtension(t,"WEBGL_color_buffer_float")||e.enableExtension(t,"EXT_color_buffer_float"),this.color_buffer_half_float=e.enableExtension(t,"EXT_color_buffer_half_float"),this.texture_float=e.enableExtension(t,"OES_texture_float"),this.texture_float_linear=e.enableExtension(t,"OES_texture_float_linear"),this.texture_half_float=e.enableExtension(t,"OES_texture_half_float"),this.texture_half_float_linear=e.enableExtension(t,"OES_texture_half_float_linear"),this.shader_texture_lod=e.enableExtension(t,"EXT_shader_texture_lod"),this.standard_derivatives=e.enableExtension(t,"OES_standard_derivatives"),this.blend_minmax=e.enableExtension(t,"EXT_blend_minmax"),this.seamless_cube_map=e.enableExtension(t,"OES_seamless_cube_map"),this.vertex_array_object=e.enableExtension(t,"OES_vertex_array_object"),this.filter_anisotropic=e.enableExtension(t,"texture_filter_anisotropic"),this.filter_anisotropic||(this.filter_anisotropic=e.enableExtension(t,"MOZ_EXT_texture_filter_anisotropic")),this.filter_anisotropic||(this.filter_anisotropic=e.enableExtension(t,"WEBKIT_EXT_texture_filter_anisotropic")),this.filter_anisotropic&&(this.maxAnisotropy=t.getParameter(this.filter_anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT),j.log("MAX_TEXTURE_MAX_ANISOTROPY_EXT: ",this.maxAnisotropy)),this.frag_depth=e.enableExtension(t,"EXT_frag_depth"),this.depth_texture=e.enableExtension(t,"WEBGL_depth_texture"),this.element_index_uint=e.enableExtension(t,"OES_element_index_uint"),this.enableTextureCompression(t)}},{key:"enableTextureCompression",value:function(t){var n=e.enableExtension(t,"WEBKIT_WEBGL_compressed_texture_s3tc");if(n){var i=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS);if(i.length>0)for(var r in i)i[r]===n.COMPRESSED_RGB_S3TC_DXT1_EXT&&j.log("support found for texture compression: RGB_S3TC_DXT1"),i[r]===n.COMPRESSED_RGBA_S3TC_DXT1_EXT&&j.log("support found for texture compression: RGBA_S3TC_DXT1"),i[r]===n.COMPRESSED_RGBA_S3TC_DXT3_EXT&&j.log("support found for texture compression: RGBA_S3TC_DXT3"),i[r]===n.COMPRESSED_RGBA_S3TC_DXT5_EXT&&j.log("support found for texture compression: RGBA_S3TC_DXT5");else j.log("no support found for texture compression ")}}},{key:"getMinMaxSupported",value:function(){return null!==this.blend_minmax}}],[{key:"enableExtension",value:function(e,t){var n=e.getExtension(t);return n?j.log("enabled extension "+t):j.log("extension "+t+" is not supported"),n}}]),e}(),ve=function(){function e(){v()(this,e)}return p()(e,null,[{key:"cacheIsPathRequested",value:function(t){return e._clientCache[t]}},{key:"cacheRegisterRequested",value:function(t,n){e._clientCache[t]=n}},{key:"cacheRegisterCallback",value:function(t,n){e._clientCacheCallbacks[t]||(e._clientCacheCallbacks[t]=[]),e._clientCacheCallbacks[t].push(n)}},{key:"cacheRequestDone",value:function(t,n){var i=e._clientCacheCallbacks[t];if(i)for(var r=0;r<i.length;r++)i[r](n);e._clientCacheCallbacks[t]=null,e._clientCache[t]=!1}},{key:"cacheRequestError",value:function(t){var n=e._clientCacheCallbacks[t];if(n)for(var i=0;i<n.length;i++)n[i](null);e._clientCacheCallbacks[t]=null,e._clientCache[t]=!1}},{key:"loadText",value:function(t,n){if(e.cacheRegisterCallback(t,n),!e.cacheIsPathRequested(t)){var i=new XMLHttpRequest;e.cacheRegisterRequested(t,i),i.onreadystatechange=function(n){4===i.readyState&&(200===i.status?e.cacheRequestDone(t,i.responseText):e.cacheRequestError(t))},i.open("GET",t,!0),i.send()}}},{key:"loadArrayBuffer",value:function(t,n){if(e.cacheRegisterCallback(t,n),!e.cacheIsPathRequested(t)){var i=new XMLHttpRequest;e.cacheRegisterRequested(t,i),i.open("GET",t,!0),i.responseType="arraybuffer",i.send(),i.onreadystatechange=function(n){4===i.readyState&&e.cacheRequestDone(t,i.response)}}}},{key:"loadImage",value:function(t,n){if(e.cacheRegisterCallback(t,n),e.cacheIsPathRequested(t))return e.cacheIsPathRequested(t);var i=new Image;return e.cacheRegisterRequested(t,i),i.crossOrigin="Anonymous",i.onload=function(){e.cacheRequestDone(t,i)},i.onerror=function(){console.log("TextureLoader: could not load image",t),e.cacheRequestDone(t,i)},i.src=t,i}},{key:"loadMultipleImages",value:function(t,n){for(var i=this,r=t.length,a=[],s=function(e){return function(t){r--,a[e]=t,0===r&&n.call(i,a)}},o=0;o<t.length;++o)e.loadImage(t[o],s(o))}},{key:"loadSingleFromRequireContext",value:function(e,t){return new Promise(function(n,i){var r;try{r=e("./".concat(t.replace(/^\.\//,"")))}catch(a){i(a)}"function"===typeof r?r(n):n(r)})}},{key:"loadFromRequireContext",value:function(t,n,i){Promise.all(n.map(function(n){return e.loadSingleFromRequireContext(t,n)})).then(function(e){return i(e)})}},{key:"loadMultipleTexts",value:function(t,n){for(var i=this,r=t.length,a=[],s=function(e){return function(t){r--,a[e]=t,0===r&&n.apply(i,a)}},o=0;o<t.length;++o)e.loadText(t[o],s(o))}}]),e}();ve._clientCache={},ve._clientCacheCallbacks={};var _e=function(){function e(){v()(this,e),this.webpackContexts=[],this.assetNameMap={},this.assetPathMap={}}return p()(e,[{key:"loadAssetByPath",value:function(e){var t=this.getAssetByPath(e);return ve.loadSingleFromRequireContext(t.webpackContext,t.path)}},{key:"getAssetByPath",value:function(e){var t="./".concat(e.replace(/^\.\//,""));if("undefined"===typeof this.assetPathMap[t])throw new ReferenceError("Could not find asset with path ".concat(e,". Available paths: \n").concat(Object.keys(this.assetPathMap).join("\n")));return{webpackContext:this.webpackContexts[this.assetPathMap[t]],path:t}}},{key:"loadAssetByName",value:function(e){var t=this.getAssetByName(e);return ve.loadSingleFromRequireContext(t.webpackContext,t.path)}},{key:"getAssetByName",value:function(e){if("undefined"===typeof this.assetNameMap[e])throw new ReferenceError('Could not find asset with name "'.concat(e,'". Available assets: \n').concat(Object.keys(this.assetNameMap.vs).join(", ")));return{webpackContext:this.webpackContexts[this.assetNameMap[e].contextIndex],path:this.assetNameMap[e].path}}},{key:"addContext",value:function(e){var t=this;if(!(this.webpackContexts.indexOf(e)>=0)){var n=this.webpackContexts.length;this.webpackContexts.push(e),e.keys().forEach(function(e){var i=e.match(/([^\\\/]+)$/);if(i){if(t.assetNameMap[i[1]]){var r=t.webpackContexts[t.assetNameMap[i[1]].contextIndex].resolve(t.assetNameMap[i[1]].path);console.warn('WARNING: found asset "'.concat(e,'" but another asset with the name "').concat(i[1],'" was already found at "').concat(r,'"'))}t.assetNameMap[i[1]]={contextIndex:n,path:e}}t.assetPathMap[e]=n})}}}]),e}(),pe=function(e){function t(e,n,i,r,a,s){var o;return v()(this,t),(o=y()(this,g()(t).call(this))).data=null,o.vertexCount=-1,o._renderer=e,o.stride=r,o.name=n,o.storeData=a,o.vertexCount=i.length/r,s?(o.buffer=o._renderer.context.createBuffer(),o.setData(i,a)):o.data=i,o}return b()(t,e),p()(t,[{key:"setData",value:function(e,t){if(t||!this.buffer?this.data=e:this.data=null,0===e.length)throw"VertexAttribute: no data: probably a mesh file could not be loaded";if(this.buffer){var n=this._renderer.context;n.bindBuffer(J.ARRAY_BUFFER,this.buffer),n.bufferData(J.ARRAY_BUFFER,e.byteLength,J.STATIC_DRAW),n.bufferSubData(J.ARRAY_BUFFER,0,e)}}},{key:"getBufferLength",value:function(){if(this.data)return this.data.length;if(!this.buffer)throw new ReferenceError("Cannot get buffer length: no buffer set on VertextAttribute");var e=this._renderer.context;return e.bindBuffer(J.ARRAY_BUFFER,this.buffer),e.getBufferParameter(J.ARRAY_BUFFER,J.BUFFER_SIZE)/4}},{key:"destruct",value:function(){if(!this.isDestructed){var e=this._renderer.context;this.buffer&&e.deleteBuffer(this.buffer),this.data=null,A()(g()(t.prototype),"destruct",this).call(this)}}}],[{key:"serialize",value:function(e){return null===e.data?(console.error("Trying to serialize vertex attribute "+e.name+" without saved data"),{}):{name:e.name,data:e.data,stride:e.stride,storeData:e.storeData}}},{key:"deserialize",value:function(e){return{name:e.name,data:e.data,stride:e.stride,storeData:e.storeData}}}]),t}(k),me=function e(t,n){v()(this,e),this.name=t,this.stride=n};me.POSITION=new me("aPos",3),me.TEXCOORD0=new me("aUV0",2),me.TEXCOORD1=new me("aUV1",2),me.NORMAL=new me("aNormal",3),me.COLOR0=new me("aColor0",3),me.COLOR1=new me("aColor1",3),me.TANGENT=new me("aTangent",4);var ye=me,Ee=function(e){function t(e){var n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v()(this,t),(n=y()(this,g()(t).call(this)))._vertexCount=0,n._isInterleavedBufferDirty=!0,n._attributeNames={},n.renderer=e,n.attributes=[],n._vertexCount=0,n.id=t.id++,n.interleaved=i,n.isDynamic=r,n}return b()(t,e),p()(t,[{key:"setJSONData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.animatorId=e.animatorId,this.isDynamic=e.isDynamic||!1,e.indices&&e.indices.length>0&&(e.use32BitIndices?this.setIndices32(new Uint32Array(e.indices)):this.setIndices(new Uint16Array(e.indices)));for(var n=0;n<e.attributes.length;n++){var i=e.attributes[n];this.setAttribute(i.name,i.stride,new Float32Array(i.data),t)}}},{key:"clone",value:function(){for(var e=new t(this.renderer,this.interleaved,this.isDynamic),n=0;n<this.attributes.length;n++)e.attributes.push(this.attributes[n]);return e._vertexCount=this._vertexCount,e}},{key:"interleaveData",value:function(){if(this._isInterleavedBufferDirty&&this.interleaved){this.interleavedStrideSum=0;for(var e=0;e<this.attributes.length;e++)this.interleavedStrideSum+=this.attributes[e].stride;for(var t=new Float32Array(this.interleavedStrideSum*this._vertexCount),n=0,i=0;i<this._vertexCount;i++)for(var r=0;r<this.attributes.length;r++)for(var a=this.attributes[r],s=0;s<a.stride;s++)t[n++]=a.data[i*a.stride+s];for(var o=0;o<this.attributes.length;o++)this.attributes[o].storeData||(this.attributes[o].data=null);this.interleavedBuffer=this.renderer.context.createBuffer();var l=this.renderer.context;l.bindBuffer(J.ARRAY_BUFFER,this.interleavedBuffer),l.bufferData(J.ARRAY_BUFFER,t,l.STATIC_DRAW),this._isInterleavedBufferDirty=!1,j.log("Mesh: finalize",this.attributes.length)}}},{key:"isInterleaved",value:function(){return this.interleaved}},{key:"hasIndices",value:function(){return!!this.indices}},{key:"setAttribute",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.setData(n,e,t,i)}},{key:"setPositions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ye.POSITION;this.setData(e,n.name,n.stride,t)}},{key:"getPositions",value:function(){return this.getData(ye.POSITION.name)}},{key:"setNormals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ye.NORMAL;this.setData(e,n.name,n.stride,t)}},{key:"getNormals",value:function(){return this.getData(ye.NORMAL.name)}},{key:"setColors",value:function(e){var t=ye.COLOR0;this.setData(e,t.name,t.stride)}},{key:"getColors",value:function(){return this.getData(ye.COLOR0.name)}},{key:"setColors1",value:function(e){var t=ye.COLOR1;this.setData(e,t.name,t.stride)}},{key:"getColors1",value:function(){return this.getData(ye.COLOR1.name)}},{key:"setUV0",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ye.TEXCOORD0;this.setData(e,n.name,n.stride,t)}},{key:"getUV0",value:function(){return this.getData(ye.TEXCOORD0.name)}},{key:"setUV1",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ye.TEXCOORD1;this.setData(e,n.name,n.stride,t)}},{key:"getUV1",value:function(){return this.getData(ye.TEXCOORD1.name)}},{key:"setTangents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ye.TANGENT;this.setData(e,n.name,n.stride,t)}},{key:"getTangents",value:function(){return this.getData(ye.TANGENT.name)}},{key:"setData",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._attributeNames={};var r=this.getAttributeIndex(t),a=e.length/n;r<0?this.attributes.push(new pe(this.renderer,t,e,n,i,!this.interleaved)):this.attributes[r].vertexCount==a?this.attributes[r].setData(e,i):(this.attributes[r].destruct(),this.attributes[r]=new pe(this.renderer,t,e,n,i,!this.interleaved)),this._vertexCount=a,this.interleaved&&(this._isInterleavedBufferDirty=!0)}},{key:"deleteAttribute",value:function(e){var t=this.getAttributeIndex(e);t>=0&&this.attributes.splice(t,1),this._isInterleavedBufferDirty=!0,this._attributeNames={}}},{key:"hasAttribute",value:function(e){var t=this._attributeNames[e];if(!0===t||!1===t)return t;var n=this.getAttributeIndex(e);return this._attributeNames[e]=n>=0,this._attributeNames[e]}},{key:"getAttribute",value:function(e){var t=this.getAttributeIndex(e);return t>=0?this.attributes[t]:null}},{key:"getAttributeIndex",value:function(e){for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].name===e)return t;return-1}},{key:"getData",value:function(e){var t=this.getAttribute(e);return t&&t.data?t.data:(j.log("Mesh: getData",e,"no data"),null)}},{key:"setIndices",value:function(e){if(!(e instanceof Uint16Array))throw"Indices need to be of type Uint16Array";this.indexType=J.UNSIGNED_SHORT,this.indices=e;var t=this.renderer.context;this.indexBuffer||(this.indexBuffer=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)}},{key:"setIndices32",value:function(e){if(!(e instanceof Uint32Array))throw"Indices need to be of type Uint32Array";if(this.renderer.extensionManager.element_index_uint||this.renderer.context instanceof WebGL2RenderingContext){this.indexType=J.UNSIGNED_INT,this.indices=e;var t=this.renderer.context;this.indexBuffer||(this.indexBuffer=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)}else j.log("mesh: setIndices32: extension not supported: element_index_uint: using 16 bits indices"),this.setIndices(new Uint16Array(e))}},{key:"getNumVertices",value:function(){return this._vertexCount}},{key:"isSkinned",value:function(){return this.hasAttribute("aSkinIndex")}},{key:"destruct",value:function(){if(!this.isDestructed){this.renderer.destructVAO(this);var e=this.renderer.context;if(this.interleavedBuffer&&e.deleteBuffer(this.interleavedBuffer),this.indexBuffer&&e.deleteBuffer(this.indexBuffer),this.attributes)for(var n=0;n<this.attributes.length;n++)this.attributes[n].destruct();A()(g()(t.prototype),"destruct",this).call(this)}}}]),t}(k);Ee.id=0;var ge=Ee,Te=function(){function e(){v()(this,e),this.averageFps=60,this._manualUpdate=!1,e._instance&&alert("do not create additional instances of the time class"),this.fps=60,this.deltaTime=1/this.fps,this.time=0,this.update()}return p()(e,[{key:"updateManual",value:function(){this._manualUpdate=!0,this.updateDeltaTime()}},{key:"update",value:function(){var e=this;this._manualUpdate||(this.updateDeltaTime(),window.requestAnimationFrame(function(t){return e.update()}))}},{key:"updateDeltaTime",value:function(){var e=performance.now();this.deltaTime=.001*e-this.time,this.deltaTime>.05&&(this.deltaTime=.05),0===this.deltaTime&&(this.deltaTime=1/60),this.time=.001*e,this.fps=1/this.deltaTime,this.averageFps>0?this.averageFps=I.lerp(this.fps,this.averageFps,.95):this.averageFps=1/60}},{key:"testPerformance",value:function(e){console.time("timer0"),e.call(this),console.timeEnd("timer0")}}],[{key:"getInstance",value:function(){return e._instance||(e._instance=new e),e._instance}}]),e}(),Ae=function e(){v()(this,e),this.down=!1,this.downThisFrame=!1,this.downByTouch=!1,this.clickCanceled=!1,this.downTime=0},Re=function(e){function t(e){var n;v()(this,t),(n=y()(this,g()(t).call(this)))._mousePos=new X,n._previousMousePos=new X,n._mouseVelocity=new X,n._normalized=new X,n._screen=new X,n._wheelCallbacks=[],n._mouseClickCallbacks=[],n._mouseDownCallbacks=[],n._buttons=[],n._manualUpdate=!1,n._resetSpeed=!1,n._preventDefault=!1,n._touchStartListener=function(e){n._preventDefault&&e.preventDefault(),n._resetSpeed=!0,n.mouseDown(0),n._buttons[0].downByTouch=!0,n.setMousePosition(e.targetTouches[0]);for(var t=0;t<n._mouseDownCallbacks.length;t++)n._mouseDownCallbacks[t].call(V()(n))},n._touchMoveListener=function(e){n.setMousePosition(e.targetTouches[0]),e.preventDefault()},n._endListener=function(){for(var e=0;e<n._buttons.length;e++)n._buttons[e].down=!1,n._buttons[e].downThisFrame=!1,n._buttons[e].downByTouch=!1},n._mouseDownListener=function(e){n._preventDefault&&e.preventDefault(),n.mouseDown(e.which-1),n.setMousePosition(e);for(var t=0;t<n._mouseDownCallbacks.length;t++)n._mouseDownCallbacks[t].call(V()(n))},n._mouseMoveListener=function(e){n.setMousePosition(e);for(var t=0;t<3;t++)n._buttons[t].downTime>.25&&(n._buttons[t].clickCanceled=!0)},n._mouseWheelListener=function(e){for(var t=0;t<n._wheelCallbacks.length;t++)n._wheelCallbacks[t].call(V()(n),Math.sign(-e.deltaY))},n._upListener=function(){if(n._resetSpeed=!0,!n._buttons[0].clickCanceled)for(var e=0;e<n._mouseClickCallbacks.length;e++)n._mouseClickCallbacks[e].call(V()(n));for(var t=0;t<n._buttons.length;t++)n._buttons[t].down=!1,n._buttons[t].downThisFrame=!1,n._buttons[t].downByTouch=!1},n._canvas=e;for(var i=0;i<3;i++)n._buttons.push(new Ae);return n._canvas.addEventListener("mousemove",n._mouseMoveListener,!1),n._canvas.addEventListener("mouseout",n._endListener,!1),n.updateLoop(),n}return b()(t,e),p()(t,[{key:"setPreventDefault",value:function(e){this._preventDefault=e}},{key:"mouseDown",value:function(e){this._resetSpeed=!0,this._buttons[e].down=!0,this._buttons[e].downThisFrame=!0,this._buttons[e].clickCanceled=!1,this._buttons[e].downByTouch=!1,this._buttons[e].downTime=0}},{key:"addWheelEvent",value:function(e){this._wheelCallbacks.push(e)}},{key:"addMouseClickEvent",value:function(e){this._mouseClickCallbacks.push(e)}},{key:"addMouseDownEvent",value:function(e){this._mouseDownCallbacks.push(e)}},{key:"setMousePosition",value:function(e){this._mousePos.x=e.pageX,this._mousePos.y=e.pageY}},{key:"getPixelPos",value:function(){return this._mousePos}},{key:"getNormalizedPos",value:function(){return this._normalized}},{key:"getScreenPos",value:function(){return this._screen}},{key:"getNormalizedVelocity",value:function(){return this._mouseVelocity}},{key:"getButton",value:function(e){return this._buttons[e]}},{key:"getMouseDown",value:function(){return this._buttons[0].down}},{key:"getMouseDownThisFrame",value:function(){return this._buttons[0].downThisFrame}},{key:"getMouseDownRight",value:function(){return this._buttons[2].down}},{key:"getMouseDownThisFrameRight",value:function(){return this._buttons[2].downThisFrame}},{key:"updateManual",value:function(){this._manualUpdate=!0,this.update()}},{key:"updateLoop",value:function(){var e=this;this.isDestructed||this._manualUpdate||(this.update(),window.requestAnimationFrame(function(){return e.updateLoop()}))}},{key:"update",value:function(){this._normalized.x=this._mousePos.x/this._canvas.clientWidth,this._normalized.y=this._mousePos.y/this._canvas.clientHeight,this._screen.x=2*this._normalized.x-1,this._screen.y=-(2*this._normalized.y-1),this._resetSpeed?(this._resetSpeed=!1,this._mouseVelocity.setValues(0,0)):(this._mouseVelocity.x=this._normalized.x-this._previousMousePos.x,this._mouseVelocity.y=this._normalized.y-this._previousMousePos.y),this._previousMousePos.copy(this._normalized);for(var e=0;e<3;e++){var t=this._buttons[e];t.downTime>0&&(t.downThisFrame=!1),this._buttons[e].down&&(t.downTime+=Te.getInstance().deltaTime)}}},{key:"cancelClick",value:function(){for(var e=0;e<this._buttons.length;e++)this._buttons[e].clickCanceled=!0}},{key:"destruct",value:function(){this._canvas,A()(g()(t.prototype),"destruct",this).call(this)}}]),t}(k),be=n(652),ke=function(e){function t(e,n,i,r,a){var s,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];if(v()(this,t),(s=y()(this,g()(t).call(this))).textureCount=0,s.isWebgl2=!1,s._renderWidth=1,s._renderHeight=1,s._renderSize=new X,s.handleCanvasResize=function(){s.setRenderSize(s.getCanvas().width,s.getCanvas().height)},s.id=t._id++,null===r?s.shaderIndex=new _e:"function"===typeof r?(s.shaderIndex=new _e,s.shaderIndex.addContext(r)):s.shaderIndex=r,s.shaderIndex.addContext(be),s._canvas=n,s._canvas.addEventListener("resize",s.handleCanvasResize),i===t.webgl2ContextName?s.isWebgl2=!0:o||s.getAlphaIsCorrect()||(o=!0),s.context=s.getCanvas().getContext(i,{alpha:o,stencil:u,preserveDrawingBuffer:!l,premultipliedAlpha:c,antialias:a}),!s.context)throw new Error("could not get a 3d context: aborting");return s.maxParams=new W(s.context),s.renderState=new de(V()(s)),t.staticExtensionManager=s.extensionManager=new fe,s.extensionManager.enableExtensions(s.context),s._copyTextureMaterial=new he(V()(s),e,"default"),s._copyTextureMaterial.depthTest=!1,s._copyTextureMaterial.depthWrite=!1,s._clearColor=new Z(.5,.5,.5,1),s._blitMesh=s.createTriangle(),s}return b()(t,e),p()(t,[{key:"getAlphaIsCorrect",value:function(){var e=document.createElement("canvas");e.width=1,e.height=1;var t=e.getContext("experimental-webgl",{alpha:!1,preserveDrawingBuffer:!1});t.clearColor(1,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var n=document.createElement("canvas").getContext("2d");n.drawImage(e,0,0);var i=255===n.getImageData(0,0,1,1).data[3];return i||j.log("alpha bug detected"),i}},{key:"init",value:function(){j.log("renderer: textureCount",this.textureCount),this.unSetRenderTexture(),this.handleCanvasResize()}},{key:"getRenderContext",value:function(){throw new ReferenceError("GetRenderContext(): no implementation defined, no context available.")}},{key:"preprocessShaderString",value:function(e){return e}},{key:"draw",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]}},{key:"startBatch",value:function(e,t){}},{key:"drawElements",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]}},{key:"endBatch",value:function(){}},{key:"createTriangle",value:function(){var e=new ge(this),t=new Float32Array([-1,-1,0,-1,3,0,3,-1,0]);e.setPositions(t);var n=new Float32Array([0,0,0,2,2,0]);e.setUV0(n);var i=new Uint16Array([0,2,1]);return e.setIndices(i),e}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getMouseListener",value:function(){return this._mouseListener||(this._mouseListener=new Re(document.body)),this._mouseListener}},{key:"getRenderWidth",value:function(){return this._renderWidth}},{key:"getRenderHeight",value:function(){return this._renderHeight}},{key:"getRenderSize",value:function(){return this._renderSize}},{key:"enablePointsprites",value:function(){this.context.enable(34370)}},{key:"blit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=n||this._copyTextureMaterial;t&&this.setRenderTexture(t),e&&r.setTexture("uTexture",e),i&&this.clear(),this.draw(this._blitMesh,r),t&&this.unSetRenderTexture()}},{key:"setRenderTexture",value:function(e){e.scaleToCanvas&&e.setSize(Math.round(this.getCanvas().width*e.sizeMultiplier),Math.round(this.getCanvas().height*e.sizeMultiplier)),e.setAsTarget(),this.setRenderSize(e.width,e.height)}},{key:"unSetRenderTexture",value:function(){var e=this.context;e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),this.setRenderSize(this.getCanvas().width,this.getCanvas().height)}},{key:"clearWithColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.context.clearColor(e,t,n,i),this.clear(),this.context.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a)}},{key:"clearRenderTexture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.setRenderTexture(e),this.clearWithColor(t,n,i,r),this.unSetRenderTexture()}},{key:"getAspect",value:function(){return this._renderWidth/this._renderHeight}},{key:"clearDepth",value:function(){this.renderState.setDepthMask(!0),this.context.clear(J.DEPTH_BUFFER_BIT)}},{key:"setClearColor",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._clearColor.setValues(e,t,n,i),this.context.clearColor(e,t,n,i)}},{key:"getClearColor",value:function(){return this._clearColor}},{key:"clear",value:function(){this.context.depthMask(!0),this.context.clear(J.COLOR_BUFFER_BIT|J.DEPTH_BUFFER_BIT),this.context.depthMask(this.renderState.getDepthMask())}},{key:"setRenderSize",value:function(e,t){this._renderWidth===e&&this._renderHeight===t||(this._renderWidth=e,this._renderHeight=t,this._renderSize.x=e,this._renderSize.y=t,this.context.viewport(0,0,this._renderWidth,this._renderHeight))}},{key:"setScissor",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e=I.clamp01(e),t=I.clamp01(t);var a=(n=I.clamp01(n))-e,s=(i=I.clamp01(i))-t,o=this._renderWidth,l=this._renderHeight;this.context.enable(J.SCISSOR_TEST),this.context.scissor(e*o,t*l,a*o,s*l),r&&this.context.viewport(e*o,t*l,a*o,s*l)}},{key:"setScissorPixels",value:function(e,t,n,i){this.context.enable(J.SCISSOR_TEST),this.context.scissor(e,t,n-e,i-t)}},{key:"unSetScissor",value:function(){this.context.disable(J.SCISSOR_TEST)}},{key:"setViewPort",value:function(e,t,n,i){this._renderWidth=n,this._renderHeight=i,this.context.viewport(e,t,this._renderWidth,this._renderHeight)}},{key:"unsetViewPort",value:function(){this.context.viewport(0,0,this._canvas.width,this._canvas.height)}},{key:"setChannelMask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.context.colorMask(e,t,n,i)}},{key:"clearChannelMask",value:function(){this.context.colorMask(!0,!0,!0,!0)}},{key:"setStencilEnabled",value:function(e){e?this.context.enable(J.STENCIL_TEST):this.context.disable(J.STENCIL_TEST)}},{key:"startDrawToStencil",value:function(){var e=this.context;this.setStencilEnabled(!0),e.stencilFunc(J.ALWAYS,1,255),e.stencilOp(J.KEEP,J.KEEP,J.REPLACE),e.stencilMask(255)}},{key:"setStencilFuncEqual",value:function(e){this.context.stencilFunc(e?J.EQUAL:J.NOTEQUAL,1,255)}},{key:"destructVAO",value:function(e){}},{key:"destruct",value:function(){if(!this.isDestructed){j.log("Renderer: destruct");for(var e=this.context,n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),i=0;i<n;++i)e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_CUBE_MAP,null);e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.useProgram(null);var r=e.getExtension("WEBGL_lose_context");r&&r.loseContext(),this._blitMesh&&this._blitMesh.destruct(),this._copyTextureMaterial&&this._copyTextureMaterial.destruct(),this._canvas.removeEventListener("resize",this.handleCanvasResize),this._mouseListener&&this._mouseListener.destruct(),A()(g()(t.prototype),"destruct",this).call(this)}}}]),t}(k);ke._id=0,ke.webgl2ContextName="webgl2",ke.webgl1ContextName="experimental-webgl";var xe=ke,Me=function(e){function t(e,n,i,r){var a,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return v()(this,t),(a=y()(this,g()(t).call(this,e,n,xe.webgl1ContextName,i,r,s,o,l,u)))._vertexArrayObjects={},a}return b()(t,e),p()(t,[{key:"init",value:function(){A()(g()(t.prototype),"init",this).call(this)}},{key:"getRenderContext",value:function(){return this.context}},{key:"preprocessShaderString",value:function(e){return"#define WEBGL1\n"+e}},{key:"initVAO",value:function(e,t){var n=this.extensionManager.vertex_array_object,i=n.createVertexArrayOES();return n.bindVertexArrayOES(i),this.setStates(e,t),n.bindVertexArrayOES(null),i}},{key:"setStates",value:function(e,t){var n=this.context;if(e.isInterleaved()){e.interleaveData(),n.bindBuffer(n.ARRAY_BUFFER,e.interleavedBuffer);for(var i=0,r=0;r<e.attributes.length;r++){var a=e.attributes[r],s=t.shader.getAttributeByName(a.name);s&&(n.enableVertexAttribArray(s.loc),n.vertexAttribPointer(s.loc,s.stride,n.FLOAT,!1,4*e.interleavedStrideSum,i)),i+=4*a.stride}}else for(var o=0;o<e.attributes.length;o++){var l=e.attributes[o],u=t.shader.getAttributeByName(l.name);if(u){if(void 0===l.buffer)throw new ReferenceError("Expected buffer to be defined on VertexAttribute when setting states.");n.bindBuffer(n.ARRAY_BUFFER,l.buffer),n.enableVertexAttribArray(u.loc),n.vertexAttribPointer(u.loc,u.stride,n.FLOAT,!1,4*u.stride,0)}}e.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer)}},{key:"destructVAO",value:function(e){var t=this.extensionManager.vertex_array_object;if(t){var n=this._vertexArrayObjects[e.id];for(var i in n){var r=n[i];t.deleteVertexArrayOES(r)}this._vertexArrayObjects[e.id]=[]}}},{key:"getVAO",value:function(e,t){var n,i=this._vertexArrayObjects[e.id];return i?(n=i[t.id])||(n=this.initVAO(e,t),i[t.id]=n):(i={},n=this.initVAO(e,t),i[t.id]=n,this._vertexArrayObjects[e.id]=i),n}},{key:"bindVAO",value:function(e){var t=this.extensionManager.vertex_array_object;e!=this._currentVAO&&(t.bindVertexArrayOES(e),this._currentVAO=e)}},{key:"drawVAO",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;n.setActive(),this.bindVAO(e),this.drawElements(t,n,i,r),this.bindVAO(null)}},{key:"draw",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(t.setActive(),!this.extensionManager.vertex_array_object||e.isDynamic)this.setStates(e,t),this.drawElements(e,t,n,i);else{var r=this.getVAO(e,t);this.bindVAO(r),this.drawElements(e,t,n,i),this.bindVAO(null)}}},{key:"startBatch",value:function(e,t){t.setActive(),this.extensionManager.vertex_array_object?this.extensionManager.vertex_array_object.bindVertexArrayOES(this.getVAO(e,t)):this.setStates(e,t)}},{key:"drawElements",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(e.indices){if(void 0===e.indexType)throw new ReferenceError("expected mesh.indexType to be set on a mesh with indices");i>0?this.context.drawElements(t.drawType,Math.min(i,e.indices.length),e.indexType,n*(e.indexType==J.UNSIGNED_SHORT?2:4)):this.context.drawElements(t.drawType,e.indices.length,e.indexType,0)}else{var r=e.getNumVertices()-n;i>0?this.context.drawArrays(t.drawType,n,Math.min(r,i)):this.context.drawArrays(t.drawType,n,r)}}},{key:"endBatch",value:function(){this.extensionManager.vertex_array_object&&this.extensionManager.vertex_array_object.bindVertexArrayOES(null)}},{key:"destruct",value:function(){if(!this.isDestructed){j.log("RendererWebGL1: destruct");var e=this.extensionManager.vertex_array_object;if(e&&this._vertexArrayObjects)for(var n=0;n<this._vertexArrayObjects.length;n++)e.deleteVertexArrayOES(this._vertexArrayObjects[n]);A()(g()(t.prototype),"destruct",this).call(this)}}}]),t}(xe),Ne=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return v()(this,t),(n=y()(this,g()(t).call(this,e))).createPlane(i,r,a,s,o),n}return b()(t,e),p()(t,[{key:"createPlane",value:function(e,t,n,i,r){for(var a=(e+1)*(t+1),s=new Float32Array(3*a),o=new Float32Array(2*a),l=new Float32Array(3*a),u=0,c=0,h=0,d=0;d<t+1;d++)for(var f=0;f<e+1;f++)s[u++]=f/e*2-1,n?(s[u++]=0,s[u++]=d/t*2-1):(s[u++]=d/t*2-1,s[u++]=0),o[c++]=f/e,o[c++]=d/t,n?(l[h++]=0,l[h++]=1,l[h++]=0):(l[h++]=0,l[h++]=0,l[h++]=1);this.setPositions(s,i),this.setUV0(o,i),this.setNormals(l,i);var v=new Uint32Array(3*(e*t*2)),_=e+1;u=0;for(d=0;d<t;d++)for(f=0;f<e;f++)v[u++]=d*_+f,v[u++]=(d+1)*_+f,v[u++]=d*_+f+1,v[u++]=(d+1)*_+f,v[u++]=(d+1)*_+f+1,v[u++]=d*_+f+1;r?this.setIndices32(v):this.setIndices(Uint16Array.from(v))}}]),t}(ge),Se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;v()(this,e),this.q=F.c.create(),F.c.set(this.q,t,n,i,r)}return p()(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return F.c.set(this.q,e.x,e.y,e.z,e.w),this}},{key:"setValues",value:function(e,t,n,i){return F.c.set(this.q,e,t,n,i),this}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"}},{key:"dot",value:function(e){return F.c.dot(this.q,e.q)}},{key:"identity",value:function(){return F.c.identity(this.q),this}},{key:"multiply",value:function(e){return F.c.multiply(this.q,this.q,e.q),this}},{key:"invert",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=this.w,this}},{key:"rotateX",value:function(e){return F.c.rotateX(this.q,this.q,e),this}},{key:"rotateY",value:function(e){return F.c.rotateY(this.q,this.q,e),this}},{key:"rotateZ",value:function(e){return F.c.rotateZ(this.q,this.q,e),this}},{key:"setAxisAngleRadians",value:function(e,t){return F.c.setAxisAngle(this.q,e.v,t),this}},{key:"rotateAxisAngleRadians",value:function(t,n){return F.c.setAxisAngle(e._tempQuat,t.v,n),F.c.multiply(this.q,e._tempQuat,this.q),this}},{key:"x",get:function(){return this.q[0]},set:function(e){this.q[0]=e}},{key:"y",get:function(){return this.q[1]},set:function(e){this.q[1]=e}},{key:"z",get:function(){return this.q[2]},set:function(e){this.q[2]=e}},{key:"w",get:function(){return this.q[3]},set:function(e){this.q[3]=e}}],[{key:"dot",value:function(e,t){return F.c.dot(e.q,t.q)}},{key:"multiply",value:function(e,t,n){return F.c.multiply(e.q,t.q,n.q),e}},{key:"invert",value:function(e,t){return e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=-t.w,e}},{key:"lerp",value:function(e,t,n,i){return F.c.lerp(e.q,t.q,n.q,i),e}},{key:"slerp",value:function(e,t,n,i){return F.c.slerp(e.q,t.q,n.q,i),e}},{key:"closestSlerp",value:function(t,n,i,r){return n.dot(i)<0?(e.invert(this.tInvB,i),e.slerp(t,n,this.tInvB,r)):e.slerp(t,n,i,r),t}},{key:"fromMat3",value:function(e,t){return F.c.fromMat3(e.q,t),e}},{key:"lookAt",value:function(t,n,i,r){e._tempForward.copy(n),e._tempForward.subtract(i),e._tempForward.normalize(),P.cross(e._tempRight,r,e._tempForward),e._tempRight.normalize(),P.cross(e._tempUp,e._tempForward,e._tempRight),e._tempUp.normalize();var a=F.a.fromValues(e._tempRight.x,e._tempRight.y,e._tempRight.z,e._tempUp.x,e._tempUp.y,e._tempUp.z,e._tempForward.x,e._tempForward.y,e._tempForward.z);return e.fromMat3(t,a),t}},{key:"CreateFromAxisAngle",value:function(e,t,n){var i=.5*n,r=Math.sin(i);e.setValues(t.x*r,t.y*r,t.z*r,Math.cos(i))}},{key:"fromEuler",value:function(e,t,n,i){return F.c.fromEuler(e.q,t,n,i),e}}]),e}();Se.IDENTITY=new Se,Se._tempQuat=F.c.create(),Se.tInvB=new Se,Se._tempForward=new P,Se._tempRight=new P,Se._tempUp=new P;var Fe=function(e){function t(){var e;return v()(this,t),(e=y()(this,g()(t).call(this))).autoUpdate=!0,e._rotation=new Se,e._pos=new P,e._scale=new P(1,1,1),e._parent=null,e._matrix=F.b.create(),e._localMatrix=F.b.create(),e._changeCallback=[],e._children=[],e._tempMat4=F.b.create(),e._tempMat3=F.a.create(),e._tempV3a=new P,e._dirty=!0,e._signalDirtyDown=!1,e}return b()(t,e),p()(t,[{key:"identity",value:function(){this._pos.setValues(0,0,0),this._rotation.identity(),this._scale.setValues(1,1,1)}},{key:"setParent",value:function(e){this._parent!==e&&(this._parent&&this._parent.removeChild(this),this._parent=e,e&&e.addChild(this),this.setDirty())}},{key:"getParent",value:function(){return this._parent}},{key:"addChild",value:function(e){this._children.indexOf(e)<0&&(this._children.push(e),e.setParent(this))}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);t>-1&&(this._children.splice(t,1),e.setParent(null))}},{key:"getChildren",value:function(){return this._children}},{key:"addChangeCallBack",value:function(e){this._changeCallback.push(e)}},{key:"setDirty",value:function(){this._dirty||(this._dirty=!0,this.signalDirtyDown())}},{key:"setParentDirty",value:function(){this.signalDirtyDown()}},{key:"signalDirtyDown",value:function(){if(!this._signalDirtyDown){this._signalDirtyDown=!0;for(var e=this._changeCallback.length-1;e>=0;e--)this._changeCallback[e].call(this);for(var t=this._children.length-1;t>=0;t--)this._children[t].setParentDirty()}}},{key:"clone",value:function(){var e=new t;return e.setScale(this._scale),e.setRotation(this._rotation),e.setPosition(this._pos),e}},{key:"copy",value:function(e){return this.setScale(e._scale),this.setRotation(e._rotation),this.setPosition(e._pos),this}},{key:"updateMatrix",value:function(){(this._dirty||this._signalDirtyDown)&&(this.autoUpdate&&(this._dirty&&F.b.fromRotationTranslationScale(this._localMatrix,this._rotation.q,this._pos.v,this._scale.v),this._parent?F.b.multiply(this._matrix,this._parent.getWorldMatrix(),this._localMatrix):this._dirty&&F.b.copy(this._matrix,this._localMatrix)),this._dirty=!1,this._signalDirtyDown=!1)}},{key:"lookAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.UP;this.setPosition(e),this.lookAtFromCurrentPos(t,n)}},{key:"lookAtFromCurrentPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.UP;Se.lookAt(this._rotation,this._pos,e,t),this.setDirty()}},{key:"setPositionRotationScale",value:function(e,t,n){this._pos.copy(e),this._rotation.copy(t),this._scale.copy(n),this.setDirty()}},{key:"getWorldMatrix",value:function(){return this.updateMatrix(),this._matrix}},{key:"getLocalMatrix",value:function(){return this.updateMatrix(),this._localMatrix}},{key:"getPosition",value:function(){return this._pos}},{key:"setPosition",value:function(e){this._pos.copy(e),this.setDirty()}},{key:"setPositionValues",value:function(e,t,n){this._pos.setValues(e,t,n),this.setDirty()}},{key:"getWorldPosition",value:function(){this.updateMatrix();var e=this._tempV3a;return e.copy(P.ZERO),e.transform(this._matrix),e}},{key:"getScale",value:function(){return this._scale}},{key:"setScale",value:function(e){this._scale.copy(e),this.setDirty()}},{key:"setScaleScalar",value:function(e){this._scale.setValues(e,e,e),this.setDirty()}},{key:"setScaleValues",value:function(e,t,n){this._scale.setValues(e,t,n),this.setDirty()}},{key:"translateX",value:function(e){this._pos.x+=e,this.setDirty()}},{key:"translateY",value:function(e){this._pos.y+=e,this.setDirty()}},{key:"translateZ",value:function(e){this._pos.z+=e,this.setDirty()}},{key:"translate",value:function(e){this._pos.add(e),this.setDirty()}},{key:"translateValues",value:function(e,t,n){this._pos.x+=e,this._pos.y+=t,this._pos.z+=n,this.setDirty()}},{key:"getRotation",value:function(){return this._rotation}},{key:"setRotation",value:function(e){this._rotation.copy(e),this.setDirty()}},{key:"getRotationMatrix",value:function(){return F.b.fromQuat(this._tempMat4,this._rotation.q),this._tempMat4}},{key:"getRotationMatrixMat3",value:function(){return F.a.fromQuat(this._tempMat3,this._rotation.q),this._tempMat3}},{key:"getWorldRotationMatrixMat3",value:function(){var e=this.getRotationMatrixMat3();return this._parent&&F.a.multiply(e,this._parent.getWorldRotationMatrixMat3(),e),e}},{key:"getWorldRotationMatrix",value:function(){var e=this.getRotationMatrix();return this._parent&&F.b.multiply(e,this._parent.getRotationMatrix(),e),e}},{key:"setRotationFromMatrix",value:function(e){Se.fromMat3(this._rotation,e),this.setDirty()}},{key:"rotateRadiansValues",value:function(e,t,n){return this._rotation.rotateY(t),this._rotation.rotateX(e),this._rotation.rotateZ(n),this.setDirty(),this._rotation}},{key:"rotateRadians",value:function(e){return this.rotateRadiansValues(e.x,e.y,e.z)}},{key:"rotateDegreesValues",value:function(e,n,i){return this.rotateRadiansValues(e*t._degToRad,n*t._degToRad,i*t._degToRad)}},{key:"rotateDegrees",value:function(e){return this.rotateDegreesValues(e.x,e.y,e.z)}},{key:"rotateAxisAngleRadians",value:function(e,t){return this._rotation.rotateAxisAngleRadians(e,t),this.setDirty(),this._rotation}},{key:"rotateDegreesY",value:function(e){this._rotation.rotateY(e*t._degToRad),this.setDirty()}},{key:"rotateRadiansX",value:function(e){this._rotation.rotateX(e),this.setDirty()}},{key:"rotateRadiansY",value:function(e){this._rotation.rotateY(e),this.setDirty()}},{key:"rotateRadiansZ",value:function(e){this._rotation.rotateZ(e),this.setDirty()}},{key:"setEulerDegreesValues",value:function(e,t,n){this._rotation.identity(),this.rotateDegreesValues(e,t,n)}},{key:"setEulerDegrees",value:function(e){this.setEulerDegreesValues(e.x,e.y,e.z)}},{key:"setEulerDegreesXY",value:function(e){this.setEulerDegreesValues(e.x,e.y,0)}},{key:"setEulerRadians",value:function(e){this._rotation.identity(),this.rotateRadiansValues(e.x,e.y,e.z)}},{key:"setRadiansX",value:function(e){this._rotation.identity(),this.rotateRadiansX(e)}},{key:"setRadiansY",value:function(e){this._rotation.identity(),this.rotateRadiansY(e)}},{key:"setRadiansZ",value:function(e){this._rotation.identity(),this.rotateRadiansZ(e)}},{key:"getEulerDegrees",value:function(){F.a.fromQuat(this._tempMat3,this._rotation.q);var e=t.getEulerRadiansYXZ(this._tempMat3);return e.x*=t._radToDeg,e.y*=t._radToDeg,e.z*=t._radToDeg,e}},{key:"getForward",value:function(){var e=this.getRotationMatrixMat3();return this._tempV3a.setValues(e[6],e[7],e[8]),this._tempV3a}},{key:"getWorldForward",value:function(){var e=this.getWorldRotationMatrixMat3();return this._tempV3a.setValues(e[6],e[7],e[8]),this._tempV3a}},{key:"getRight",value:function(){var e=this.getRotationMatrixMat3();return this._tempV3a.setValues(e[0],e[1],e[2]),this._tempV3a}},{key:"getWorldRight",value:function(){var e=this.getWorldRotationMatrixMat3();return this._tempV3a.setValues(e[0],e[1],e[2]),this._tempV3a}},{key:"getUp",value:function(){var e=this.getRotationMatrixMat3();return this._tempV3a.setValues(e[3],e[4],e[5]),this._tempV3a}},{key:"getWorldUp",value:function(){var e=this.getWorldRotationMatrixMat3();return this._tempV3a.setValues(e[3],e[4],e[5]),this._tempV3a}},{key:"setDirection",value:function(e,n){var i=this._tempV3a;P.cross(i,n,e),i.normalize();var r=t._tempV3aS;P.cross(r,e,i),r.normalize(),F.a.set(this._tempMat3,i.x,i.y,i.z,r.x,r.y,r.z,e.x,e.y,e.z),this.setRotationFromMatrix(this._tempMat3)}},{key:"getDirection",value:function(){var e=this._tempV3a;return e.copy(P.FORWARD),e.transformMat3(this.getWorldRotationMatrixMat3()),e}},{key:"destruct",value:function(){A()(g()(t.prototype),"destruct",this).call(this)}}],[{key:"getEulerRadiansYXZ",value:function(e){var n,i,r;return e[7]<-1+this.singularityRange?(n=Math.PI/2,i=Math.atan2(e[3],e[0]),r=0):e[7]>1-this.singularityRange?(n=-Math.PI/2,i=-Math.atan2(e[3],e[0]),r=0):(n=Math.asin(-e[7]),i=Math.atan2(e[6],e[8]),r=Math.atan2(e[1],e[4])),t._tempV3aS.setValues(n,i,r),t._tempV3aS}}]),t}(k);Fe._degToRad=Math.PI/180,Fe._radToDeg=180/Math.PI,Fe._tempV3aS=new P,Fe.singularityRange=1e-4;var Ce=Fe,Pe=function(e){function t(e,n,i,r){var a,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return v()(this,t),(a=y()(this,g()(t).call(this,e,n,"webgl2",i,r,s,o,l)))._vertexArrayObjects={},a._vertexArrayObjects={},a}return b()(t,e),p()(t,[{key:"init",value:function(){A()(g()(t.prototype),"init",this).call(this)}},{key:"getRenderContext",value:function(){return this.context}},{key:"preprocessShaderString",value:function(e){var t=e.indexOf("#version"),n="";return t>-1&&(n=e.substr(t,e.indexOf("\n",t)-t)),e=n+"\n#define WEBGL2\n"+(e=e.replace(n,""))}},{key:"getVAO",value:function(e,t){var n=null,i=this._vertexArrayObjects[e.id];return i?(n=i[t.id])||(n=this.initVAO(e,t),i[t.id]=n):(i=[],n=this.initVAO(e,t),i[t.id]=n,this._vertexArrayObjects[e.id]=i),n}},{key:"initVAO",value:function(e,t){var n=this.getRenderContext(),i=n.createVertexArray();n.bindVertexArray(i);var r=0;e.isInterleaved()&&(e.interleaveData(),this.context.bindBuffer(this.context.ARRAY_BUFFER,e.interleavedBuffer));for(var a=0;a<e.attributes.length;a++){var s=e.attributes[a],o=t.shader.getAttributeByName(s.name);if(o){if(s.stride!==o.stride){j.log("Renderer: initVAO: strides don't match: ",s.stride,o.stride);continue}if(e.isInterleaved())n.enableVertexAttribArray(o.loc),n.vertexAttribPointer(o.loc,o.stride,n.FLOAT,!1,4*e.interleavedStrideSum,r);else{if(void 0===s.buffer)throw new ReferenceError("Expected buffer to be defined on VertexAttribute on non-interleaved mesh.");n.bindBuffer(n.ARRAY_BUFFER,s.buffer),n.enableVertexAttribArray(o.loc),n.vertexAttribPointer(o.loc,o.stride,n.FLOAT,!1,4*o.stride,0)}}e.interleaved&&(r+=4*s.stride)}return e.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer),i}},{key:"draw",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;t.setActive();var r=this.getVAO(e,t);this.context.bindVertexArray(r),this.drawElements(e,t,n,i)}},{key:"startBatch",value:function(e,t){t.setActive();var n=this.getVAO(e,t);this.getRenderContext().bindVertexArray(n)}},{key:"drawElements",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(e.hasIndices()){var r=e.indices.length;i>0?this.context.drawElements(t.drawType,Math.min(r,i),e.indexType,0):this.context.drawElements(t.drawType,r,e.indexType,0)}else{var a=e.getNumVertices()-n;i>0?this.context.drawArrays(t.drawType,n,Math.min(a,i)):this.context.drawArrays(t.drawType,n,a)}}},{key:"drawInstanced",value:function(e,t,n,i){t.setActive();var r=this._vertexArrayObjects&&void 0!==this._vertexArrayObjects[e.id]&&void 0!==this._vertexArrayObjects[e.id][t.id],a=this.getVAO(e,t),s=this.getRenderContext();if(s.bindVertexArray(a),!r)for(var o=0;o<i.attributes.length;++o){var l=i.attributes[o];s.bindBuffer(s.ARRAY_BUFFER,l.buffer),s.enableVertexAttribArray(l.index),s.vertexAttribPointer(l.index,l.nrComponents,s.FLOAT,!1,l.bufferStride,l.bufferOffset),s.vertexAttribDivisor(l.index,1)}e.hasIndices()?s.drawElementsInstanced(t.drawType,e.indices.length,e.indexType,0,n):s.drawArraysInstanced(t.drawType,0,e.getNumVertices(),n)}},{key:"destruct",value:function(){if(!this.isDestructed){if(j.log("RendererWebGL2: destruct"),this._vertexArrayObjects)for(var e in this._vertexArrayObjects)for(var n=0;n<this._vertexArrayObjects[e].length;++n)this.getRenderContext().deleteVertexArray(this._vertexArrayObjects[e][n]);A()(g()(t.prototype),"destruct",this).call(this)}}}]),t}(xe),Le=function(){function e(){v()(this,e)}return p()(e,null,[{key:"checkFloatCompatibility",value:function(t,n){if(!t.extensionManager.texture_float)if(t.extensionManager.texture_half_float){if(n===e.RGB_FLOAT)return e.RGB_HALF_FLOAT;if(n===e.RGBA_FLOAT)return e.RGBA_HALF_FLOAT}else console.log("Texture: setFormatType: not supported: ",n);return n}},{key:"checkHalfFloatCompatibility",value:function(t,n){if(!t.extensionManager.texture_half_float)if(t.extensionManager.texture_float){if(n===e.RGB_HALF_FLOAT)return e.RGB_FLOAT;if(n===e.RGBA_HALF_FLOAT)return e.RGBA_FLOAT}else console.log("Texture: setFormatType: not supported: ",n);return n}},{key:"validateFormatType",value:function(t,n){switch(n){case e.RGB_FLOAT:n=this.checkFloatCompatibility(t,n);case e.RGBA_FLOAT:n=this.checkFloatCompatibility(t,n);case e.RGBA_HALF_FLOAT:n=this.checkHalfFloatCompatibility(t,n);case e.RGB_HALF_FLOAT:n=this.checkHalfFloatCompatibility(t,n)}return n}},{key:"getFormat",value:function(t,n){switch(n){case e.RGBA_UNSIGNED_BYTE:return J.RGBA;case e.RGB_UNSIGNED_BYTE:case e.RGB_FLOAT:return J.RGB;case e.RGBA_FLOAT:case e.RGBA_HALF_FLOAT:return J.RGBA;case e.RGB_HALF_FLOAT:return J.RGB;case e.RG_HALF_FLOAT:return le.RG;case e.LUMINANCE_UNSIGNED_BYTE:case e.LUMINANCE_FLOAT:case e.LUMINANCE_HALF_fLOAT:return t instanceof Pe?le.RED:J.LUMINANCE;case e.DEPTH_UINTSHORT:case e.DEPTH_FLOAT:return J.DEPTH_COMPONENT;default:return j.error("can not yet get format for formatType: ",n),-1}}},{key:"getType",value:function(t,n){switch(n){case e.RGBA_UNSIGNED_BYTE:case e.RGB_UNSIGNED_BYTE:return J.UNSIGNED_BYTE;case e.RGBA_FLOAT:case e.RGB_FLOAT:return J.FLOAT;case e.RGBA_HALF_FLOAT:case e.RGB_HALF_FLOAT:case e.RG_HALF_FLOAT:return e.getHalfFloatType(t);case e.LUMINANCE_UNSIGNED_BYTE:return J.UNSIGNED_BYTE;case e.LUMINANCE_FLOAT:return J.FLOAT;case e.LUMINANCE_HALF_fLOAT:return e.getHalfFloatType(t);case e.DEPTH_UINTSHORT:return J.UNSIGNED_SHORT;case e.DEPTH_FLOAT:return J.FLOAT;default:return j.error("can not yet get type for formatType: ",n),-1}}},{key:"getHalfFloatType",value:function(e){if(e instanceof Pe)return le.HALF_FLOAT;var t=e.extensionManager.texture_half_float;return t?t.HALF_FLOAT_OES:-1}},{key:"getInternalFormat",value:function(t){switch(t){case e.RGBA_UNSIGNED_BYTE:return le.RGBA8;case e.RGB_UNSIGNED_BYTE:return le.RGB8;case e.RGBA_FLOAT:return le.RGBA32F;case e.RGB_FLOAT:return le.RGB32F;case e.RGBA_HALF_FLOAT:return le.RGBA16F;case e.RGB_HALF_FLOAT:return le.RGB16F;case e.RG_HALF_FLOAT:return le.RG16F;case e.LUMINANCE_UNSIGNED_BYTE:return le.R8;case e.LUMINANCE_FLOAT:return le.R32F;case e.LUMINANCE_HALF_fLOAT:return le.R16F;case e.DEPTH_UINTSHORT:return le.DEPTH_COMPONENT24;case e.DEPTH_FLOAT:return le.DEPTH_COMPONENT32F;default:return j.error("can not yet get type for formatType: ",t),-1}}},{key:"getBytesPerPixel",value:function(t){switch(t){case e.RGBA_UNSIGNED_BYTE:return 4;case e.RGB_UNSIGNED_BYTE:return 3;case e.RGB_FLOAT:return 12;case e.RGBA_FLOAT:return 16;case e.RGBA_HALF_FLOAT:return 8;case e.RGB_HALF_FLOAT:return 6;case e.RG_HALF_FLOAT:return 4;case e.LUMINANCE_UNSIGNED_BYTE:return 1;case e.LUMINANCE_FLOAT:return 4;case e.LUMINANCE_HALF_fLOAT:case e.DEPTH_UINTSHORT:return 2;case e.DEPTH_FLOAT:default:return 4}}}]),e}();Le.ALPHA_UNSIGNED_BYTE="ALPHA UNSIGNED_BYTE",Le.ALPHA_FLOAT="ALPHA FLOAT",Le.RGBA_UNSIGNED_BYTE="RGBA UNSIGNED_BYTE",Le.RGBA_FLOAT="RGBA FLOAT",Le.RGBA_HALF_FLOAT="RGBA HALF_FLOAT",Le.RGB_HALF_FLOAT="RGB HALF_FLOAT",Le.RGB_UNSIGNED_BYTE="RGB UNSIGNED_BYTE",Le.RGB_FLOAT="RGB_FLOAT",Le.LUMINANCE_UNSIGNED_BYTE="LUMINANCE UNSIGNED_BYTE",Le.LUMINANCE_FLOAT="LUMINANCE FLOAT",Le.LUMINANCE_HALF_fLOAT="LUMINANCE HALF_FLOAT",Le.DEPTH_UINTSHORT="DEPTH_UINTSHORT",Le.DEPTH_FLOAT="DEPTH_FLOAT",Le.RG_HALF_FLOAT="RG HALF_FLOAT";var Ie=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le.RGBA_UNSIGNED_BYTE,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(v()(this,t),(n=y()(this,g()(t).call(this,e))).name="unnamed",n._width=-1,n._height=-1,n._size=new X,n.internalFormat=-1,n.filterLinearEnabled=!0,n.useMips=!1,n._mipsCreated=!1,n.wrapModeClamp=!0,e instanceof Me)n.formatType=Le.validateFormatType(e,i);else{if(!(e instanceof Pe))throw new Error("Could not determine type of renderer");n.formatType=i,n.internalFormat=Le.getInternalFormat(i)}return n._format=Le.getFormat(n.renderer,n.formatType),n._type=Le.getType(n.renderer,n.formatType),n.useMips=r,a?n.setFilteringLinear():n.setFilteringNearest(),n.setWrapModeClamp(s),n}return b()(t,e),p()(t,[{key:"bindToSlot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.renderer.renderState.bindTextureToSlot(this.textureGL,e)}},{key:"bind",value:function(){this.renderer.context.activeTexture(J.TEXTURE0+this.renderer.maxParams.MAX_TEXTURE_IMAGE_UNITS-1),this.renderer.context.bindTexture(J.TEXTURE_2D,this.textureGL)}},{key:"setSize",value:function(e,t){if(e!==this.width||t!==this.height){if(this._width=e,this._height=t,this.bind(),this.renderer instanceof Me){var n=this.renderer.context;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,0),n.texImage2D(J.TEXTURE_2D,0,this.format,this.width,this.height,0,this.format,this.type,null)}else if(this.renderer instanceof Pe){var i=this.renderer.context;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,0),i.texImage2D(J.TEXTURE_2D,0,this.internalFormat,this.width,this.height,0,this.format,this.type,null)}j.log("expensive operation: resize: ",e,t,"format: ",this.format)}}},{key:"getSize",value:function(){return this._size.setValues(this.width,this.height),this._size}},{key:"setFilteringLinear",value:function(){this.setFiltering(!0)}},{key:"setFilteringNearest",value:function(){this.setFiltering(!1)}},{key:"setFiltering",value:function(e){this.filterLinearEnabled=e;var t,n=this.renderer.context;this.bind(),t=this._mipsCreated?e?J.LINEAR_MIPMAP_LINEAR:J.NEAREST_MIPMAP_LINEAR:e?J.LINEAR:J.NEAREST,n.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,e?J.LINEAR:J.NEAREST),n.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,t)}},{key:"setFilterAnisotropic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;if(this.setFilteringLinear(),this.renderer.extensionManager.filter_anisotropic){var t=this.renderer.context;e=Math.min(this.renderer.extensionManager.maxAnisotropy,e),t.texParameterf(t.TEXTURE_2D,this.renderer.extensionManager.filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e)}}},{key:"setWrapModeClamp",value:function(e){this.wrapModeClamp=e;var t=this.renderer.context;this.bind();var n=e?J.CLAMP_TO_EDGE:J.REPEAT;t.texParameteri(J.TEXTURE_2D,J.TEXTURE_WRAP_S,n),t.texParameteri(J.TEXTURE_2D,J.TEXTURE_WRAP_T,n)}},{key:"setWrapModeClampHorizontal",value:function(e){this.setWrapModeClampForDirection(e,J.TEXTURE_WRAP_S)}},{key:"setWrapModeClampVertical",value:function(e){this.setWrapModeClampForDirection(e,J.TEXTURE_WRAP_T)}},{key:"setWrapModeClampForDirection",value:function(e,t){var n=this.renderer.context;this.bind();var i=e?J.CLAMP_TO_EDGE:J.REPEAT;n.texParameteri(J.TEXTURE_2D,t,i)}},{key:"generateMips",value:function(){if(this.renderer instanceof Me&&!t.isPOT(this.width,this.height))j.error("can't generate mips: npot: ",this.width,this.height);else{var e=this.renderer.context;this.bind(),e.generateMipmap(e.TEXTURE_2D),this.useMips=!0,this._mipsCreated=!0,this.filterLinearEnabled?this.setFilteringLinear():this.setFilteringNearest()}}},{key:"disableMips",value:function(){this.useMips=!1,this._mipsCreated=!1,this.filterLinearEnabled?this.setFilteringLinear():this.setFilteringNearest()}},{key:"setData",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.renderer.context;this.bind(),r.pixelStorei(J.UNPACK_ALIGNMENT,1),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,i?1:0),r.pixelStorei(J.UNPACK_COLORSPACE_CONVERSION_WEBGL,J.NONE),this.renderer instanceof Me?r.texImage2D(J.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e):this.renderer instanceof Pe&&r.texImage2D(J.TEXTURE_2D,0,this.internalFormat,t,n,0,this.format,this.type,e),this._width=t,this._height=n}},{key:"getData",value:function(e){var n,i=this.renderer.context;switch(e||(e=t.getFramebuffer(this.renderer)),i.bindFramebuffer(J.FRAMEBUFFER,e),i.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,this.textureGL,0),this.formatType){case Le.RGBA_FLOAT:n=new Float32Array(this.width*this.height*4);break;case Le.RGB_FLOAT:n=new Float32Array(this.width*this.height*3);break;case Le.RGBA_UNSIGNED_BYTE:n=new Uint8Array(this.width*this.height*4);break;case Le.RGB_UNSIGNED_BYTE:n=new Uint8Array(this.width*this.height*3);break;case Le.LUMINANCE_UNSIGNED_BYTE:n=new Uint8Array(this.width*this.height);break;default:throw new Error("can not yet get data for format type: "+this.formatType)}return i.readPixels(0,0,this.width,this.height,this.format,this.type,n),i.bindFramebuffer(i.FRAMEBUFFER,null),n}},{key:"getPixel",value:function(e,n){var i=this.renderer.context,r=t.getFramebuffer(this.renderer);i.bindFramebuffer(J.FRAMEBUFFER,r),i.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,this.textureGL,0);var a=new Uint8Array(4);return i.readPixels(e,n,1,1,J.RGBA,J.UNSIGNED_BYTE,a),i.bindFramebuffer(i.FRAMEBUFFER,null),a}},{key:"getAspect",value:function(){return this.width/this.height}},{key:"setImage",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.isDestructed){var r=this.renderer.context;this.bind(),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,n?1:0),r.pixelStorei(J.UNPACK_COLORSPACE_CONVERSION_WEBGL,J.NONE),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i?1:0),r.texImage2D(J.TEXTURE_2D,0,this.format,this.format,this.type,e),e instanceof HTMLVideoElement?(this._width=e.videoWidth,this._height=e.videoHeight):(this._width=e.width,this._height=e.height,t.textureBytesLoaded+=this.width*this.height*Le.getBytesPerPixel(this.formatType)),this.useMips&&this.generateMips(),n&&r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,0),i&&r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0)}}},{key:"destruct",value:function(){t._framebuffers[this.renderer.id]&&(this.renderer.context.deleteFramebuffer(t._framebuffers[this.renderer.id]),t._framebuffers[this.renderer.id]=null);A()(g()(t.prototype),"destruct",this).call(this)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"format",get:function(){return this._format}},{key:"type",get:function(){return this._type}}],[{key:"isPOT",value:function(e,t){return 0===(e&e-1)&&0===(t&t-1)}},{key:"getFramebuffer",value:function(e){if(!t._framebuffers[e.id]){var n=e.context;t._framebuffers[e.id]=n.createFramebuffer()}return t._framebuffers[e.id]}},{key:"logImageTextureMemoryUsage",value:function(){j.log("ImageTextureMemoryUsage: "+t.textureBytesLoaded/1048576+" MB")}}]),t}(function(e){function t(e){var n;v()(this,t),(n=y()(this,g()(t).call(this))).renderer=e,n.renderer.textureCount++;var i=n.renderer.context;return n.textureGL=i.createTexture(),n}return b()(t,e),p()(t,[{key:"bindToSlot",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"setSize",value:function(e,t,n){}},{key:"destruct",value:function(){if(!this.isDestructed){var e=this.renderer.context;this.textureGL&&e.deleteTexture(this.textureGL)}A()(g()(t.prototype),"destruct",this).call(this)}}]),t}(k));Ie.textureBytesLoaded=0,Ie._framebuffers={};var we=function(e){function t(e,n,i){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Le.RGBA_UNSIGNED_BYTE,c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];return v()(this,t),(r=y()(this,g()(t).call(this,e,u,a,s,o)))._flipY=!0,r._premultiply=!1,r.loaded=!1,r._flipY=l,r._url=i,r._premultiply=c,n.add(V()(r)),r}return b()(t,e),p()(t,[{key:"load",value:function(e){var t=this;ve.loadImage(this._url,function(n){t.setImage(n,t._flipY,t._premultiply),t.loaded=!0,t.image=n,e.call(t)})}}]),t}(Ie),Oe=n(355),Be=function(){function e(t,n,i){v()(this,e),this._transform=new Ce,this._startPosition=new P,this._randomAngle=new P,this._randomMovement=new P,this._movement=new P,this._time=0,this._flip=0,this._xOffset=0,this._rotation=0,this.position=new P,this._renderer=t,this._index=i,e.material||(e.material=new he(t,n,"particle"),e.material.setPreMultipliedAlphaBlending(),e.material.setCullingDisabled(),e.material.depthTest=!1),e.mesh||(e.mesh=new Ne(t,1,1)),e.texture||(e.texture=new we(this._renderer,n,Oe("./petals.png"),!0,!0)),this._startPosition.setValues(6*(e.getHaltonSequence(i+.5,2)%1-.5),e.maxY,e.getHaltonSequence(i+.5,3)%1*2),this.position.copy(this._startPosition),this._time=e.getHaltonSequence(this._index+.5,5)*(2*e.maxY/.1),this._randomAngle.randomize().multiplyScalar(Math.PI),this._randomMovement.randomize(),this._flip=Math.random(),this._xOffset=.25*Math.floor(4*Math.random())}return p()(e,[{key:"update",value:function(t,n,i){if((i||this._time>=0)&&(this._time+=t),this._time>=0){var r=10*this._time;this._movement.setValues(.1*Math.sin(.1*r+this._randomAngle.x)*this._randomMovement.x,.15*Math.cos(.07*r+this._randomAngle.y)*this._randomMovement.y,.05*Math.sin(.05*r+this._randomAngle.z)*this._randomMovement.z),this._movement.y-=this._time*e.speedY.getValue(),this._movement.x+=.1*Math.sin(.3*n)-.06*n,this.position.copy(this._startPosition),this.position.add(this._movement),this.position.x<-2?this.position.x=(this.position.x-3)%6+3:this.position.x>2&&(this.position.x=(this.position.x+3)%6-3),this._transform.setPosition(this.position),this._rotation=.3*Math.sin(.175*r*(.2+.1*Math.abs(this._randomMovement.y))+this._randomAngle.z)+.05*this._randomAngle.z,this.position.y<-e.maxY&&(this._flip=Math.random(),this._xOffset=.25*Math.floor(4*Math.random()),this._time=i?-Math.random():2*-e.getHaltonSequence(this._index+.5,5)*e.maxY/e.speedY.getValue())}}},{key:"draw",value:function(t){this._time>=0&&(e.material.setMatrix("_Model",this._transform.getWorldMatrix()),e.material.setFloat("_Flip",this._flip),e.material.setFloat("_XOffset",this._xOffset),e.material.setFloat("_Rotation",this._rotation),this._renderer.draw(e.mesh,e.material))}}],[{key:"init",value:function(t){var n=t.addGroup("_Particles",e.getMaterial());e.speedY=n.addParamFloat("SpeedY",.1,0,1),n.addShaderParamFloat("_Size",.6,0,2),n.addShaderParamFloat("_FocalDepth",1.6,0,2),n.addShaderParamFloat("_FStop",1.5,.5,3),n.addShaderParamFloat("_FocalLength",55,1,150),n.addShaderParamFloat("_FSize",.003,0,.01),n.addShaderParamFloat("_FAlphaPow",.05,0,.01),e.material.setTexture("_Texture",e.texture)}},{key:"getHaltonSequence",value:function(e,t){for(var n=0,i=1,r=e;r>0;)n+=(i/=t)*(r%t),r=Math.floor(r/t);return n}},{key:"getMaterial",value:function(){return e.material}}]),e}();Be.maxY=1.73;var De=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return v()(this,t),(n=y()(this,g()(t).call(this))).dirty=!0,n.frustumHeight=1,n._projectionMatrix=F.b.create(),n._tmpMat4=F.b.create(),n._tmpV3=new P,n._tmpV4=new K,n._frustumCorner=new P,n._jitter=new X,n._jitterFrame=0,n._fov=i,n.frustumHeight=2*Math.tan(n._fov*t._degToRad*.5),n._nearPlane=r,n._farPlane=a,n._aspect=1,n._changeCallback=e,n}return b()(t,e),p()(t,[{key:"getMatrix",value:function(){return this.updateProjection(),this._projectionMatrix}},{key:"updateProjection",value:function(){this.dirty&&(F.b.perspective(this._projectionMatrix,this._fov*t._degToRad,this._aspect,this._nearPlane,this._farPlane),this.dirty=!1,this.getFrustumCornerRef(this._frustumCorner))}},{key:"setAspect",value:function(e){e!==this._aspect&&(this._aspect=e,this.setDirty())}},{key:"getAspect",value:function(){return this._aspect}},{key:"setFarPlane",value:function(e){e!==this._farPlane&&(this._farPlane=e,this.setDirty())}},{key:"getFarPlane",value:function(){return this._farPlane}},{key:"setNearPlane",value:function(e){e!==this._nearPlane&&(this._nearPlane=e,this.setDirty())}},{key:"getNearPlane",value:function(){return this._nearPlane}},{key:"setFOV",value:function(e){e!==this._fov&&(this._fov=e,this.frustumHeight=2*Math.tan(this._fov*t._degToRad*.5),this.setDirty())}},{key:"getFOV",value:function(){return this._fov}},{key:"getFrustumCornerRef",value:function(e){var t=.5*this.frustumHeight,n=t*this._aspect;e.setValues(n,t,1)}},{key:"getFrustumCorner",value:function(){return this._frustumCorner}},{key:"getHaltonSequence",value:function(e,t){for(var n=0,i=1,r=e;r>0;)n+=(i/=t)*(r%t),r=Math.floor(r/t);return n}},{key:"jitter",value:function(e){this._jitter.setValues(this.getHaltonSequence(this._jitterFrame%51,2)-.5,this.getHaltonSequence(this._jitterFrame%31,3)-.5),this._jitterFrame++,F.b.copy(this._projectionMatrix,this.getJitteredMatrix(this._jitter,e,this._tmpV4)),this.getFrustumCornerRef(this._frustumCorner),this.dirty=!1}},{key:"getJitteredMatrix",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=Math.tan(.5*t._degToRad*this.getFOV()),a=r*(n.x/n.y),s=a/(.5*n.x),o=r/(.5*n.y),l=s*e.x,u=o*e.y;void 0!==i&&i.setValues(a/n.x,r/n.y,l/n.x,u/n.y);var c=this.getFarPlane(),h=this.getNearPlane(),d=l-a,f=l+a,v=u-r,_=u+r,p=2*h/(f*h-d*h),m=2*h/(_*h-v*h),y=(f*h+d*h)/(f*h-d*h),E=(_*h+v*h)/(_*h-v*h),g=-(c+h)/(c-h),T=-2*c*h/(c-h);return this._tmpMat4.set([p,0,0,0,0,m,0,0,y,E,g,-1,0,0,T,0]),this._tmpMat4}},{key:"getJitter",value:function(){return this._jitter}},{key:"destruct",value:function(){A()(g()(t.prototype),"destruct",this).call(this)}},{key:"setDirty",value:function(){this.dirty=!0,this._changeCallback.call(this)}}]),t}(k);De._degToRad=Math.PI/180,De._radToDeg=180/Math.PI;var Ue=De,Ve=function(e){function t(e){var n;return v()(this,t),(n=y()(this,g()(t).call(this))).dirty=!0,n._viewMatrix=F.b.create(),n._rotationMatrix=F.b.create(),n.transform=new Ce,n.transform.addChangeCallBack(function(){return n.setDirty()}),n._changeCallback=e,n}return b()(t,e),p()(t,[{key:"getWorldPosition",value:function(){return this.transform.getWorldPosition()}},{key:"setDirty",value:function(){this.dirty=!0,this._changeCallback.call(this)}},{key:"getMatrix",value:function(){return this.updateMatrix(),this._viewMatrix}},{key:"updateMatrix",value:function(){this.dirty&&(F.b.invert(this._viewMatrix,this.transform.getWorldMatrix()),this.dirty=!1)}},{key:"getWorldRotationMatrix",value:function(){return F.b.invert(this._rotationMatrix,this.transform.getWorldRotationMatrix()),this._rotationMatrix}},{key:"destruct",value:function(){this.transform&&this.transform.destruct(),A()(g()(t.prototype),"destruct",this).call(this)}}]),t}(k),Ge=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return v()(this,t),(e=y()(this,g()(t).call(this))).dirty=!0,e._viewProjection=F.b.create(),e.tScreenPos=new K,e.tViewProjInv=F.b.create(),e.projection=new Ue(function(){return e.setDirty()},n,i,r),e.view=new Ve(function(){return e.setDirty()}),e}return b()(t,e),p()(t,[{key:"setDirty",value:function(){this.dirty=!0}},{key:"getWorldPosition",value:function(){return this.view.getWorldPosition()}},{key:"lookAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.UP;this.view.transform.lookAt(e,t,n)}},{key:"setPosition",value:function(e){this.view.transform.setPosition(e)}},{key:"getViewProjection",value:function(){return this.updateViewProjection(),this._viewProjection}},{key:"getProjectionMatrix",value:function(){return this.projection.getMatrix()}},{key:"getViewMatrix",value:function(){return this.view.getMatrix()}},{key:"getProjection",value:function(){return this.projection}},{key:"updateViewProjection",value:function(){this.dirty&&(F.b.multiply(this._viewProjection,this.projection.getMatrix(),this.view.getMatrix()),this.dirty=!1)}},{key:"worldToScreenPoint",value:function(e,t){this.tScreenPos.x=t.x,this.tScreenPos.y=t.y,this.tScreenPos.z=t.z,this.tScreenPos.w=1,this.tScreenPos.transform(this.getViewProjection()),this.tScreenPos.x/=this.tScreenPos.w,this.tScreenPos.y/=this.tScreenPos.w,this.tScreenPos.x=.5*this.tScreenPos.x+.5,this.tScreenPos.y=-.5*this.tScreenPos.y+.5,e.x=this.tScreenPos.x,e.y=this.tScreenPos.y,e.z=this.tScreenPos.z}},{key:"screenToWorldPoint",value:function(e,t){F.b.invert(this.tViewProjInv,this.getViewProjection());var n=2*t.x-1,i=-2*t.y+1;e.x=n,e.y=i,e.z=1,e.transform(this.tViewProjInv)}},{key:"getDepth",value:function(e){return this.tScreenPos.x=e.x,this.tScreenPos.y=e.y,this.tScreenPos.z=e.z,this.tScreenPos.w=1,this.tScreenPos.transform(this.getViewProjection()),this.tScreenPos.z}},{key:"destruct",value:function(){this.projection&&this.projection.destruct(),this.view&&this.view.destruct(),A()(g()(t.prototype),"destruct",this).call(this)}}]),t}(k),He=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Le.DEPTH_UINTSHORT;return v()(this,t),(n=y()(this,g()(t).call(this,e,a,!1,!1,!0))).setSize(i,r),n}return b()(t,e),t}(Ie),$e=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Le.RGBA_UNSIGNED_BYTE,s=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5]),o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8&&void 0!==arguments[8]&&arguments[8];v()(this,t),(n=y()(this,g()(t).call(this,e,a,!1,s,o))).renderBuffer=null,n.colorFramebuffer=null,n.scaleToCanvas=!1,n.sizeMultiplier=1,n.frameBufferComplete=!1,n.aaSamples=4,n.setSize(i,r);var c=n.renderer.context;return n.frameBuffer=c.createFramebuffer(),c.bindFramebuffer(c.FRAMEBUFFER,n.frameBuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,n.textureGL,0),n.frameBufferComplete=n.testBuffer(),l?n.createDepthBuffer(i,r):u&&n.createStencilBuffer(i,r),n}return b()(t,e),p()(t,[{key:"addMultisampleRenderBuffer",value:function(){if(this.renderer instanceof Pe){var e=this.renderer.context;this.colorFramebuffer=e.createFramebuffer(),this.renderBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.renderBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,this.aaSamples,this.internalFormat,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,this.renderBuffer),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,this.colorFramebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.textureGL,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}}},{key:"resolveMultisampleBuffer",value:function(){if(this.renderer instanceof Pe&&this.renderBuffer){var e=this.renderer.context;e.bindFramebuffer(e.READ_FRAMEBUFFER,this.frameBuffer),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,this.colorFramebuffer),e.clearBufferfv(e.COLOR,0,[0,0,0,1]),e.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,e.COLOR_BUFFER_BIT,e.NEAREST),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null)}}},{key:"testBuffer",value:function(){var e=this.renderer.context;e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer);var t=e.checkFramebufferStatus(e.FRAMEBUFFER);switch(t){case e.FRAMEBUFFER_COMPLETE:return!0;case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return console.log("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT",this.formatType),!1;case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return console.log("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",this.formatType),!1;case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return console.log("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS",this.formatType),!1;case e.FRAMEBUFFER_UNSUPPORTED:return console.log("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED",this.formatType),!1;default:return console.log("Incomplete framebuffer: "+t,this.formatType),!1}}},{key:"setTexture3DSlice",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.renderer.context;i.bindFramebuffer(i.FRAMEBUFFER,this.frameBuffer),i.framebufferTextureLayer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,e.textureGL,n,t)}},{key:"addDepthTexture",value:function(){this.renderer.extensionManager.depth_texture?this.setDepthTexture(new He(this.renderer,this.width,this.height)):console.log("addDepthTexture: extension not supported")}},{key:"setDepthTexture",value:function(e){e.setSize(this.width,this.height),this.depthTexture=e;var t=this.renderer.context;t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,this.depthTexture.textureGL,0)}},{key:"createDepthBuffer",value:function(e,t){var n=this.renderer.context;this.depthBuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,this.depthBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e,t),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.depthBuffer)}},{key:"createDepthStencilBuffer",value:function(e,t){var n=this.renderer.context;this.depthBuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,this.depthBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,t),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,this.depthBuffer)}},{key:"createStencilBuffer",value:function(e,t){var n=this.renderer.context;this.stencilBuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,this.stencilBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.STENCIL_INDEX8,e,t),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.STENCIL_ATTACHMENT,n.RENDERBUFFER,this.stencilBuffer)}},{key:"setAsTarget",value:function(){var e=this.renderer.context;e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),this.depthBuffer?this.renderer.renderState.setDepthMask(!0):this.depthTexture?this.renderer.renderState.setDepthMask(!0):this.renderer.renderState.setDepthMask(!1)}},{key:"setSize",value:function(e,n){if(e!==this.width||n!==this.height){if(this.depthBuffer){var i=this.renderer.context;i.bindRenderbuffer(i.RENDERBUFFER,this.depthBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,e,n),i.bindRenderbuffer(J.RENDERBUFFER,null)}if(this.stencilBuffer){var r=this.renderer.context;r.bindRenderbuffer(r.RENDERBUFFER,this.stencilBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.STENCIL_INDEX8,e,n),r.bindRenderbuffer(J.RENDERBUFFER,null)}if(this.renderBuffer){var a=this.renderer.context;a.bindRenderbuffer(a.RENDERBUFFER,this.renderBuffer),a.renderbufferStorageMultisample(a.RENDERBUFFER,this.aaSamples,this.internalFormat,e,n),a.bindRenderbuffer(J.RENDERBUFFER,null)}this.depthTexture&&this.depthTexture.setSize(e,n),A()(g()(t.prototype),"setSize",this).call(this,e,n)}}},{key:"getData",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return A()(g()(t.prototype),"getData",this).call(this,this.frameBuffer)}},{key:"getDataRef",value:function(e){var t=this.renderer.context;t.bindFramebuffer(J.FRAMEBUFFER,this.frameBuffer),t.readPixels(0,0,this.width,this.height,this.format,this.type,e),t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:"getPixelU8",value:function(e,t){var n=this.renderer.context;n.bindFramebuffer(J.FRAMEBUFFER,this.frameBuffer);var i=new Uint8Array(4);return n.readPixels(e,t,1,1,J.RGBA,J.UNSIGNED_BYTE,i),n.bindFramebuffer(n.FRAMEBUFFER,null),i}},{key:"getPixel",value:function(e,t){var n,i=this.renderer.context;switch(i.bindFramebuffer(J.FRAMEBUFFER,this.frameBuffer),this.formatType){case Le.RGBA_FLOAT:n=new Float32Array(4);break;case Le.RGBA_UNSIGNED_BYTE:n=new Uint8Array(4);break;case Le.LUMINANCE_UNSIGNED_BYTE:n=new Uint8Array(1);break;case Le.LUMINANCE_FLOAT:n=new Float32Array(1);break;default:throw new Error("Can not yet get data for format type: "+this.formatType)}return i.readPixels(e,t,1,1,this.format,this.type,n),i.bindFramebuffer(i.FRAMEBUFFER,null),n}},{key:"destruct",value:function(){var e=this.renderer.context;this.frameBuffer&&(e.deleteFramebuffer(this.frameBuffer),delete this.frameBuffer),this.colorFramebuffer&&(e.deleteFramebuffer(this.colorFramebuffer),this.colorFramebuffer=null),this.depthBuffer&&(e.deleteRenderbuffer(this.depthBuffer),delete this.depthBuffer),this.stencilBuffer&&(e.deleteRenderbuffer(this.stencilBuffer),delete this.stencilBuffer),this.renderBuffer&&(e.deleteRenderbuffer(this.renderBuffer),this.renderBuffer=null),this.depthTexture&&(this.depthTexture.destruct(),delete this.depthTexture),A()(g()(t.prototype),"destruct",this).call(this)}}]),t}(Ie),Xe=n(657),ze=n(355),qe=function(){function e(t,i,r){v()(this,e),this._particles=[],this._cameraLookAt=new P(0,0,0),this._frame=0,this._offset=new X,this._offsetLerped=new X,this._cameraPos=new P,this._canvasManager=new z(t,!0),this._canvasManager.setPixelRatio(1),this._renderer=new Me(i,this._canvasManager.getCanvas(),n(659),!0),this._camera=new Ge(60,.1,10),this._camera.lookAt(new P(0,0,-1),this._cameraLookAt),this._motionMaterial=new he(this._renderer,i,"motionblur"),this._motionMaterial.depthTest=!1,this._buffer0=new $e(this._renderer),this._buffer0.scaleToCanvas=!0,this._buffer1=new $e(this._renderer),this._buffer1.scaleToCanvas=!0,this._target=new $e(this._renderer,16,16,Le.RGBA_UNSIGNED_BYTE,!1,!0),this._backgroundNoise=new we(this._renderer,i,Xe("./background.jpg"),!0,!0,!1),this._fbmTexture=new we(this._renderer,i,ze("./perlin_doNotCompress.png"),!1,!0,!1);for(var a=0;a<e.NUM_PARTICLES;a++)this._particles.push(new Be(this._renderer,i,a));r&&(this._datGui=new H(i)),this._particlesVisible=!0,this._paused=!1,this._opacity=1}return p()(e,[{key:"init",value:function(){var e=new D;e.init("controls");var t=e.addGroup("Post",[this._motionMaterial]);this._motionBlur=t.addParamBool("MotionBlur",!0),t.addShaderParamFloat("_MotionWeight",.1,0,.1),Be.init(e),this._particles.sort(function(e,t){return t.position.z-e.position.z}),this._renderer.init(),this._datGui&&this._datGui.init(e),this.update()}},{key:"ping",value:function(){return this._frame%2==0?this._buffer0:this._buffer1}},{key:"pong",value:function(){return this._frame%2==1?this._buffer0:this._buffer1}},{key:"update",value:function(){var t=this;if(window.requestAnimationFrame(function(){return t.update()}),!this._paused){if(this._frame++,this._camera.projection.setAspect(this._renderer.getAspect()),this._offset.copy(this._renderer.getMouseListener().getNormalizedPos()),this._offset.multiplyScalar(.05),X.lerp(this._offsetLerped,this._offsetLerped,this._offset,.02),this._cameraPos.setValues(this._offsetLerped.x*this._renderer.getAspect(),this._offsetLerped.y,-1),this._camera.lookAt(this._cameraPos,this._cameraLookAt),this._motionBlur.getValue()?(this._target.setSize(.667*this._renderer.getRenderWidth()|0,.667*this._renderer.getRenderHeight()|0),this._renderer.setRenderTexture(this._target),this._renderer.clear()):this._renderer.unSetRenderTexture(),this._opacity>0){for(var n=0;n<e.NUM_PARTICLES;n++)this._particles[n].update(1/60,Te.getInstance().time,this._particlesVisible);var i=Be.getMaterial();i.setMatrix("_ViewProjection",this._camera.getViewProjection()),i.setFloat("_Aspect",this._renderer.getAspect()),i.setFloat("_Time",Te.getInstance().time),i.setVector3("_CamPos",this._camera.getWorldPosition());for(var r=0;r<e.NUM_PARTICLES;r++)this._particles[r].draw(this._camera)}this._motionBlur.getValue()&&(this._renderer.unSetRenderTexture(),this._motionMaterial.setTexture("_Texture",this._target),this._motionMaterial.setTexture("_Fbm",this._fbmTexture),this._motionMaterial.setTexture("_Noise",this._backgroundNoise),this._motionMaterial.setFloat("_Time",Te.getInstance().time),this._motionMaterial.setFloat("_Opacity",this._opacity),this._renderer.blit(this.ping(),this.pong(),this._motionMaterial),this._renderer.blit(this.pong()))}}},{key:"setOpacity",value:function(e){this._opacity=e}},{key:"showParticles",value:function(e){this._particlesVisible=e}},{key:"play",value:function(){this._paused=!1}},{key:"pause",value:function(){this._paused=!0}}]),e}();qe.NUM_PARTICLES=24;var je=n(211),We=n.n(je),Ye=n(19),Ke=function(e){function t(e){var n;return v()(this,t),(n=y()(this,g()(t).call(this))).parent=e,n.opacityValue=1,n}return b()(t,e),p()(t,[{key:"setOpacity",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye.Linear.easeNone;return e>0&&this.parent.play(),new Promise(function(r){t.opacityTween=Ye.TweenLite.to(t,n,{ease:i,opacityValue:e,onUpdate:function(){t.parent.setOpacity(t.opacityValue)},onComplete:function(){return setTimeout(function(){r(),0===t.opacityValue&&t.parent.pause()},500)}})})}},{key:"dispose",value:function(){this.opacityTween&&this.opacityTween.kill(),A()(g()(t.prototype),"dispose",this).call(this)}}]),t}(We.a),Ze=function(){function e(){v()(this,e),this._isInitialized=!1,this.transitionController=new Ke(this)}return p()(e,[{key:"setup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._webGLPreloader=new x,this._webGLManager=new qe(e,this._webGLPreloader,t)}},{key:"getPreloader",value:function(){return this._webGLPreloader}},{key:"init",value:function(){this._isInitialized||(this._webGLManager.init(),this._isInitialized=!0)}},{key:"setOpacity",value:function(e){this._webGLManager&&this._webGLManager.setOpacity(e)}},{key:"showParticles",value:function(e){this._webGLManager&&this._webGLManager.showParticles(e)}},{key:"play",value:function(){this._webGLManager&&this._webGLManager.play()}},{key:"pause",value:function(){this._webGLManager&&this._webGLManager.pause()}},{key:"dispose",value:function(){this.transitionController&&this.transitionController.dispose()}}]),e}(),Qe=n(383),Je=n(166),et=function(e){function t(){return v()(this,t),y()(this,g()(t).apply(this,arguments))}return b()(t,e),p()(t,[{key:"onMenuOpen",value:function(e,t,n){e?(Ye.TweenLite.to(t,.5,{xPercent:100,ease:Ye.Power3.easeOut}),Ye.TweenLite.to(n,.5,{x:0,ease:Ye.Power3.easeOut})):(Ye.TweenLite.to(t,.5,{xPercent:0,ease:Ye.Power3.easeOut}),Ye.TweenLite.to(n,.5,{xPercent:-100,ease:Ye.Power3.easeOut,clearProps:"all"}))}},{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(o.AbstractTransitionController),tt={name:"App",components:{SiteFooter:c.a,LogoVictoria:h.a,Notification:d.a,HamburgerButton:Qe.a,ShareList:Je.a},extends:o.AbstractRegistrableComponent,computed:r()({},Object(l.d)({deviceState:function(e){return e.app.deviceState},menuIsOpen:function(e){return e.app.menuIsOpen}})),data:function(){return{hideVictoriaLogo:!1}},watch:{menuIsOpen:function(e){this.transitionController.onMenuOpen(e,this.$refs.page.$el,this.$refs.siteFooter.$el)}},created:function(){this.$deviceStateTracker.addEventListener(a.DeviceStateEvent.STATE_UPDATE,this.handleDeviceStateUpdate),this.setDeviceState(this.$deviceStateTracker.currentState)},mounted:function(){var e=this;s.a.prototype.$webgl=new Ze,this.$webgl.setup(this.$refs.background,!1),this.$webgl.getPreloader().load(function(){e.$webgl.init()}),this.$router.beforeEach(function(t,n,i){e.beforePageRoute(t),i()}),this.beforePageRoute(this.$route,!0)},methods:r()({},Object(l.c)({setDeviceState:u.a}),{handleAllComponentsReady:function(){this.transitionController=new et(this),this.isReady()},beforePageRoute:function(e,t){var n=e.name===this.RouteNames.HOME?0:1;this.$webgl.transitionController.setOpacity(n,t?0:.8),this.hideVictoriaLogo=e.name===this.RouteNames.AGE_GATE,this.$store.commit(u.b,!1)},onLeave:function(e,t){o.FlowManager.transitionOut.then(function(){return o.FlowManager.done()}).then(t)},handleDeviceStateUpdate:function(e){this.setDeviceState(e.data.state)}})};t.a=tt},function(e,t,n){"use strict";var i=n(14),r=n.n(i),a=n(7),s=n(0),o=n.n(s),l=n(1),u=n.n(l),c=n(4),h=n.n(c),d=n(2),f=n.n(d),v=n(5),_=n.n(v),p=function(e){function t(){return o()(this,t),h()(this,f()(t).apply(this,arguments))}return _()(t,e),u()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){e.fromTo(t.$el,.8,{autoAlpha:0},{autoAlpha:1})}},{key:"setupTransitionOutTimeline",value:function(e,t,n){e.to(t.$el,.5,{autoAlpha:0})}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(a.AbstractTransitionController),m=n(59),y=n(162),E=[{questionId:"question1",options:[{id:"option1"},{id:"option2"},{id:"option3"}]},{questionId:"question2",options:[{id:"option1"},{id:"option2"},{id:"option3"}]},{questionId:"question3",options:[{id:"option1"},{id:"option2"},{id:"option3"}]}],g=n(369),T=n(58),A=n(370),R=n(23),b=n(22),k=n(12);function x(e){return Object(b.a)(R.a).getVariable(k.d.MOCK_API_ENABLED)?"".concat(e,".json"):e}var M=function(e){return Object(b.a)(R.a).getVariable(k.d.MOCK_API_ENABLED)?Object(b.a)(R.c).get(x("saveProfile")):Object(b.a)(R.c).post(x("saveProfile"),e)},N=n(34),S={name:"RegisterPage",components:{LogoXibalba:m.a,PrimaryCheckbox:y.a,PrimaryRadioButton:g.a,PrimaryButton:T.a,PrimaryInputField:A.a},extends:a.AbstractPageTransitionComponent,data:function(){return{questions:E,firstName:null,lastName:null,email:null,terms:null,question1:null,question2:null,question3:null}},methods:{onValueUpdate:function(e){this[e.name]=e.value},onSubmit:function(){var e=this;this.$trackingManager.trackEvent(r()({},this.TrackingProvider.GTM,{event:"trackEvent",eventCategory:"formulario",eventAction:"click",eventLabel:"aceptar"})),this.terms&&this.$validator.validateAll().then(function(t){t?(e.$el.style.pointerEvents="none",M({firstName:e.firstName,lastName:e.lastName,email:e.email,dateOfBirth:e.$store.getters[N.b],avatar:e.avatar,question1:e.question1?e.question1.replace("question1_option",""):e.question1,question2:e.question2?e.question2.replace("question2_option",""):e.question2,question3:e.question3?e.question3.replace("question3_option",""):e.question3,acceptTerms:e.terms}).then(function(t){console.log(t),e.$el.style.pointerEvents="all",e.$router.push({name:e.RouteNames.THANKYOU})}).catch(function(t){e.handleError(t.error.fields,"error.form.validation"===t.error.code),e.$el.style.pointerEvents="all"})):e.handleError(e.$validator.errors.items,!0)})},handleError:function(e,t){var n,i=this,r="error.global.title",a="error.global.message";t&&(r="error.validation.title",a="error.validation.message",n=e.map(function(e){return i.$t("global.form.placeholder.".concat(e.field))}).join(", ")),this.$alert({title:this.$t(r),message:this.$t(a,{fields:n}),confirm:this.$t("error.global.confirm")})},handleAllComponentsReady:function(){this.transitionController=new p(this),this.isReady()}}};t.a=S},function(e,t,n){"use strict";var i=n(7),r=n(361),a=n(362),s=n.n(a),o=n(363),l=n.n(o),u=n(364),c=n(81),h=n(30),d=n.n(h),f=n(10),v=n(0),_=n.n(v),p=n(1),m=n.n(p),y=n(4),E=n.n(y),g=n(2),T=n.n(g),A=n(5),R=n.n(A),b=n(19),k=function(e){function t(){return _()(this,t),E()(this,T()(t).apply(this,arguments))}return R()(t,e),m()(t,[{key:"onPlayStateChange",value:function(e){var t=[this.parentController.$refs.content,this.parentController.$refs.poster,this.parentController.$refs.title];b.TweenMax.staggerTo(t,.4,{autoAlpha:e?0:1},0),b.TweenMax.to(this.parentController.$refs.videoHolder,.4,{autoAlpha:e?1:0})}},{key:"setupTransitionInTimeline",value:function(e,t,n){e.staggerFromTo(t.$refs.titlePart,.8,{y:20},{y:0,ease:b.Power3.easeOut},.2,0),e.staggerFromTo(t.$refs.titlePart,.8,{autoAlpha:0},{autoAlpha:1,ease:b.Power3.easeOut},.2,0)}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),x=n(365),M=n(9),N=n.n(M),S=n(28),F=n.n(S),C=n(215),P=n.n(C),L=function(e){function t(){var e;return _()(this,t),(e=E()(this,T()(t).apply(this,arguments))).currentPosition={x:0,y:0},e.targetPosition={x:0,y:0},e.isVisible=!1,e.mouseMoveRaf=0,e.updateButtonPosition=function(t){var n=t.target;e.setVisibility("A"!==n.tagName&&"BUTTON"!==n.tagName),e.targetPosition=e.getPosition(t)},e.tick=function(){e.currentPosition.x=P()(e.currentPosition.x,e.targetPosition.x,.15),e.currentPosition.y=P()(e.currentPosition.y,e.targetPosition.y,.15),b.TweenLite.set(e.options.cursorElement,{x:e.currentPosition.x,y:e.currentPosition.y}),e.tickRaf=requestAnimationFrame(e.tick)},e}return R()(t,e),m()(t,[{key:"attach",value:function(e){this.options=e,this.options.wrapper.style.cursor="none",this.tick()}},{key:"detach",value:function(){this.options.wrapper&&(this.options.wrapper.style.cursor=""),cancelAnimationFrame(this.tickRaf),cancelAnimationFrame(this.mouseMoveRaf)}},{key:"handleMouseEnter",value:function(e){cancelAnimationFrame(this.mouseMoveRaf),this.options.wrapper&&(this.currentPosition=this.getPosition(e)),this.setVisibility(!0)}},{key:"handleMouseLeave",value:function(){cancelAnimationFrame(this.mouseMoveRaf),this.setVisibility(!1)}},{key:"setVisibility",value:function(e){e!==this.isVisible&&(this.isVisible=e,this.options.onVisibilityChange&&this.options.onVisibilityChange(e))}},{key:"handleMouseMove",value:function(e){cancelAnimationFrame(this.mouseMoveRaf),this.mouseMoveRaf=requestAnimationFrame(this.updateButtonPosition.bind(void 0,e))}},{key:"getPosition",value:function(e){if(this.options.wrapper){var t=e.pageX,n=e.pageY,i=this.options.wrapper.getBoundingClientRect(),r=i.top;return{x:t-i.left,y:n-r}}return this.currentPosition}},{key:"dispose",value:function(){this.detach(),cancelAnimationFrame(this.mouseMoveRaf),cancelAnimationFrame(this.tickRaf),N()(T()(t.prototype),"dispose",this).call(this)}}]),t}(F.a),I=n(58),w={name:"HeroVideo",components:{PlayButton:x.a,PrimaryButton:I.a},extends:i.AbstractTransitionComponent,props:{video:f.a.shape({src:f.a.string.isRequired,poster:f.a.string,alt:f.a.string})},data:function(){return{isPlaying:!1}},watch:{video:function(e){this.setVideo(e)},isPlaying:function(e){!d.a.chrome||d.a.mobile||d.a.tablet||(e?this.mouseCursor.detach():this.attachCursor()),this.$emit("playStateChange",e),this.transitionController.onPlayStateChange(e)}},created:function(){this.disposableManager=new u.DisposableManager},beforeDestroy:function(){this.disposableManager&&this.disposableManager.dispose()},mounted:function(){this.videoPlayer=new r.VideoElement(this.$refs.videoHolder,{loop:!1,muted:!1,playsInline:!0,preloadWithXHR:!1}),this.disposableManager.add(this.videoPlayer),this.disposableManager.add(new c.DisposableEventListener(this.videoPlayer.element,"ended",this.handleVideoEnded.bind(this))),this.video&&this.setVideo(),d.a.mobile||d.a.tablet||(this.mouseCursor=new L,this.attachCursor(),this.disposableManager.add(this.mouseCursor)),this.disposableManager.add(new c.DisposableEventListener(window,"resize",l()(this.handleResize.bind(this),100))),this.handleResize()},methods:{handleResize:function(){if(d.a.msedge||d.a.msie){var e=s()([0,0,16,9],[0,0,this.$el.offsetWidth,this.$el.offsetHeight],"cover");this.$refs.videoHolder.style.left="".concat(e[0],"px"),this.$refs.videoHolder.style.top="".concat(e[1],"px"),this.$refs.videoHolder.style.width="".concat(e[2],"px"),this.$refs.videoHolder.style.height="".concat(e[3],"px")}},handleVideoEnded:function(){this.isPlaying=this.videoPlayer.isPlaying},attachCursor:function(){var e=this;this.mouseCursor.attach({wrapper:this.$el,cursorElement:this.$refs.playButton.$el,onVisibilityChange:function(t){e.setMouseCursorVisibility(t)}})},setMouseCursorVisibility:function(e){e?this.$refs.playButton.transitionIn():this.$refs.playButton.transitionOut()},handleClick:function(e){var t=e.target;"A"!==t.tagName&&"BUTTON"!==t.tagName&&this.togglePlay()},handleMouseMove:function(e){this.mouseCursor&&this.mouseCursor.handleMouseMove(e)},handleMouseLeave:function(){this.mouseCursor&&this.mouseCursor.handleMouseLeave()},handleMouseEnter:function(e){this.mouseCursor&&this.mouseCursor.handleMouseEnter(e)},setVideo:function(){this.videoIsLoadedPromise=this.videoPlayer.setSrc(this.video)},togglePlay:function(){var e=this;this.videoIsLoadedPromise.then(function(){e.videoPlayer.togglePlay(),e.isPlaying=!e.videoPlayer.isPlaying})},handleAllComponentsReady:function(){this.transitionController=new k(this),d.a.mobile&&d.a.tablet||this.setMouseCursorVisibility(!0),this.isReady()}}};t.a=w},function(e,t,n){"use strict";var i=n(7),r=n(10),a=n(0),s=n.n(a),o=n(1),l=n.n(o),u=n(4),c=n.n(u),h=n(2),d=n.n(h),f=n(5),v=n.n(f),_=function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return v()(t,e),l()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),p=n(13),m=function(e){return{validator:function(t){return null===t||("undefined"===typeof t?!e.required:Object(p.f)(e,t))}}},y={name:"DobInputField",extends:i.AbstractTransitionComponent,props:{year:m(r.a.number.isRequired),month:m(r.a.number.isRequired),day:m(r.a.number.isRequired)},methods:{onChange:function(e){var t=e.target,n=parseInt(t.value,10);this.$emit("input",{value:"number"===typeof n&&n>0?n:"",name:t.name})},handleAllComponentsReady:function(){this.transitionController=new _(this),this.isReady()}}};t.a=y},function(e,t,n){"use strict";var i=n(7),r=n(0),a=n.n(r),s=n(1),o=n.n(s),l=n(4),u=n.n(l),c=n(2),h=n.n(c),d=n(5),f=n.n(d),v=function(e){function t(){return a()(this,t),u()(this,h()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),_=n(59),p=n(372),m=n(163),y={name:"ThankyouPage",components:{LogoXibalba:_.a,ShareBlock:p.a,PrimaryLink:m.a},extends:i.AbstractPageTransitionComponent,methods:{handleAllComponentsReady:function(){this.transitionController=new v(this),this.isReady()}}};t.a=y},function(e,t,n){"use strict";var i=n(47),r=n(0),a=n.n(r),s=n(1),o=n.n(s),l=n(4),u=n.n(l),c=n(2),h=n.n(c),d=n(5),f=n.n(d),v=function(e){function t(){return a()(this,t),u()(this,h()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(n(7).AbstractTransitionController),_={name:"PrimarySquareButton",extends:i.a,methods:{handleAllComponentsReady:function(){this.transitionController=new v(this),this.isReady()}}};t.a=_},function(e,t,n){"use strict";var i=n(35),r=n.n(i),a=n(7),s=n(37),o=n(0),l=n.n(o),u=n(1),c=n.n(u),h=n(4),d=n.n(h),f=n(2),v=n.n(f),_=n(5),p=n.n(_),m=function(e){function t(){return l()(this,t),d()(this,v()(t).apply(this,arguments))}return p()(t,e),c()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){e.fromTo(t.$el,.8,{autoAlpha:0},{autoAlpha:1})}},{key:"setupTransitionOutTimeline",value:function(e,t,n){e.to(t.$el,.5,{autoAlpha:0})}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(a.AbstractTransitionController),y=n(367),E=n(59),g=n(161),T=n(162),A=n(58),R=n(34),b=function(e){return"number"===typeof e},k={name:"AgeGatePage",components:{DobInputField:y.a,LogoXibalba:E.a,LogoVictoria:g.a,PrimaryCheckbox:T.a,PrimaryButton:A.a},extends:a.AbstractPageTransitionComponent,computed:r()({},Object(s.d)({rememberMe:function(e){return e.user.rememberMe},year:function(e){return e.user.birthYear},month:function(e){return e.user.birthMonth},day:function(e){return e.user.birthDay}}),Object(s.b)({isAgeAllowed:R.c}),{isValidDate:function(){return b(this.year)&&b(this.month)&&b(this.day)&&this.month<=12&&this.day<=31}}),created:function(){this.today=new Date},methods:{onValueUpdate:function(e){"remember"===e.name&&this.$store.commit(R.g,e.value),"month"===e.name&&this.$store.commit(R.e,e.value),"day"===e.name&&this.$store.commit(R.d,e.value),"year"===e.name&&this.$store.commit(R.f,e.value)},isNumber:function(e){return"number"===typeof e},onSubmit:function(){if(this.isAgeAllowed)this.$router.push({name:this.RouteNames.HOME});else{var e="agegate.noAccess.title",t="agegate.noAccess.message",n="agegate.noAccess.confirm";this.isValidDate||(e="error.invalidDate.title",t="error.invalidDate.message",n="error.invalidDate.confirm"),this.$alert({title:this.$t(e),message:this.$t(t),confirm:this.$t(n)})}},handleAllComponentsReady:function(){this.transitionController=new m(this),this.isReady()}}};t.a=k},function(e,t,n){"use strict";var i=n(7),r=n(10),a=n(0),s=n.n(a),o=n(1),l=n.n(o),u=n(4),c=n.n(u),h=n(2),d=n.n(h),f=n(5),v=n.n(f),_=function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return v()(t,e),l()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),p=n(26),m={name:"PrimaryRadioButton",extends:i.AbstractTransitionComponent,props:{group:r.a.string.isRequired,name:r.a.string.isRequired,value:r.a.bool,label:r.a.string.isRequired,size:r.a.oneOf([p.a.SMALL,p.a.MEDIUM,p.a.LARGE]).def(p.a.MEDIUM)},data:function(){return{checked:null}},computed:{checkboxSize:function(){return p.a[this.size].toLowerCase()}},watch:{checked:function(e){e!==this.value&&this.$emit("input",{value:e,name:this.group})},value:function(e){this.checked=e}},mounted:function(){null!==this.value&&(this.checked=this.value)},methods:{handleAllComponentsReady:function(){this.transitionController=new _(this),this.isReady()}}};t.a=m},function(e,t,n){"use strict";var i=n(7),r=n(10),a=n(0),s=n.n(a),o=n(1),l=n.n(o),u=n(4),c=n.n(u),h=n(2),d=n.n(h),f=n(5),v=n.n(f),_=function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return v()(t,e),l()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),p={name:"PrimaryInputField",extends:i.AbstractTransitionComponent,props:{name:r.a.string.isRequired,placeholder:r.a.string,value:r.a.string,type:r.a.string.def("text"),isInvalid:r.a.bool.def(!1)},data:function(){return{internalValue:""}},watch:{value:function(e){this.internalValue=e},internalValue:function(e){e===this.internalValue&&this.$emit("input",{value:e,name:this.name})}},mounted:function(){null!==this.value&&(this.internalValue=this.value)},methods:{handleAllComponentsReady:function(){this.transitionController=new _(this),this.isReady()}}};t.a=p},function(e,t,n){"use strict";var i=n(10),r=n(47),a=n(0),s=n.n(a),o=n(1),l=n.n(o),u=n(4),c=n.n(u),h=n(2),d=n.n(h),f=n(5),v=n.n(f),_=n(7),p=n(19),m=function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return v()(t,e),l()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){e.fromTo(t.$el,.5,{scale:0},{scale:1,ease:p.Power3.easeOut})}},{key:"setupTransitionOutTimeline",value:function(e,t,n){e.to(t.$el,.5,{scale:0,ease:p.Power3.easeOut})}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(_.AbstractTransitionController),y={name:"PlayButton",props:{isPlaying:i.a.bool},extends:r.a,methods:{handleAllComponentsReady:function(){this.transitionController=new m(this),this.isReady()}}};t.a=y},function(e,t,n){"use strict";var i=n(47),r=n(0),a=n.n(r),s=n(1),o=n.n(s),l=n(4),u=n.n(l),c=n(2),h=n.n(c),d=n(5),f=n.n(d),v=function(e){function t(){return a()(this,t),u()(this,h()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(n(7).AbstractTransitionController),_={name:"PrimaryButton",extends:i.a,methods:{handleAllComponentsReady:function(){this.transitionController=new v(this),this.isReady()}}};t.a=_},function(e,t,n){"use strict";var i=n(7),r=n(0),a=n.n(r),s=n(1),o=n.n(s),l=n(4),u=n.n(l),c=n(2),h=n.n(c),d=n(5),f=n.n(d),v=function(e){function t(){return a()(this,t),u()(this,h()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),_={name:"WebglPage",extends:i.AbstractPageTransitionComponent,mounted:function(){},methods:{handleAllComponentsReady:function(){this.transitionController=new v(this),this.isReady()}}};t.a=_},function(e,t,n){"use strict";var i=n(35),r=n.n(i),a=n(7),s=n(37),o=n(0),l=n.n(o),u=n(1),c=n.n(u),h=n(4),d=n.n(h),f=n(2),v=n.n(f),_=n(5),p=n.n(_),m=n(87),y=n.n(m),E=function(e){function t(){return l()(this,t),d()(this,v()(t).apply(this,arguments))}return p()(t,e),c()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){e.fromTo(t.$el,.5,{autoAlpha:0},{autoAlpha:1}),e.add(this.getTimeline("heroVideo",y.a.IN),0)}},{key:"setupTransitionOutTimeline",value:function(e,t,n){e.to(t.$el,.5,{autoAlpha:0})}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(a.AbstractTransitionController),g=n(360),T=n(59),A={name:"HomePage",components:{HeroVideo:g.a,LogoXibalba:T.a},extends:a.AbstractPageTransitionComponent,data:function(){return{video:null}},computed:r()({},Object(s.d)({deviceState:function(e){return e.app.deviceState}})),created:function(){this.setVideo()},methods:{setVideo:function(){var e=this.deviceState<this.DeviceState.MEDIUM;this.video={src:"".concat(this.$versionRoot,"video/landing/").concat(e?"hero-portrait":"hero",".mp4"),poster:"".concat(this.$versionRoot,"image/landing/hero.jpg"),alt:this.$t("home.hero.alt")}},handleVideoPlayStateChange:function(e){this.$refs.logoXibalba.transitionController.changeVisibility(!e)},handleAllComponentsReady:function(){this.transitionController=new E(this),this.isReady()}}};t.a=A},function(e,t,n){"use strict";var i=n(47),r=n(0),a=n.n(r),s=n(1),o=n.n(s),l=n(4),u=n.n(l),c=n(2),h=n.n(c),d=n(5),f=n.n(d),v=function(e){function t(){return a()(this,t),u()(this,h()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(n(7).AbstractTransitionController),_={name:"DasharrayCircleButton",extends:i.a,methods:{handleAllComponentsReady:function(){this.transitionController=new v(this),this.isReady()}}};t.a=_},function(e,t,n){"use strict";var i=n(10),r=n(7),a=n(0),s=n.n(a),o=n(1),l=n.n(o),u=n(4),c=n.n(u),h=n(2),d=n.n(h),f=n(5),v=n.n(f),_=n(19),p=function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return v()(t,e),l()(t,[{key:"changeVisibility",value:function(e){_.TweenLite.to(this.parentController.$el,.6,{autoAlpha:e?1:0})}},{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(r.AbstractTransitionController),m={name:"LogoXibalba",props:{background:i.a.bool.def(!1),isHidden:i.a.bool.def(!1)},extends:r.AbstractTransitionComponent,methods:{handleAllComponentsReady:function(){this.transitionController=new p(this),this.isReady()}}};t.a=m},function(e,t,n){"use strict";var i=n(7),r=n(0),a=n.n(r),s=n(1),o=n.n(s),l=n(4),u=n.n(l),c=n(2),h=n.n(c),d=n(5),f=n.n(d),v=function(e){function t(){return a()(this,t),u()(this,h()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),_={name:"ShareList",components:{PrimarySquareButton:n(380).a},extends:i.AbstractTransitionComponent,methods:{getShareUrl:function(){return this.shareUrl||"".concat(window.location.protocol,"//").concat(window.location.host)},shareTwitter:function(){this.$twitterSharer.share({url:this.getShareUrl()})},shareFacebook:function(){this.$facebookSharer.share({url:this.getShareUrl()})},handleAllComponentsReady:function(){this.transitionController=new v(this),this.isReady()}}};t.a=_},function(e,t,n){"use strict";var i=n(7),r=n(10),a=n(0),s=n.n(a),o=n(1),l=n.n(o),u=n(4),c=n.n(u),h=n(2),d=n.n(h),f=n(5),v=n.n(f),_=function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return v()(t,e),l()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),p=n(26),m={name:"PrimaryCheckbox",extends:i.AbstractTransitionComponent,props:{name:r.a.string.isRequired,value:r.a.bool,label:r.a.string.isRequired,size:r.a.oneOf([p.a.SMALL,p.a.MEDIUM,p.a.LARGE]).def(p.a.MEDIUM)},data:function(){return{checked:null}},computed:{checkboxSize:function(){return p.a[this.size].toLowerCase()}},watch:{checked:function(e){var t=!0===e||null;t!==this.value&&this.$emit("input",{value:t,name:this.name})},value:function(e){this.checked=e}},mounted:function(){null!==this.value&&(this.checked=this.value)},methods:{handleAllComponentsReady:function(){this.transitionController=new _(this),this.isReady()}}};t.a=m},function(e,t,n){"use strict";var i=n(7),r=n(0),a=n.n(r),s=n(1),o=n.n(s),l=n(4),u=n.n(l),c=n(2),h=n.n(c),d=n(5),f=n.n(d),v=function(e){function t(){return a()(this,t),u()(this,h()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),_=n(163),p=n(166),m={name:"SiteFooter",components:{PrimaryLink:_.a,ShareList:p.a},extends:i.AbstractTransitionComponent,methods:{handleAllComponentsReady:function(){this.transitionController=new v(this),this.isReady()}}};t.a=m},function(e,t,n){"use strict";var i=n(47),r=n(0),a=n.n(r),s=n(1),o=n.n(s),l=n(4),u=n.n(l),c=n(2),h=n.n(c),d=n(5),f=n.n(d),v=function(e){function t(){return a()(this,t),u()(this,h()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(n(7).AbstractTransitionController),_={name:"PrimaryLink",extends:i.a,methods:{handleAllComponentsReady:function(){this.transitionController=new v(this),this.isReady()}}};t.a=_},function(e,t,n){"use strict";var i=n(35),r=n.n(i),a=n(7),s=n(37),o=n(0),l=n.n(o),u=n(1),c=n.n(u),h=n(4),d=n.n(h),f=n(2),v=n.n(f),_=n(5),p=n.n(_),m=function(e){function t(){return l()(this,t),d()(this,v()(t).apply(this,arguments))}return p()(t,e),c()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(a.AbstractTransitionController),y=n(69),E={name:"HamburgerButton",extends:a.AbstractTransitionComponent,computed:r()({},Object(s.d)({menuIsOpen:function(e){return e.app.menuIsOpen}})),methods:{toggleMenu:function(){this.$store.commit(y.b,!this.menuIsOpen)},handleAllComponentsReady:function(){this.transitionController=new m(this),this.isReady()}}};t.a=E},function(e,t,n){"use strict";var i=n(7),r=n(10),a=n(0),s=n.n(a),o=n(1),l=n.n(o),u=n(4),c=n.n(u),h=n(2),d=n.n(h),f=n(5),v=n.n(f),_=function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return v()(t,e),l()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),p={name:"LogoVictoria",props:{isBlurred:r.a.bool.def(!1),isHidden:r.a.bool.def(!1)},extends:i.AbstractTransitionComponent,methods:{handleAllComponentsReady:function(){this.transitionController=new _(this),this.isReady()}}};t.a=p},function(e,t,n){"use strict";var i=n(7),r=n(10),a=n(0),s=n.n(a),o=n(1),l=n.n(o),u=n(4),c=n.n(u),h=n(2),d=n.n(h),f=n(5),v=n.n(f),_=function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return v()(t,e),l()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){}},{key:"setupTransitionOutTimeline",value:function(e,t,n){}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),p={name:"ShareBlock",components:{DasharrayCircleButton:n(373).a},extends:i.AbstractTransitionComponent,props:{shareUrl:r.a.string},methods:{getShareUrl:function(){return this.shareUrl||"".concat(window.location.protocol,"//").concat(window.location.host)},handleTwitterShareClick:function(){this.$twitterSharer.share({url:this.getShareUrl()})},handleFacebookShareClick:function(){this.$facebookSharer.share({url:this.getShareUrl()})},handleAllComponentsReady:function(){this.transitionController=new _(this),this.isReady()}}};t.a=p},function(e,t,n){"use strict";var i=n(7),r=n(210),a=n.n(r),s=n(112),o=n.n(s),l=n(164),u=n(0),c=n.n(u),h=n(1),d=n.n(h),f=n(4),v=n.n(f),_=n(2),p=n.n(_),m=n(5),y=n.n(m),E=n(19),g=function(e){function t(){return c()(this,t),v()(this,p()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"setupTransitionInTimeline",value:function(e,t,n){e.fromTo(t.$el,.001,{display:"none",autoAlpha:0},{display:"block",autoAlpha:1},0),e.fromTo(t.$refs.mask,.4,{autoAlpha:0},{autoAlpha:1},0),e.fromTo(t.$refs.innerContent,.3,{scale:0},{scale:1,ease:E.Back.easeOut},0)}},{key:"setupTransitionOutTimeline",value:function(e,t,n){e.to(t.$el,.5,{autoAlpha:0,display:"none"}),e.to(t.$refs.innerContent,.2,{scale:0,ease:E.Back.easeOut},0)}},{key:"setupLoopingAnimationTimeline",value:function(e,t,n){}}]),t}(i.AbstractTransitionController),T={name:"Notification",components:{PrimaryButton:n(58).a},extends:i.AbstractTransitionComponent,mixins:[l.componentMixin],watch:{notification:function(e){var t=this;e?this.$nextTick(function(){t.transitionController.setupTimeline(i.TimelineType.IN,!0),t.transitionIn()}):this.transitionOut()}},created:function(){this.disposableManager=new o.a},beforeDestroy:function(){this.disposableManager&&this.disposableManager.dispose()},methods:{handleTransitionInStart:function(){this.$refs.buttons.forEach(function(e){return e.transitionIn()})},handleAllComponentsReady:function(){var e=this;this.transitionController=new g(this),this.disposableManager.add(new a.a(this.transitionController,i.TransitionEvent.TRANSITION_IN_START,this.handleTransitionInStart.bind(this))),this.isReady(),this.$router.afterEach(function(){e.transitionOut()})},handleButtonClick:function(e){var t=this;this.transitionOut().then(function(){return t.resolve(e.value)})}}};t.a=T},function(e,t,n){"use strict";var i=n(10),r=n(526),a={name:"Icon",props:{name:i.a.string.isRequired},computed:{icon:function(){return r("./".concat(this.name,".svg"))}}};t.a=a},,function(e,t,n){"use strict";(function(e){var i=n(240),r=n(156),a=n(221),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/layout/LogoVictoria/LogoVictoria.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(241),r=n(152),a=n(222),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/general/form/PrimaryCheckbox/PrimaryCheckbox.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(242),r=n(154),a=n(229),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/button/PrimaryLink/PrimaryLink.vue",t.a=u.exports}).call(this,n(21)(e))},,,function(e,t,n){"use strict";(function(e){var i=n(244),r=n(151),a=n(234),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/general/ShareList/ShareList.vue",t.a=u.exports}).call(this,n(21)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(110),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(113),r=n.n(i);t.default=r.a},,function(e,t,n){"use strict";var i=n(114),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(115),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(116),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(117),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(118),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(119),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(120),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(121),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(122),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(123),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(124),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(125),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(126),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(127),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(128),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(129),r=n.n(i);t.default=r.a},,function(e,t,n){"use strict";var i=n(130),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(131),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(132),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(133),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(134),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=n(135),r=n.n(i);t.default=r.a},function(e,t,n){"use strict";var i=function(){var e,t=this.$createElement,n=this._self._c||t;return n("button",{class:[this.$style.hamburgerButton,"button",(e={},e[this.$style.isActive]=this.menuIsOpen,e)],on:{click:this.toggleMenu}},[n("span")])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e,t=this,n=t.$createElement;return(t._self._c||n)("Icon",{class:[t.$style.logoVictoria,(e={},e[t.$style.isBlurred]=t.isBlurred,e[t.$style.isHidden]=t.isHidden,e)],attrs:{name:"logo-victoria"},on:{click:function(e){return t.$router.push({name:t.RouteNames.HOME})}}})},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:[e.$style.primaryCheckbox,e.$style["is-"+e.checkboxSize],"checkbox"],attrs:{for:e.name}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{id:e.name,name:e.name,type:"checkbox"},domProps:{value:e.checked,checked:Array.isArray(e.checked)?e._i(e.checked,e.checked)>-1:e.checked},on:{change:function(t){var n=e.checked,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e.checked,s=e._i(n,a);i.checked?s<0&&(e.checked=n.concat([a])):s>-1&&(e.checked=n.slice(0,s).concat(n.slice(s+1)))}else e.checked=r}}}),e._v(" "),n("div",{class:[e.$style.container,"container"]},[n("div",{class:[e.$style.element,"element"]},[n("Icon",{class:[e.$style.icon,"icon"],attrs:{name:"checkmark"}})],1),e._v(" "),n("span",{class:[e.$style.text,"text","copy-02"],domProps:{innerHTML:e._s(e.label)}})])])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.primaryLink]},[e.type===e.ButtonType.LINK?n("a",{ref:"button",class:[e.$style.button,"button"],attrs:{href:e.target,title:e.title||""},domProps:{innerHTML:e._s(e.label)},on:{click:e.handleClick}}):n("button",{ref:"button",class:[e.$style.button,"button"],attrs:{title:e.title||"",type:"submit"},domProps:{innerHTML:e._s(e.label)},on:{click:e.handleClick}})])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.siteFooter]},[n("div",{class:[e.$style.container]},[n("ShareList",{class:[e.$style.shareList]}),e._v(" "),n("ul",{class:[e.$style.menuList]},[n("li",{class:[e.$style.menuListItem]},[n("PrimaryLink",{attrs:{label:e.$t("footer.menu.terms.label"),type:e.ButtonType.LINK,link:{type:e.LinkType.EXTERNAL_BLANK,target:e.$versionRoot+"doc/terms.pdf"},title:e.$t("footer.menu.terms.label")}})],1),e._v(" "),n("li",{class:[e.$style.menuListItem]},[n("PrimaryLink",{attrs:{label:e.$t("footer.menu.privacy.label"),type:e.ButtonType.LINK,link:{type:e.LinkType.EXTERNAL_BLANK,target:e.$t("footer.menu.privacy.target")},title:e.$t("footer.menu.privacy.label")}})],1),e._v(" "),n("li",{class:[e.$style.menuListItem]},[n("PrimaryLink",{attrs:{label:e.$t("footer.menu.beers.label"),type:e.ButtonType.LINK,link:{type:e.LinkType.EXTERNAL_BLANK,target:e.$t("footer.menu.beers.target")},title:e.$t("footer.menu.beers.label")}})],1),e._v(" "),n("li",{class:[e.$style.menuListItem]},[n("PrimaryLink",{attrs:{label:e.$t("footer.menu.contact.label"),type:e.ButtonType.LINK,link:{type:e.LinkType.EXTERNAL_BLANK,target:e.$t("footer.menu.contact.target")},title:e.$t("footer.menu.contact.label")}})],1)]),e._v(" "),n("hr"),e._v(" "),n("p",{class:[e.$style.disclaimer,"copy-03"],domProps:{innerHTML:e._s(e.$t("footer.disclaimer"))}})],1)])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e,t,n=this,i=n.$createElement,r=n._self._c||i;return r("ul",{class:[n.$style.shareList]},[r("li",{class:[n.$style.listItem]},[n._v("\n    compartir\n  ")]),n._v(" "),r("li",{class:[n.$style.listItem]},[r("PrimarySquareButton",{directives:[{name:"track",rawName:"v-track",value:(e={},e[n.TrackingProvider.GTM]={event:"trackEvent",eventCategory:"compartir",eventAction:"click",eventLabel:"twitter"},e),expression:"{\n        [TrackingProvider.GTM]: {\n          event: 'trackEvent',\n          eventCategory: 'compartir',\n          eventAction: 'click',\n          eventLabel: 'twitter'\n        }\n      }"}],class:[n.$style.button],attrs:{icon:"twitter",type:n.ButtonType.ACTION},on:{click:n.shareTwitter}})],1),n._v(" "),r("li",{class:[n.$style.listItem]},[r("PrimarySquareButton",{directives:[{name:"track",rawName:"v-track",value:(t={},t[n.TrackingProvider.GTM]={event:"trackEvent",eventCategory:"compartir",eventAction:"click",eventLabel:"facebook"},t),expression:"{\n        [TrackingProvider.GTM]: {\n          event: 'trackEvent',\n          eventCategory: 'compartir',\n          eventAction: 'click',\n          eventLabel: 'facebook'\n        }\n      }"}],class:[n.$style.button],attrs:{icon:"facebook",type:n.ButtonType.ACTION},on:{click:n.shareFacebook}})],1)])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.notification,"abs-fill"]},[n("div",{ref:"mask",class:[e.$style.mask,"abs-fill"]}),e._v(" "),n("div",{ref:"innerContent",class:[e.$style.innerContent,"abs-center"]},[n("div",{class:[e.$style.background,"abs-fill"]}),e._v(" "),n("h3",{class:[e.$style.title,"heading-03"],domProps:{innerHTML:e._s(e.title)}}),e._v(" "),n("p",{class:[e.$style.copy,"copy-02"],domProps:{innerHTML:e._s(e.message)}}),e._v(" "),n("div",{class:[e.$style.buttonHolder]},e._l(e.buttons,function(t){return n("PrimaryButton",{key:t.label,ref:"buttons",refInFor:!0,class:[e.$style.button],attrs:{label:t.label,type:e.ButtonType.ACTION,title:t.label},on:{click:function(n){return e.handleButtonClick(t)}}})}),1)])])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.homePage]},[n("div",{class:[e.$style.shades,"shades"]}),e._v(" "),n("LogoXibalba",{ref:"logoXibalba",class:[e.$style.logoXibalba],attrs:{background:!1}}),e._v(" "),n("HeroVideo",{ref:"heroVideo",class:[e.$style.heroVideo],attrs:{video:e.video},on:{playStateChange:e.handleVideoPlayStateChange}})],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("h1",{class:[t.$style.logoXibalba,(e={},e[t.$style.hasBackground]=t.background,e)],on:{click:function(e){return t.$router.push({name:t.RouteNames.HOME})}}},[i("span",{class:[t.$style.text]},[t._v("chingones hasta en la muerte - Xibalba")])])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.registerPage]},[n("LogoXibalba",{ref:"logoXibalba",class:[e.$style.logoXibalba],attrs:{background:!1}}),e._v(" "),n("h1",{class:[e.$style.title,"heading-03"],domProps:{innerHTML:e._s(e.$t("register.title"))}}),e._v(" "),n("p",{class:[e.$style.copy,"copy-02"],domProps:{innerHTML:e._s(e.$t("register.copy"))}}),e._v(" "),n("form",{class:[e.$style.form],attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("div",{class:[e.$style.fieldRow,e.$style.inputHolder]},[n("PrimaryInputField",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:[e.$style.inputField],attrs:{name:"firstName",value:e.firstName,"is-invalid":e.errors.has("firstName"),"data-vv-name":"firstName",type:"text",placeholder:e.$t("global.form.placeholder.firstName")},on:{input:e.onValueUpdate}}),e._v(" "),n("PrimaryInputField",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:[e.$style.inputField],attrs:{name:"lastName",value:e.lastName,"is-invalid":e.errors.has("lastName"),"data-vv-name":"lastName",type:"text",placeholder:e.$t("global.form.placeholder.lastName")},on:{input:e.onValueUpdate}})],1),e._v(" "),n("div",{class:[e.$style.inputHolder]},[n("PrimaryInputField",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],class:[e.$style.inputField],attrs:{name:"email",value:e.email,"data-vv-name":"email","is-invalid":e.errors.has("email"),type:"email",placeholder:e.$t("global.form.placeholder.email")},on:{input:e.onValueUpdate}})],1),e._v(" "),n("ul",{class:e.$style.questionList},e._l(e.questions,function(t,i){return n("li",{key:i,class:[e.$style.questionListItem]},[n("label",{class:[e.$style.question,"copy-02"],attrs:{for:t.questionId},domProps:{innerHTML:e._s(e.$t("register.questions."+t.questionId+".question"))}}),e._v(" "),n("div",{class:[e.$style.options]},e._l(t.options,function(i,r){return n("PrimaryRadioButton",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:r,class:[e.$style.radioButton],attrs:{name:t.questionId+"_"+i.id,group:t.questionId,label:e.$t("register.questions."+t.questionId+"."+i.id),"data-vv-name":""+t.questionId},on:{input:e.onValueUpdate}})}),1)])}),0),e._v(" "),n("div",{class:[e.$style.checkboxHolder]},[n("PrimaryCheckbox",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:[e.$style.checkbox,e.$style.terms],attrs:{name:"terms",value:e.terms,label:e.$t("register.terms"),"data-vv-name":"terms",size:e.Size.LARGE},on:{input:e.onValueUpdate}})],1),e._v(" "),n("div",{class:[e.$style.buttons]},[n("div",{class:[e.$style.buttonHolder,"graphic-button-holder"]},[n("PrimaryButton",{ref:"submitButton",class:[e.$style.submitButton],attrs:{label:e.$t("register.submit"),type:e.ButtonType.SUBMIT,active:e.terms,title:e.$t("register.submit")}},[n("div",{class:["graphic-wave"]})])],1)])])],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{class:[t.$style.primaryButton,(e={},e[t.$style.isInactive]=!t.active,e)]},[t.type===t.ButtonType.LINK?i("a",{ref:"button",class:[t.$style.button,"button"],attrs:{href:t.target,title:t.title||""},on:{click:t.handleClick}},[i("span",{class:t.$style.label,domProps:{innerHTML:t._s(t.label)}})]):i("button",{ref:"button",class:[t.$style.button,"button"],attrs:{title:t.title||"",type:t.type===t.ButtonType.SUBMIT?"submit":"button"},on:{click:t.handleClick}},[i("span",{class:t.$style.label,domProps:{innerHTML:t._s(t.label)}})]),t._v(" "),t._t("default")],2)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.dobInputField]},[n("div",{class:[e.$style.inputField,e.$style.dayInput]},[n("input",{ref:"input",class:[e.$style.input,"input-field"],attrs:{type:"tel",maxlength:"2",name:"day",placeholder:e.$t("global.form.placeholder.day"),autocomplete:"off"},domProps:{value:e.day},on:{input:e.onChange}})]),e._v(" "),n("div",{class:[e.$style.inputField,e.$style.monthInput]},[n("input",{ref:"input",class:[e.$style.input,"input-field"],attrs:{type:"tel",maxlength:"2",name:"month",placeholder:e.$t("global.form.placeholder.month"),autocomplete:"off"},domProps:{value:e.month},on:{input:e.onChange}})]),e._v(" "),n("div",{class:[e.$style.inputField,e.$style.yearInput]},[n("input",{ref:"input",class:[e.$style.input,"input-field"],attrs:{type:"tel",maxlength:"4",name:"year",placeholder:e.$t("global.form.placeholder.year"),autocomplete:"off"},domProps:{value:e.year},on:{input:e.onChange}})])])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e,t,n=this,i=n.$createElement,r=n._self._c||i;return r("div",{class:[n.$style.shareBlock]},[r("DasharrayCircleButton",{directives:[{name:"track",rawName:"v-track",value:(e={},e[n.TrackingProvider.GTM]={event:"trackEvent",eventCategory:"thank you page",eventAction:"compartir",eventLabel:"facebook"},e),expression:"{\n      [TrackingProvider.GTM]: {\n        event: 'trackEvent',\n        eventCategory: 'thank you page',\n        eventAction: 'compartir',\n        eventLabel: 'facebook'\n      }\n    }"}],ref:"facebook",class:[n.$style.facebookButton],attrs:{icon:"facebook",title:"facebook",type:n.ButtonType.ACTION},on:{click:n.handleFacebookShareClick}}),n._v(" "),r("div",{class:[n.$style.divider]},[r("span",{class:[n.$style.copy,"copy-03"]},[n._v("Compartir")])]),n._v(" "),r("DasharrayCircleButton",{directives:[{name:"track",rawName:"v-track",value:(t={},t[n.TrackingProvider.GTM]={event:"trackEvent",eventCategory:"thank you page",eventAction:"compartir",eventLabel:"twitter"},t),expression:"{\n      [TrackingProvider.GTM]: {\n        event: 'trackEvent',\n        eventCategory: 'thank you page',\n        eventAction: 'compartir',\n        eventLabel: 'twitter'\n      }\n    }"}],ref:"twitter",class:[n.$style.twitterButton],attrs:{icon:"twitter",title:"twitter",type:n.ButtonType.ACTION},on:{click:n.handleTwitterShareClick}}),n._v(" "),r("div",{class:[n.$style.splatterRight,"graphic-splatter"]}),n._v(" "),r("div",{class:[n.$style.splatterLeft,"graphic-splatter"]}),n._v(" "),r("div",{class:[n.$style.leafLeft,"graphic-leaf"]}),n._v(" "),r("div",{class:[n.$style.leafRight,"graphic-leaf"]})],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{class:[t.$style.primaryInputField,(e={},e[t.$style.isInvalid]=t.isInvalid,e)]},["checkbox"===t.type?i("input",{directives:[{name:"filter-input",rawName:"v-filter-input"},{name:"model",rawName:"v-model",value:t.internalValue,expression:"internalValue"}],ref:"input",class:[t.$style.input,"input-field"],attrs:{id:t.name,title:t.name,name:t.name,autocomplete:"off",placeholder:t.placeholder,type:"checkbox"},domProps:{value:t.internalValue,checked:Array.isArray(t.internalValue)?t._i(t.internalValue,t.internalValue)>-1:t.internalValue},on:{change:function(e){var n=t.internalValue,i=e.target,r=!!i.checked;if(Array.isArray(n)){var a=t.internalValue,s=t._i(n,a);i.checked?s<0&&(t.internalValue=n.concat([a])):s>-1&&(t.internalValue=n.slice(0,s).concat(n.slice(s+1)))}else t.internalValue=r}}}):"radio"===t.type?i("input",{directives:[{name:"filter-input",rawName:"v-filter-input"},{name:"model",rawName:"v-model",value:t.internalValue,expression:"internalValue"}],ref:"input",class:[t.$style.input,"input-field"],attrs:{id:t.name,title:t.name,name:t.name,autocomplete:"off",placeholder:t.placeholder,type:"radio"},domProps:{value:t.internalValue,checked:t._q(t.internalValue,t.internalValue)},on:{change:function(e){t.internalValue=t.internalValue}}}):i("input",{directives:[{name:"filter-input",rawName:"v-filter-input"},{name:"model",rawName:"v-model",value:t.internalValue,expression:"internalValue"}],ref:"input",class:[t.$style.input,"input-field"],attrs:{id:t.name,title:t.name,name:t.name,autocomplete:"off",placeholder:t.placeholder,type:t.type},domProps:{value:t.internalValue,value:t.internalValue},on:{input:function(e){e.target.composing||(t.internalValue=e.target.value)}}})])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{class:[e.$style.icon],domProps:{innerHTML:e._s(e.icon)},on:{click:function(t){return e.$emit("click")}}})},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:[e.$style.primaryRadioButton,e.$style["is-"+e.checkboxSize],"checkbox"],attrs:{for:e.name}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{id:e.name,name:e.group,type:"radio"},domProps:{value:e.name,checked:e._q(e.checked,e.name)},on:{change:function(t){e.checked=e.name}}}),e._v(" "),n("div",{class:[e.$style.container,"container"]},[n("div",{class:[e.$style.element,"element"]},[n("Icon",{class:[e.$style.icon,"icon"],attrs:{name:"checkmark"}})],1),e._v(" "),n("span",{class:[e.$style.text,"text","copy-02"],domProps:{innerHTML:e._s(e.label)}})])])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:[this.$style.webglPage]})},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e,t,n=this,i=n.$createElement,r=n._self._c||i;return r("div",{class:[n.$style.heroVideo,(e={},e[n.$style.isPlaying]=n.isPlaying,e)],on:{click:n.handleClick,mouseenter:n.handleMouseEnter,mouseleave:n.handleMouseLeave,mousemove:n.handleMouseMove}},[r("div",{ref:"videoHolder",class:[n.$style.videoHolder,"abs-fill"]}),n._v(" "),r("div",{ref:"poster",class:[n.$style.poster,"abs-fill"],style:{backgroundImage:"url("+n.video.poster+")"}}),n._v(" "),r("PlayButton",{ref:"playButton",class:[n.$style.playButton],attrs:{"is-playing":n.isPlaying,type:n.ButtonType.ACTION}}),n._v(" "),r("h1",{ref:"title",class:[n.$style.title]},n._l(n.$store.getters.translation.home.hero.title,function(e,t){return r("div",{key:t,ref:"titlePart",refInFor:!0,class:[n.$style.titlePart],domProps:{innerHTML:n._s(e)}})}),0),n._v(" "),r("div",{class:[n.$style.shade]}),n._v(" "),r("div",{ref:"content",class:[n.$style.content]},[r("div",{class:[n.$style.buttonHolder,"graphic-button-holder"]},[r("div",{class:[n.$style.copy,"copy-02"]},n._l(n.$store.getters.translation.home.hero.copy,function(e,t){return r("p",{key:t,ref:"copyLine",refInFor:!0,class:[n.$style.copyLine],domProps:{innerHTML:n._s(e)}})}),0),n._v(" "),r("PrimaryButton",{directives:[{name:"track",rawName:"v-track",value:(t={},t[n.TrackingProvider.GTM]={event:"trackEvent",eventCategory:"home",eventAction:"click",eventLabel:"vamos"},t),expression:"{\n          [TrackingProvider.GTM]: {\n            event: 'trackEvent',\n            eventCategory: 'home',\n            eventAction: 'click',\n            eventLabel: 'vamos'\n          }\n        }"}],ref:"primaryButton",class:[n.$style.primaryButton],attrs:{label:n.$t("home.hero.cta"),type:n.ButtonType.LINK,link:{type:n.LinkType.INTERNAL,target:{name:n.RouteNames.REGISTER}},active:!0,title:n.$t("home.hero.cta")}},[r("div",{class:["graphic-wave"]}),n._v(" "),r("div",{class:["splatter-right","graphic-splatter"]}),n._v(" "),r("div",{class:["splatter-left","graphic-splatter"]}),n._v(" "),r("div",{ref:"dasharrayCircle",class:["graphic-dasharray-circle"]})])],1)])],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{class:[e.$style.ageGatePage],attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("LogoVictoria",{ref:"logoVictoria",class:[e.$style.logoVictoria]}),e._v(" "),n("LogoXibalba",{ref:"logoXibalba",class:[e.$style.logoXibalba],attrs:{background:!0}}),e._v(" "),n("h2",{class:[e.$style.title,"heading-03"],domProps:{innerHTML:e._s(e.$t("agegate.title"))}}),e._v(" "),n("p",{class:[e.$style.copy,"copy-02"],domProps:{innerHTML:e._s(e.$t("agegate.copy"))}}),e._v(" "),n("DobInputField",{ref:"dobInputField",class:[e.$style.dobInputField],attrs:{year:e.year,month:e.month,day:e.day},on:{input:e.onValueUpdate}}),e._v(" "),n("div",{class:[e.$style.checkboxHolder]},[n("PrimaryCheckbox",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:[e.$style.checkbox,e.$style.rememberCheckbox],attrs:{name:"remember",value:e.rememberMe,label:e.$t("agegate.remember"),"data-vv-name":"remember"},on:{input:e.onValueUpdate}})],1),e._v(" "),n("p",{class:[e.$style.disclaimer,"copy-03"],domProps:{innerHTML:e._s(e.$t("agegate.disclaimer"))}}),e._v(" "),n("div",{class:[e.$style.buttonHolder,"graphic-button-holder"]},[n("PrimaryButton",{ref:"submitButton",class:[e.$style.submitButton],attrs:{label:e.$t("agegate.submit"),type:e.ButtonType.SUBMIT,active:e.isValidDate,title:e.$t("agegate.submit")}},[n("div",{class:["graphic-wave"]}),e._v(" "),n("div",{class:["splatter-right","graphic-splatter"]}),e._v(" "),n("div",{class:["splatter-left","graphic-splatter"]}),e._v(" "),n("div",{class:["leaf-left","graphic-leaf"]}),e._v(" "),n("div",{class:["leaf-right","graphic-leaf"]})])],1)],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.thankyouPage]},[n("LogoXibalba",{ref:"logoXibalba",class:[e.$style.logoXibalba],attrs:{background:!1}}),e._v(" "),n("h1",{class:[e.$style.title,"heading-03"],domProps:{innerHTML:e._s(e.$t("thankyou.title"))}}),e._v(" "),n("p",{class:[e.$style.copy,"copy-02"],domProps:{innerHTML:e._s(e.$t("thankyou.copy"))}}),e._v(" "),n("PrimaryLink",{ref:"backLink",class:[e.$style.backLink],attrs:{label:e.$t("thankyou.backLink"),type:e.ButtonType.LINK,link:{type:e.LinkType.INTERNAL,target:{name:e.RouteNames.HOME}},title:e.$t("thankyou.backCta")}}),e._v(" "),n("div",{class:[e.$style.shareBlockWrapper]},[n("ShareBlock",{ref:"shareBlock",class:[e.$style.shareBlock]})],1)],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.primarySquareButton,e.$style[e.icon]]},[e.type===e.ButtonType.LINK?n("a",{ref:"button",class:[e.$style.button,"button"],attrs:{href:e.target,title:e.title||""},on:{click:e.handleClick}},[n("Icon",{class:[e.$style.icon,e.$style["icon-"+e.icon],"abs-center"],attrs:{name:e.icon}})],1):n("button",{ref:"button",class:[e.$style.button,"button"],attrs:{title:e.title||"",type:"submit"},on:{click:e.handleClick}},[n("Icon",{class:[e.$style.icon,e.$style["icon-"+e.icon],"abs-center"],attrs:{name:e.icon}})],1)])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.dasharrayCircleButton,e.$style[e.icon]]},[e.type===e.ButtonType.LINK?n("a",{ref:"button",class:[e.$style.button,"button"],attrs:{href:e.target,title:e.title||""},on:{click:e.handleClick}},[n("Icon",{class:[e.$style.icon,e.$style["icon-"+e.icon],"abs-center"],attrs:{name:e.icon}})],1):n("button",{ref:"button",class:[e.$style.button,"button"],attrs:{title:e.title||"",type:"button"},on:{click:e.handleClick}},[n("Icon",{class:[e.$style.icon,e.$style["icon-"+e.icon],"abs-center"],attrs:{name:e.icon}})],1)])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{class:[t.$style.app,(e={},e[t.$style.menuIsOpen]=t.menuIsOpen,e)]},[i("LogoVictoria",{ref:"logoVictoria",class:[t.$style.logoVictoria],attrs:{"is-blurred":!0,"is-hidden":t.hideVictoriaLogo}}),t._v(" "),i("div",{class:[t.$style.scrollWrapper]},[i("div",{class:[t.$style.scrollContainer]},[i("transition",{on:{leave:t.onLeave}},[i("router-view",{ref:"page",class:[t.$style.page]})],1),t._v(" "),i("SiteFooter",{ref:"siteFooter"})],1)]),t._v(" "),i("Notification"),t._v(" "),i("div",{ref:"background",class:[t.$style.background]}),t._v(" "),i("HamburgerButton",{ref:"hamburgerButton",class:[t.$style.hamburgerButton]}),t._v(" "),i("ShareList",{class:[t.$style.shareList]})],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e,t=this.$createElement,n=this._self._c||t;return n("button",{ref:"button",class:[this.$style.playButton,"button",(e={},e[this.$style.isPlaying]=this.isPlaying,e)],attrs:{title:this.title||"",type:"button"},on:{click:this.handleClick}},[n("div",{class:[this.$style.outline]})])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i={"./perlin_doNotCompress.png":655,"./petals.png":656};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=355},,,function(e,t,n){"use strict";(function(e){var i=n(253),r=n(159),a=n(213),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/general/Icon/Icon.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(246),r=n(148),a=n(219),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/page/HomePage/HomePage.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(256),r=n(138),a=n(217),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/content/HeroVideo/HeroVideo.vue",t.a=u.exports}).call(this,n(21)(e))},,,,,function(e,t,n){"use strict";(function(e){var i=n(262),r=n(145),a=n(214),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/button/PlayButton/PlayButton.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(257),r=n(142),a=n(223),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/page/AgeGatePage/AgeGatePage.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(250),r=n(139),a=n(220),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/general/form/DobInputField/DobInputField.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(248),r=n(137),a=n(226),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/page/RegisterPage/RegisterPage.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(254),r=n(143),a=n(224),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/general/form/PrimaryRadioButton/PrimaryRadioButton.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(252),r=n(144),a=n(225),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/general/form/PrimaryInputField/PrimaryInputField.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(258),r=n(140),a=n(230),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/page/ThankyouPage/ThankyouPage.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(251),r=n(157),a=n(228),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/general/ShareBlock/ShareBlock.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(260),r=n(149),a=n(227),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/button/DasharrayCircleButton/DasharrayCircleButton.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(255),r=n(147),a=n(231),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/page/WebglPage/WebglPage.vue",t.a=u.exports}).call(this,n(21)(e))},,,,function(e,t,n){"use strict";(function(e){var i=n(261),r=n(136),a=n(238),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/App/App.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(243),r=n(153),a=n(235),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/layout/SiteFooter/SiteFooter.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(259),r=n(141),a=n(233),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/button/PrimarySquareButton/PrimarySquareButton.vue",t.a=u.exports}).call(this,n(21)(e))},function(e,t,n){"use strict";(function(e){var i=n(245),r=n(158),a=n(236),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/general/Notification/Notification.vue",t.a=u.exports}).call(this,n(21)(e))},,function(e,t,n){"use strict";(function(e){var i=n(239),r=n(155),a=n(237),s=n(11),o={},l=!1;e.hot,e.hot;var u=Object(s.a)(r.a,i.a,i.b,!1,function(e){l||(o.$style=a.default.locals||a.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return o.$style}}))},null,null);u.options.__file="src/component/button/HamburgerButton/HamburgerButton.vue",t.a=u.exports}).call(this,n(21)(e))},,,,,function(e,t,n){n(389),e.exports=n(666)},function(e,t,n){"use strict";n.r(t);n(390),n(392),n(393),n(396),n(397),n(267),n(174),n(400),n(401),n(403),n(404),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(437),n(439),n(275),n(276),n(277),n(440),n(441),n(279),n(442),n(443),n(282),n(283),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(285),n(452),n(289),n(455),n(456),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(290),n(470),n(472),n(473),n(474),n(475),n(476),n(477),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(293),n(296),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(300),n(517);t.default={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){!function(t){var n="Modernizr"in t,i=t.Modernizr;!function(e,t,n){function i(e,t){return typeof e===t}function r(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):h?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function a(){var e=t.body;return e||((e=r(h?"svg":"body")).fake=!0),e}var s=[],o={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){s.push({name:e,fn:t,options:n})},addAsyncTest:function(e){s.push({name:null,fn:e})}},l=function(){};l.prototype=o,l=new l;var u=[],c=t.documentElement,h="svg"===c.nodeName.toLowerCase(),d=o._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];o._prefixes=d;var f=o.testStyles=function(e,n,i,s){var o,l,u,h,d="modernizr",f=r("div"),v=a();if(parseInt(i,10))for(;i--;)(u=r("div")).id=s?s[i]:d+(i+1),f.appendChild(u);return(o=r("style")).type="text/css",o.id="s"+d,(v.fake?v:f).appendChild(o),v.appendChild(f),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),f.id=d,v.fake&&(v.style.background="",v.style.overflow="hidden",h=c.style.overflow,c.style.overflow="hidden",c.appendChild(v)),l=n(f,e),v.fake?(v.parentNode.removeChild(v),c.style.overflow=h,c.offsetHeight):f.parentNode.removeChild(f),!!l};l.addTest("touchevents",function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var i=["@media (",d.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");f(i,function(e){n=9===e.offsetTop})}return n}),function(){var e,t,n,r,a,o;for(var c in s)if(s.hasOwnProperty(c)){if(e=[],(t=s[c]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=i(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)1===(o=e[a].split(".")).length?l[o[0]]=r:(!l[o[0]]||l[o[0]]instanceof Boolean||(l[o[0]]=new Boolean(l[o[0]])),l[o[0]][o[1]]=r),u.push((r?"":"no-")+o.join("-"))}}(),function(e){var t=c.className,n=l._config.classPrefix||"";if(h&&(t=t.baseVal),l._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}l._config.enableClasses&&(t+=" "+n+e.join(" "+n),h?c.className.baseVal=t:c.className=t)}(u),delete o.addTest,delete o.addAsyncTest;for(var v=0;v<l._q.length;v++)l._q[v]();e.Modernizr=l}(t,document),e.exports=t.Modernizr,n?t.Modernizr=i:delete t.Modernizr}(window)},function(e,t,n){},,,,,function(e,t,n){var i={"./checkmark.svg":527,"./facebook.svg":528,"./logo-victoria.svg":529,"./twitter.svg":530};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=526},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 16"><path class="cls-1" d="M0 8.933s4.475 7.517 4.687 7.052S15 0 15 0L4.819 11.058z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 36"><path class="cls-1" d="M17.022 19.6l.8-6.419h-6.126v-4.09c0-1.853.494-3.116 3.048-3.116H18V.252A42.122 42.122 0 0 0 13.241 0C8.532 0 5.308 2.983 5.308 8.46v4.721H0V19.6h5.308V36h6.386V19.6h5.328z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 97 62"><path data-name="Shape 1 copy 2" d="M25.988 59.79c.109-.11.214-.22.312-.32v-.01a4.959 4.959 0 0 0 1.314-2.15c-1.522 1.39-2.4 1.88-3.479 1.85a2.946 2.946 0 0 1-.9-.16c.011.03.022.05.033.08-1.421-.44-1.544-1.99-.02-3.63.014-.02.028-.03.043-.05.063-.07.133-.13.2-.2a8.147 8.147 0 0 1 .679-.61 65.342 65.342 0 0 1 10.785-6.3c2.174-1.01 4.663-2.04 7-3.01 10.059-4.2 21.643-7.54 31.86-11.4 2.392-.9 5.1-1.87 7.354-2.92 4.175-1.95 7.784-4.17 9.934-6.41.14-.15.28-.3.4-.44a9.883 9.883 0 0 0 2.05-3.33 2.429 2.429 0 0 0-.26-2.18 1.037 1.037 0 0 1 .1.04c-.62-1.01-2.01-1.32-3.23-.14s-1.98 3.13-3.067 4.56a4.022 4.022 0 0 1-.562.65.985.985 0 0 1-.1.09c-.017.01-.035.03-.051.04-.882.7-1.035-.59.214-2.92l3.935-8.1h.02l.46-.94-3.943.91c-.1.02-.423.71-.732 1.06-.416.84-.092-.11-.745-.34-1.324-.55-3.555-.39-5.63 1.44a31.534 31.534 0 0 0-4.864 6.55c-.344.6-3.388 6.26-5.17 7.13 0 .01 0 .02-.007.03a.667.667 0 0 1-.953-.14c-.7-1.01 3.455-8.17 5.016-10.79h.02l.36-.6h-.019l.215-.35-1.338.33a.108.108 0 0 1-.052-.02l-2.4.6-3.182 5.91-2.371 3.36a22.749 22.749 0 0 1-2.926 3.38 4.766 4.766 0 0 1-.577.5.047.047 0 0 1 0 .01c-1.254.93-1.421-.34-.587-1.9l4.882-8.28a3.353 3.353 0 0 0 .357-.88h.034c.115-.51-.043-.92-1.058-.59-.889.3-2.806 1.15-3.735 1.42a.013.013 0 0 1-.014.01v.03a.035.035 0 0 0-.028.01.792.792 0 0 1-.968-.92 3.553 3.553 0 0 0-.094-1.37h.058c-.577-1.94-3.431.6-3.34 2.67a1.941 1.941 0 0 0 1.244 1.44c.076.17-1.233 3.01-2.065 3.21-.38.1-.206-.86-.206-1 0-1.08-1.445-3.69-5.4-.85l-.453.33c-.832.25-3.1 3.19-4.846 6.27-.808 1.5-2.921 5.19-5.337 7.05l-.1.06a.041.041 0 0 1-.011.02c-1 .59-1.61.32-.864-1.23l4.29-9.02a2.4 2.4 0 0 1 .545-.76 5.386 5.386 0 0 1 2.059-.88c.033-.05.1-.17.19-.32h.02c.2-.34.476-.83.5-.92-.157.04-.364.08-.586.13l-.017.03c-.327.07-.693.13-1.036.21s-.361-.35-.051-.94l2.527-5.57.027-.01.429-.94-3.835.93-3.467 7.05c-.295.64-1.644.86-2.591 1.1 0 0-.458 1.13-.531 1.25 1.01-.25 2-.63 1.728-.01-1.857 4.18-6.337 10.83-9.936 13.46a2.116 2.116 0 0 1-1.332.48v.05a.973.973 0 0 1-.943-1.38 34.6 34.6 0 0 1 4.813-9.77c.039-.04.081-.08.124-.12.641-.63 1.7-1.01 2 0a.244.244 0 0 0-.074-.04c.01.03.021.05.03.08-.362-.29-1.012.01-1.6.57-.035.04-.071.07-.106.11l-.057.06c-.788.86-1.372 2.15-.792 3.01.455.62 1.408.74 2.311-.12l.085-.09c.016-.02.032-.03.048-.05a5.01 5.01 0 0 0 .737-1.13 4.066 4.066 0 0 0 .3-2.47 2.057 2.057 0 0 0-.332-.79c.034.02.065.03.1.05a1.935 1.935 0 0 0-2.3-.77c-4.76 1.28-7.393 7.17-9.705 11.04a27.264 27.264 0 0 1-2.057 3.17 3.789 3.789 0 0 1-.833.72.152.152 0 0 1-.006.02c-1.025.64-1.3-.45-.8-1.49l4.5-9.32h.025l.347-.72a.026.026 0 0 0-.024.01l.092-.2-.774.19a.2.2 0 0 1-.074-.02l-3.079.74L15.683 42c-1.306 2.56.749 6.04 3.676 3.71.079-.04.217-.2.278-.24.122-.09.252-.2.384-.32a11.157 11.157 0 0 0 .991-1.15.231.231 0 0 0 .048-.05 51.628 51.628 0 0 0 3.2-5.05 7.689 7.689 0 0 0-.374 2.2c.175 1.98 1.769 2.96 3.913 2.17a13.44 13.44 0 0 0 4.425-3.03 24.233 24.233 0 0 0 3.837-5.14s-.044.08-.1.21l.147-.26a4.505 4.505 0 0 0-.5 2.07c-.017 2.78 2 3.41 3.618 2.61a8.772 8.772 0 0 0 2.539-1.86 16.892 16.892 0 0 0 2.608-3.58.032.032 0 0 1 .029-.01.075.075 0 0 1 .014-.03c.078-.1.284-.02.263.21-.136 1.81 2.332 4.01 5.358 1.82a9.637 9.637 0 0 0 .923-.78c2.8-2.74 4.158-7.33 4.158-7.26h.028a.2.2 0 0 1 .015-.04 3.093 3.093 0 0 0 1.493-.86c1.358-1.34 2.312-3.66 2.649-4.03.008-.01.014-.01.022-.02a.077.077 0 0 0 .022-.03c3.569-2.09 3.77-1.63 2.612-.34-1.443 1.61-2.775 3.38-4.161 5.16-2.905 3.71-2.026 6.74 1.109 5.76a9.816 9.816 0 0 0 3.957-2.55 41.009 41.009 0 0 0 3.037-3.58.034.034 0 0 0 0 .01c.014-.01.031-.04.044-.05a2.941 2.941 0 0 0 .748 2.93c1.1.92 2.627.34 3.968-1.03a10.111 10.111 0 0 0 .889-1.08c.021-.03.045-.05.068-.08l1.63-2.18c.029-.04.058-.09.088-.13l.081-.11a1.152 1.152 0 0 1 .182-.24c.136-.16.322-.2.485.61a2.7 2.7 0 0 0 1.831 2.29c.767.28 2.219-.13 3.5-1.36a6.917 6.917 0 0 0 .508-.56 27.342 27.342 0 0 0 2.408-3.29.172.172 0 0 1 .081-.13c.061-.11.066-.03.066.43 0 2.66 2.852 3.06 4.759 1.02.693-.76 2.2-3.21 3.36-4.78a2.7 2.7 0 0 1 .29-.35.138.138 0 0 1 .03-.04c.05-.04.09-.09.13-.12.97-.89 1.73.5 1.21 1.41a15.877 15.877 0 0 1-3.55 4.25.035.035 0 0 0-.01.02c-.1.07-.2.15-.29.22-.05.03-.09.07-.14.1a8 8 0 0 1-.812.56c-.71.43-1.414.82-2.122 1.2h-.047c-4.89 2.57-9.978 4.01-18.5 6.55-7.168 2.13-14.369 4.04-20.436 5.91A165.68 165.68 0 0 0 27.975 46c-5.712 2.51-10.507 4.98-11.819 8.44-1.2 3.15-.553 5.05.572 6.14a5.1 5.1 0 0 0 2.9 1.4 8.238 8.238 0 0 0 6.026-1.87.287.287 0 0 1 .066-.05c.1-.09.2-.18.292-.27m27.91-32.21c.674.41-2.454 6.92-4.694 7.97a1.17 1.17 0 0 1-.382.11v.04c-.941.17-1.522-.94-.405-3.32a50.037 50.037 0 0 1 3.757-6.97 6.594 6.594 0 0 1 .722-.83c1.032-1 1.86-1.04 1.1-.15-.9 1.06-.866 2.68-.1 3.15m26.111-2.68a3.514 3.514 0 0 1-1.243.92v.03c-.994.39-1.394-.58-.555-2.29a63.053 63.053 0 0 1 3.837-6.53 7.713 7.713 0 0 1 .683-.86l.054-.06c.072-.07.144-.15.216-.22 1.409-1.36 2.655-1.14 2 .52a28.768 28.768 0 0 1-4.992 8.49M25.62 28.4a1.016 1.016 0 0 0-.093-.2.232.232 0 0 1 .076.03c-.328-.78-1.433-1.04-2.558-.57-1.193.52-1.939 1.65-1.675 2.53.248.89 1.427 1.2 2.618.7a3.149 3.149 0 0 0 1.088-.76 1.868 1.868 0 0 0 .544-1.73m-14.3 11.17a35.067 35.067 0 0 1 2.356-3.56 93.81 93.81 0 0 1 9.884-11.24c4.665-4.49 9.407-6.4 14.1-8.45a111.646 111.646 0 0 1 11.174-3.65c4.683-1.44 8.745-2.25 11.571-3.1 3.8-1.15 6.666-2.76 8.11-4.74.059-.08.12-.16.173-.24a1.026 1.026 0 0 1 .065-.1 5.029 5.029 0 0 0 .748-2.27c.023-.08.036-.18.055-.26A5.422 5.422 0 0 0 69.232 0c-.139 6.69-11.013 8.67-23.619 9.95-9.438.96-16.715 3.75-22.959 10.84C14.689 29.87 8.532 40.09 5.99 45.8a7.683 7.683 0 0 1-.425.83.138.138 0 0 0-.026.04c-.015.02-.031.05-.045.07-.254.4-.435.51-.547.44-.331-.11-.461-1.81-.4-2.82a44 44 0 0 1 5.756-17.51c.015-.02.028-.05.042-.07a9.37 9.37 0 0 0 2.8-.57 6.308 6.308 0 0 0 3.09-2.11 1.5 1.5 0 0 0 .231-1.39c.031.01.056.03.086.04-.327-1.07-2.3-1.38-5.27.64a10.779 10.779 0 0 1-1.1.77c-.251.06-1.254.07-1.519.1-2.32.26-5.462 1.08-6.42 4.69 1.585-1.99 5.626-2.08 6.461-2.17-.014.02-.028.05-.044.07-.26.42-.517.85-.771 1.28-3.341 5.6-6.142 11.4-7.367 16.02-.692 2.72-.986 6.26 1.838 8.34a5.855 5.855 0 0 0 1.392.76.777.777 0 0 0 1.065-.46 18.463 18.463 0 0 0 .773-1.69 123.153 123.153 0 0 1 5.739-11.53m.633-15.28a.109.109 0 0 0 .011-.01h-.011c1.812-1.74 3.191-1.53 3.394-1.19a.252.252 0 0 1 .04.13 1.364 1.364 0 0 1-1.03.71 5.667 5.667 0 0 1-2.4.36m63.923-10.97a1.013 1.013 0 0 0-.092-.2.232.232 0 0 1 .076.03c-.329-.78-1.433-1.04-2.558-.57-1.193.52-1.94 1.65-1.675 2.53.247.89 1.426 1.2 2.618.7a3.141 3.141 0 0 0 1.086-.76 1.866 1.866 0 0 0 .545-1.73m18.54 13.52v-.9h.5a.407.407 0 0 1 .29.07.426.426 0 0 1 .09.3v.21a1.355 1.355 0 0 0 .02.2 1.038 1.038 0 0 1 .03.12h.54v-.06a.176.176 0 0 1-.09-.13 1.041 1.041 0 0 1-.01-.21v-.16a.7.7 0 0 0-.07-.36.435.435 0 0 0-.23-.18.454.454 0 0 0 .28-.22.727.727 0 0 0 .04-.57.761.761 0 0 0-.12-.19.634.634 0 0 0-.23-.16.887.887 0 0 0-.37-.06h-1.15v2.3h.48zm0-1.28v-.62h.57a.474.474 0 0 1 .23.04.275.275 0 0 1 .14.28.26.26 0 0 1-.14.26.567.567 0 0 1-.25.04h-.55zm-1.85.11a2.23 2.23 0 1 0 2.23-2.19 2.217 2.217 0 0 0-2.23 2.19m4.07 0a1.835 1.835 0 1 1-1.84-1.8 1.829 1.829 0 0 1 1.84 1.8" fill="#fff" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 28"><path class="cls-1" d="M11.32 28c13.59 0 21.02-10.773 21.02-20.115q0-.459-.03-.913A14.609 14.609 0 0 0 36 3.311a15.245 15.245 0 0 1-4.24 1.113A7.215 7.215 0 0 0 35.01.513a15.248 15.248 0 0 1-4.69 1.716 7.55 7.55 0 0 0-5.4-2.233 7.234 7.234 0 0 0-7.38 7.069 6.592 6.592 0 0 0 .19 1.611A21.274 21.274 0 0 1 2.51 1.29a6.772 6.772 0 0 0-1 3.554 6.992 6.992 0 0 0 3.28 5.885 7.552 7.552 0 0 1-3.34-.885v.09a7.153 7.153 0 0 0 5.92 6.931 7.652 7.652 0 0 1-3.33.121 7.355 7.355 0 0 0 6.9 4.911 15.273 15.273 0 0 1-9.18 3.026 15.836 15.836 0 0 1-1.76-.1A21.6 21.6 0 0 0 11.32 28"></path></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i={"./en-gb.json":[667,0]};function r(e){if(!n.o(i,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],r=t[0];return n.e(t[1]).then(function(){return n.t(r,3)})}r.keys=function(){return Object.keys(i)},r.id=628,e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i={"./default/default.fs.glsl":653,"./default/default.vs.glsl":654};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=652},function(e,t){e.exports="#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nvarying vec2 vUV;\n\nuniform sampler2D uTexture;\t\n\nvoid main(void) {\n\tgl_FragColor = texture2D(uTexture, vUV);\n}"},function(e,t){e.exports="attribute vec3 aPos;\nattribute vec2 aUV0;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\tgl_Position = vec4(aPos, 1.0);\n}"},function(e,t,n){e.exports=n.p+"version/1570018962653/image/perlin_doNotCompress.29074b0.png"},function(e,t,n){e.exports=n.p+"version/1570018962653/image/petals.b7947c3.png"},function(e,t,n){var i={"./background.jpg":658};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=657},function(e,t,n){e.exports=n.p+"version/1570018962653/image/background.dc5c6ae.jpg"},function(e,t,n){var i={"./motionblur/motionblur.fs.glsl":660,"./motionblur/motionblur.vs.glsl":661,"./particle/particle.fs.glsl":662,"./particle/particle.vs.glsl":663,"./post/post.fs.glsl":664,"./post/post.vs.glsl":665};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=659},function(e,t){e.exports="#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nuniform sampler2D uTexture;\nuniform sampler2D _Texture;\nuniform highp sampler2D _Fbm;\nuniform sampler2D _Noise;\nuniform float _Opacity;\n\nuniform float _MotionWeight;\nuniform highp float _Time;\n\nvarying vec2 vUV;\n\nhighp float hash13(highp vec3 p3) {\n  p3  = fract(p3 * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main(void) {\n\tvec3 history = texture2D(uTexture, vUV).rgb;\n\tvec3 new = texture2D(_Texture, vUV).rgb;\n\n  vec2 q = vUV;\n  float alpha = 1.0 - pow(16.0*q.x*q.y*(1.0-q.x)*(1.0-q.y),0.2);\n\n  new *= 1. - alpha;\n  new *= _Opacity;\n\n  vec2 p = vUV - .5;\n  float a = atan(p.y,p.x)  * (1./3.1415927);\n  float r = length(p);\n  vec2 uv = vec2( 0.3/r + 0.01*_Time + a, a ) * vec2(1., 2.);\n  uv += .5 * texture2D(_Fbm, uv + .01 * _Time).rg;\n  uv += .5 * texture2D(_Fbm, uv - .02 * _Time).ga;\n  float n = max(0., texture2D(_Fbm, uv).r - .2);\n\n  new += min(n * n * pow(alpha, 1.5) * .8, .5);\n\n\tvec3 noise = texture2D(_Noise, gl_FragCoord.xy * (1./256.)).rgb;\n\n\tnew += noise;\n  new = clamp(new, vec3(0), vec3(1));\n\n\thighp float h = hash13(vec3(gl_FragCoord.xy, _Time));\n\tgl_FragColor = vec4(mix(history, new, _MotionWeight) + (h-.5)*(1./255.), 1);\n}\n"},function(e,t){e.exports="#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec3 aPos;\nattribute vec2 aUV0;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\tgl_Position = vec4(aPos, 1.0);\n}"},function(e,t){e.exports="#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nuniform sampler2D _Texture;\n\nvarying vec2 vUV;\n\nvarying float vBlur;\nvarying float vAlpha;\nvarying float vDepth;\nvarying float vFog;\n\nvoid main(void) {\n\tvec2 uv0 = vUV;\n\tvec2 uv1 = vUV;\n\n\tfloat f = clamp(sqrt(vBlur) * 2., 0.75, 3.);\n\n\tuv0.y += .75 - .25 * floor(f);\n\tuv1.y += .75 - .25 * floor(f+1.);\n\n\tvec4 col0 = texture2D(_Texture, uv0);\n\tvec4 col1 = texture2D(_Texture, uv1);\n\n\tvec4 col = mix(col0*col0, col1*col1, fract(f));\n\n\tfloat alpha = sqrt(col.a) * vAlpha;\n\tvec3 color = sqrt(col.rgb * vFog);\n\n\tgl_FragColor = vec4(color * alpha, alpha);\n}"},function(e,t){e.exports="attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform float _Aspect;\nuniform float _Time;\nuniform vec3 _CamPos;\n\nuniform mat4 _Model;\nuniform mat4 _ViewProjection;\n\nuniform float _FocalDepth;\nuniform float _FocalLength;\nuniform float _FStop;\n\nuniform float _Size;\nuniform float _Flip;\nuniform float _XOffset;\nuniform float _FSize;\nuniform float _FAlphaPow;\nuniform float _Rotation;\n\nvarying vec2 vUV;\nvarying float vBlur;\nvarying float vAlpha;\nvarying float vDepth;\nvarying float vFog;\n\nfloat calculateBlur( float depth ) {\n\tif( depth <= 0. ) return 0.;\n\n\tfloat CoC = 0.03;//circle of confusion size in mm (35mm film = 0.03mm)\n\n\tfloat f = _FocalLength; //focal length in mm\n\tfloat d = _FocalDepth*1000.0; //focal plane in mm\n\tfloat o = depth*1000.0; //depth in mm\n\n\tfloat a = (o*f)/(o-f);\n\tfloat b = (d*f)/(d-f);\n\tfloat c = (d-f)/(d*_FStop*CoC);\n\n\tfloat blur = abs(a-b)*c;\n\n\treturn max(blur, 0.);\n}\n\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nvoid main(void) {\n\tvUV = aUV0;\n\n\tvUV.y *= .25;\n\n\tif (_Flip > .5) {\n\t\tvUV.x = 1.-vUV.x;\n\t}\n\tvUV.x *= .25;\n\tvUV.x += _XOffset;\n\n\tvec4 pos = _Model * vec4(0,0,0,1);\n\tvec4 projpos = _ViewProjection * pos;\n\tfloat depth = abs(pos.z - _CamPos.z);\n\n\tvDepth = depth;\n\tvBlur = calculateBlur(depth);\n//\tvBlur = .5 + .5 * sin(_Time);\n\n\tvec2 off = rotate2d(_Rotation) * (aUV0-.5);\n\tprojpos.xy += off * vec2(2./_Aspect, 2.) * min(_Size + vBlur * _FSize * _Size, _Size * 4.);\n\n\tvAlpha = exp(-vBlur * _FAlphaPow);\n\tvFog = smoothstep(2.5, 1., vDepth) * smoothstep(2.9, 2.8, abs(pos.x));\n\n\tgl_Position = projpos;\n}"},function(e,t){e.exports="#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nuniform sampler2D _Noise;\nuniform float _Time;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvec2 q = vUV;\n\tvec3 color = vec3(0);\n\n\tvec3 noise = texture2D(_Noise, gl_FragCoord.xy * (1./256.)).rgb;\n\n//  float alpha = 1.0 - pow(16.0*q.x*q.y*(1.0-q.x)*(1.0-q.y),0.25);\n\n\tcolor += noise;\n\n\tgl_FragColor = vec4(color, 0.);\n}\n"},function(e,t){e.exports="#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec3 aPos;\nattribute vec2 aUV0;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\tgl_Position = vec4(aPos, 1.0);\n}"},function(e,t,n){"use strict";n.r(t);n(520);var i=n(29),r=n(160),a=n.n(r),s=n(356);n(521);n(10).a.sensibleDefaults=!1;var o=n(81),l=n(22),u=n(23),c={bind:function(e,t){e.TrackDirective=new o.DisposableEventListener(e,"click",function(e){e.preventDefault(),Object(l.a)(u.d).trackEvent(t.value)})},unbind:function(e){e.TrackDirective.dispose(),delete e.TrackDirective}},h=n(357),d=n.n(h),f={track:c,filterInput:{update:function(e){e.value=d()(e.value)}}},v={Icon:n(358).a},_=n(232),p=n(12),m=function(){var e=Object(l.a)(u.a),t=e.getProperty(p.b.AVAILABLE_LOCALES).map(function(e){return"string"===typeof e?{code:e,urlPrefix:e,translationKey:e}:e}),n={persistent:!1,defaultCode:e.getProperty(p.b.DEFAULT_LOCALE),languages:t};return{localeEnabled:e.getVariable(p.d.LOCALE_ENABLED),localeRoutingEnabled:e.getVariable(p.d.LOCALE_ROUTING_ENABLED),config:n}},y=n(70);i.a.use(_.a);var E,g,T,A,R,b=null,k=function(){if(!b){var e=m(),t=Object(l.a)(u.a),n=e.localeEnabled&&e.localeRoutingEnabled?Object(r.routeParser)(y.b,t.getProperty(p.b.DEFAULT_LOCALE)):y.b.concat({path:"*",redirect:"/"});(b=new _.a({mode:"history",routes:n,base:t.getVariable(p.d.PUBLIC_PATH)})).beforeEach(function(e,n,i){var r=t.getProperty(p.b.PERSIST_QUERY_PARAMS),a=!1,s=Object.assign({},e.query);r&&r.length>0&&r.forEach(function(e){"undefined"!==typeof n.query[e]&&"undefined"===typeof s[e]&&(s[e]=n.query[e],a=!0)}),a?i({path:e.path,query:s}):i()})}return b},x=n(89),M=n(88),N=n.n(M),S=n(30),F=n.n(S),C=n(164),P=n.n(C),L=n(375),I=n(165),w=n.n(I),O={install:function(e,t){Object.keys(t).forEach(function(n){e.prototype[n]?console.error("Skipping ".concat(n,". ").concat(n," already exists on the Vue prototype")):Object.defineProperty(e.prototype,n,{get:function(){return t[n]}})})}},B=n(35),D=n.n(B),U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=D()({},n,t);return e.replace(/:(\w+)/g,function(e,t){return"undefined"!==typeof i[t]?i[t]||"":e}).replace(/\/:(\w+\?+)/g,function(){return""}).replace(/\?/g,function(){return""}).replace(/:(\w+)/g,function(e,t){throw new Error('Param "'.concat(t,'" is missing in params'),i)})},V={ID:"id",SLUG:"slug"},G=[],H={isLoaded:function(e){return G.includes(e)},setLoadCallback:function(e){E=e},getTranslation:function(e){var t=e.translationKey,i=e.code;return n(628)("./".concat(t,".json")).then(function(e){return G.push(i),E&&setTimeout(function(){E(i)}),e})}},$=n(90),X=n(61),z=n(71),q=n(26),j={GTM:"gtm"},W=function(e){return new Promise(function(t){H.isLoaded(e.getters.currentLanguage.code)?t():H.setLoadCallback(function(n){n===e.getters.currentLanguage.code&&t()})})},Y=function(e){!function(){var e=Object(l.a)(u.a),t=Object.keys($.b).reduce(function(e,t){return e[t]=$.b[t].replace(/'/g,""),e},{});i.a.use(L.a,{}),i.a.use(P.a),i.a.use(O,{$config:e,$gateway:Object(l.a)(u.c),$http:N.a,$versionRoot:e.getVariable(p.d.VERSIONED_STATIC_ROOT),$staticRoot:e.getVariable(p.d.STATIC_ROOT),$facebookSharer:Object(l.a)(u.b),$twitterSharer:Object(l.a)(u.e),$trackingManager:Object(l.a)(u.d),URLNames:p.c,PropertyNames:p.b,VariableNames:p.d,RouteNames:y.a,Params:V,ButtonType:z.a,LinkType:X.a,Size:q.a,TrackingProvider:j,createPath:U,$deviceStateTracker:new w.a({reverseDeviceStateOrder:!0,mediaQueries:t,deviceState:$.a,showStateIndicator:!1}),DeviceState:$.a})}(),F.a.tablet||F.a.mobile||document.querySelector("html").classList.add("is-desktop"),F.a.chrome&&document.querySelector("html").classList.add("is-chrome"),(F.a.msedge&&parseInt(F.a.version,10)<18||F.a.msie)&&document.querySelector("html").classList.add("no-cssmask");var t=Object(l.a)(u.a);return Promise.all([t.getVariable(p.d.LOCALE_ENABLED)?W(e):Promise.resolve(),Promise.resolve()])},K=n(14),Z=n.n(K),Q=n(376),J=n.n(Q),ee={environments:(g={},Z()(g,p.a.PRODUCTION,{variables:{},urls:{}}),Z()(g,p.a.STAGING,{extends:p.a.PRODUCTION,variables:{},urls:{}}),Z()(g,p.a.DEVELOPMENT,{extends:p.a.STAGING,variables:{},urls:{}}),Z()(g,p.a.LOCAL,{extends:p.a.DEVELOPMENT,variables:{},urls:{}}),g),variables:(T={},Z()(T,p.d.LOCALE_ENABLED,!0),Z()(T,p.d.LOCALE_ROUTING_ENABLED,!1),Z()(T,p.d.MOCK_API_ENABLED,!1),Z()(T,p.d.VERSIONED_STATIC_ROOT,(window.webpackPublicPath||"/")+"version/1570018962653/static/"),Z()(T,p.d.STATIC_ROOT,(window.webpackPublicPath||"/")+""),Z()(T,p.d.PUBLIC_PATH,window.webpackPublicPath||"/"),T),urls:(A={},Z()(A,p.c.API,"".concat("/","api/")),Z()(A,p.c.MOCK_API,"".concat("/","mock-api/")),A),properties:(R={},Z()(R,p.b.DEFAULT_LOCALE,"en-gb"),Z()(R,p.b.AVAILABLE_LOCALES,["en-gb","en-us"]),Z()(R,p.b.PERSIST_QUERY_PARAMS,[]),Z()(R,p.b.GTM,"GTM-5WW3PD4"),R)},te=p.a.PRODUCTION;switch(document.location.host.split(":").shift()){case"localhost":te=p.a.LOCAL;break;default:te=p.a.PRODUCTION}var ne={config:ee,environment:te},ie=n(0),re=n.n(ie),ae=n(1),se=n.n(ae),oe=function(){function e(){re()(this,e),this.name="Facebook sharer.php",this.id="facebook"}return se()(e,[{key:"share",value:function(t){var n=void 0===t.url?window.location.href:t.url,i=void 0===t.window_width?e.DEFAULT_WINDOW_WIDTH:t.window_width,r=void 0===t.window_height?e.DEFAULT_WINDOW_HEIGHT:t.window_height;return window.open("".concat(e.SHARER_API_URL,"?u=").concat(encodeURIComponent(n)),"facebook-sharer","toolbar=0,status=0,width=".concat(i,",height=").concat(r)),!0}}]),e}();oe.SHARER_API_URL="https://www.facebook.com/sharer/sharer.php",oe.DEFAULT_WINDOW_HEIGHT=450,oe.DEFAULT_WINDOW_WIDTH=690;var le=function(){function e(){re()(this,e),this.name="Twitter Tweet Intent",this.id="twitter"}return se()(e,[{key:"share",value:function(t){var n=[];["text","url","inReplyTo","via","lang"].forEach(function(e){if("string"===typeof t[e]){var i="inReplyTo"===e?"in-reply-to":e;n.push("".concat(i,"=").concat(encodeURIComponent(t[e])))}}),["hashtags","related"].forEach(function(e){"undefined"!==typeof t[e]&&n.push("".concat(e,"=").concat(t[e].map(function(e){return encodeURIComponent(e)}).join(",")))});var i=void 0===t.window_width?e.DEFAULT_WINDOW_WIDTH:t.window_width,r=void 0===t.window_height?e.DEFAULT_WINDOW_HEIGHT:t.window_height;return window.open("".concat(e.WEB_INTENT_URL,"?").concat(n.join("&")),"twitter-tweet-intent","toolbar=0,status=0,width=".concat(i,",height=").concat(r)),!0}}]),e}();le.WEB_INTENT_URL="https://twitter.com/intent/tweet",le.DEFAULT_WINDOW_HEIGHT=450,le.DEFAULT_WINDOW_WIDTH=690;var ue=n(4),ce=n.n(ue),he=n(2),de=n.n(he),fe=n(9),ve=n.n(fe),_e=n(5),pe=n.n(_e),me=n(28),ye=n.n(me),Ee=n(377),ge=n.n(Ee),Te=function(e){function t(e){var n;return re()(this,t),(n=ce()(this,de()(t).call(this))).providers={},n.options=ge()({},e),Object.keys(n.options.providers||{}).forEach(function(e){return n.addProvider(e,n.options.providers[e])}),n}return pe()(t,e),se()(t,[{key:"addProvider",value:function(e,t){this.providers[e]=t}},{key:"removeProvider",value:function(e){delete this.providers[e]}},{key:"getTrackingProvider",value:function(e){return this.providers[e]}},{key:"getTrackingProviders",value:function(){return this.providers}},{key:"trackEvent",value:function(e){var t=this;return Promise.all(Object.keys(e).map(function(n){return t.providers[n].trackEvent(e[n])}))}},{key:"trackPageView",value:function(e){var t=this;return Promise.all(Object.keys(e).map(function(n){return t.providers[n].trackPageView(e[n])}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.providers).forEach(function(t){return e.providers[t].dispose()}),this.providers=null,this.options=null,ve()(de()(t.prototype),"dispose",this).call(this)}}]),t}(ye.a);Te.LOG_NAMESPACE="trackingManager";var Ae=n(18),Re=n.n(Ae),be=n(111),ke=n.n(be),xe=function(e){function t(e){var n;if(re()(this,t),n=ce()(this,de()(t).call(this)),!ke()(e))throw new Error("The options should be provided in an object");return n.providerOptions=e,n.providerReady=new Promise(function(e,t){n.providerReadyResolveMethod=e,n.providerReadyRejectMethod=t}),n.init(),n}return pe()(t,e),se()(t,[{key:"handleApiLoaded",value:function(){this.providerReadyResolveMethod(),this.logger("Loaded")}},{key:"handleApiFailed",value:function(){this.providerReadyRejectMethod(),this.logger("Failed")}}]),t}(ye.a),Me=n(212),Ne=n.n(Me),Se=function(e){function t(){return re()(this,t),ce()(this,de()(t).apply(this,arguments))}return pe()(t,e),se()(t,[{key:"loadApi",value:function(e){var t=this;this.loadScripTask=new Ne.a({assets:e,cached:!1}),this.loadScripTask.load().then(function(){return t.handleApiLoaded()}).catch(function(){return t.handleApiFailed()})}},{key:"handleApiLoaded",value:function(){var e=this;setTimeout(function(){return e.loadScripTask.dispose()},0),ve()(de()(t.prototype),"handleApiLoaded",this).call(this)}},{key:"handleApiFailed",value:function(){var e=this;setTimeout(function(){return e.loadScripTask.dispose()},0),ve()(de()(t.prototype),"handleApiFailed",this).call(this)}}]),t}(xe),Fe=function(e){function t(){return re()(this,t),ce()(this,de()(t).apply(this,arguments))}return pe()(t,e),se()(t,[{key:"init",value:function(){this.logger=Re()("".concat(Te.LOG_NAMESPACE,":tealium")),window[t.DATA]=window[t.DATA]||{},window[t.DATA].page_category=this.providerOptions.pageCategory,window[t.DATA].page_name=this.providerOptions.pageName,this.loadApi(this.providerOptions.url)}},{key:"trackEvent",value:function(e){var n=this;return this.providerReady.then(function(){return window[t.NAMESPACE].link(Object.assign({},e))}).then(function(){return n.logger("trackEvent: ".concat(JSON.stringify(e)))})}},{key:"trackPageView",value:function(e){var n=this;return this.providerReady.then(function(){return window[t.NAMESPACE].view(Object.assign(window[t.DATA],e))}).then(function(){return n.logger("trackPageView: ".concat(JSON.stringify(e)))})}}]),t}(Se);Fe.NAMESPACE="utag",Fe.DATA="utag_data",(function(e){function t(){return re()(this,t),ce()(this,de()(t).apply(this,arguments))}return pe()(t,e),se()(t,[{key:"init",value:function(){var e=this;this.logger=Re()("".concat(Te.LOG_NAMESPACE,":bingTrackingPixel")),function(t,n,i,r,a){var s,o,l;t[a]=t[a]||[],s=function(){var n={ti:e.providerOptions.trackingPixelId};n.q=t[a],t[a]=new window.UET(n),t[a].push("pageLoad")},(o=n.createElement(i)).src="//bat.bing.com/bat.js",o.async=1,o.onload=o.onreadystatechange=function(){var t=o.readyState;t&&"loaded"!==t&&"complete"!==t||(s(),o.onload=o.onreadystatechange=null),e.handleApiLoaded()},(l=n.getElementsByTagName(i)[0]).parentNode.insertBefore(o,l)}(window,document,"script",0,t._NAMESPACE)}},{key:"trackEvent",value:function(e){var n=this;return this.providerReady.then(function(){return window[t._NAMESPACE].push(e)}).then(function(){return n.logger("trackEvent: ".concat(JSON.stringify(e)))})}},{key:"trackPageView",value:function(){var e=this;return this.providerReady.then(function(){return Promise.resolve()}).then(function(){return e.logger("BingTrackingPixel does not support page views")})}}]),t}(xe))._NAMESPACE="uet";(function(e){function t(){return re()(this,t),ce()(this,de()(t).apply(this,arguments))}return pe()(t,e),se()(t,[{key:"init",value:function(){var e;this.logger=Re()("".concat(Te.LOG_NAMESPACE,":facebookTrackingPixel")),e=window[t._NAMESPACE]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.callMethod?e.callMethod.apply(e,n):e.queue.push(n)},window[t._NAMESPACE]||(window[t._NAMESPACE]=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[];var n=document.createElement("script");n.async=!0,n.src="https://connect.facebook.net/en_US/fbevents.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i),window[t._NAMESPACE]("init",this.providerOptions.trackingPixelId),this.handleApiLoaded()}},{key:"trackEvent",value:function(e){var n=this;return this.providerReady.then(function(){return window[t._NAMESPACE]("track",e.event,e.parameters)}).then(function(){return n.logger("trackEvent: ".concat(JSON.stringify(e)))})}},{key:"trackPageView",value:function(){var e=this;return this.providerReady.then(function(){return window[t._NAMESPACE]("track","PageView")}).then(function(){return e.logger("trackPageView")})}}]),t}(xe))._NAMESPACE="fbq";(function(e){function t(){return re()(this,t),ce()(this,de()(t).apply(this,arguments))}return pe()(t,e),se()(t,[{key:"init",value:function(){var e,n,i,r,a,s,o=this;this.logger=Re()("".concat(Te.LOG_NAMESPACE,":googleAnalytics")),e=window,n=document,i="script",r=t._NAMESPACE,e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*(new Date).getTime(),a=n.createElement(i),s=n.getElementsByTagName(i)[0],a.async=1,a.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(a,s),o.handleApiLoaded(),window[t._NAMESPACE]("create",this.providerOptions.trackingId,"auto")}},{key:"trackEvent",value:function(e){var n=this;return this.providerReady.then(function(){var n=window[t._NAMESPACE];isNaN(e.value)&&e.value?n("send","event",e.category,e.action,e.label,e.value):e.label?n("send","event",e.category,e.action,e.label):n("send","event",e.category,e.action)}).then(function(){return n.logger("trackEvent: ".concat(JSON.stringify(e)))})}},{key:"trackPageView",value:function(e){var n=this;return this.providerReady.then(function(){return window[t._NAMESPACE]("send","pageview",e.page)}).then(function(){return n.logger("trackPageView: ".concat(JSON.stringify(e)))})}}]),t}(xe))._NAMESPACE="ga";var Ce=n(82);(function(e){function t(){return re()(this,t),ce()(this,de()(t).apply(this,arguments))}return pe()(t,e),se()(t,[{key:"loadGoogleGlobalSiteTag",value:function(e){return this.googleGlobalSiteTagPromise||(this.googleGlobalSiteTagPromise=new Promise(function(n){var i=new Ce.LoadScriptTask({assets:"//www.googletagmanager.com/gtag/js?id=".concat(e),cached:!1});i.load().then(function(){window.dataLayer=window.dataLayer||[],window[t.NAMESPACE]=function(){window.dataLayer.push(arguments)},window[t.NAMESPACE]("js",new Date),i.dispose(),n()})})),this.googleGlobalSiteTagPromise}},{key:"init",value:function(){var e=this;this.logger=Re()("trackingManager:gtag.".concat(this.providerOptions.namespace)),this.loadGoogleGlobalSiteTag(this.providerOptions.trackingId).then(function(){window[t.NAMESPACE]("config",e.providerOptions.trackingId),e.handleApiLoaded()})}},{key:"trackEvent",value:function(e){var n=this;return this.providerReady.then(function(){return window[t.NAMESPACE]("event",e.event,e.data)}).then(function(){return n.logger("trackEvent: ".concat(JSON.stringify(e)))})}},{key:"trackPageView",value:function(e){var n=this;return this.providerReady.then(function(){return window[t.NAMESPACE](e)}).then(function(){return n.logger("trackPageView: ".concat(JSON.stringify(e)))})}}]),t}(xe)).NAMESPACE="gtag",(function(e){function t(){return re()(this,t),ce()(this,de()(t).apply(this,arguments))}return pe()(t,e),se()(t,[{key:"init",value:function(){var e,n,i,r,a=this;this.logger=Re()("".concat(Te.LOG_NAMESPACE,":hotjar")),e=window,n=document,e[t._NAMESPACE]=e[t._NAMESPACE]||function(){(e[t._NAMESPACE].q=e[t._NAMESPACE].q||[]).push(arguments)},e._hjSettings={hjid:a.providerOptions.trackingId,hjsv:5},i=n.getElementsByTagName("head")[0],(r=n.createElement("script")).async=1,r.src="//static.hotjar.com/c/hotjar-"+e._hjSettings.hjid+".js?sv="+e._hjSettings.hjsv,r.onload=function(){return a.handleApiLoaded()},i.appendChild(r)}},{key:"trackEvent",value:function(){var e=this;return this.providerReady.then(function(){return Promise.resolve()}).then(function(){return e.logger("Hotjar does not support event tracking")})}},{key:"trackPageView",value:function(){var e=this;return this.providerReady.then(function(){return Promise.resolve()}).then(function(){return e.logger("Hotjar does not support page tracking")})}}]),t}(xe))._NAMESPACE="hj",(function(e){function t(){return re()(this,t),ce()(this,de()(t).apply(this,arguments))}return pe()(t,e),se()(t,[{key:"init",value:function(){this.logger=Re()("".concat(Te.LOG_NAMESPACE,":linkedInTrackingPixel")),window[t._NAMESPACE]=this.providerOptions.trackingPixelId,this.loadApi("https://snap.licdn.com/li.lms-analytics/insight.min.js")}},{key:"trackEvent",value:function(){var e=this;return this.providerReady.then(function(){return Promise.resolve()}).then(function(){return e.logger("LinkedInTrackingPixel does not support event tracking")})}},{key:"trackPageView",value:function(){var e=this;return this.providerReady.then(function(){return Promise.resolve()}).then(function(){return e.logger("LinkedInTrackingPixel does not support page tracking")})}}]),t}(Se))._NAMESPACE="_linkedin_data_partner_id";(function(e){function t(){return re()(this,t),ce()(this,de()(t).apply(this,arguments))}return pe()(t,e),se()(t,[{key:"init",value:function(){var e,n,i,r,a,s;this.logger=Re()("trackingManager:twitterTrackingPixel"),e=window,n=document,i="script",e[t.NAMESPACE]||((r=e[t.NAMESPACE]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.exe?r.exe.apply(r,t):r.queue.push(t)}).version="1.1",r.queue=[],(a=n.createElement(i)).async=!0,a.src="//static.ads-twitter.com/uwt.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(a,s)),window[t.NAMESPACE]("init",this.providerOptions.trackingPixelId),this.handleApiLoaded()}},{key:"trackEvent",value:function(e){var n=this;if(!e.event||!e.parameters)throw new Error("event and parameters are required for event tracking");return this.providerReady.then(function(){return window[t.NAMESPACE]("track",e.event,e.parameters)}).then(function(){return n.logger("trackEvent: ".concat(JSON.stringify(e)))})}},{key:"trackPageView",value:function(){var e=this;return this.providerReady.then(function(){return window[t.NAMESPACE]("track","PageView")}).then(function(){return e.logger("trackPageView")})}}]),t}(xe)).NAMESPACE="twq";var Pe=Te,Le=function(e){function t(){return re()(this,t),ce()(this,de()(t).apply(this,arguments))}return pe()(t,e),se()(t,[{key:"init",value:function(){var e=this;this.logger=Re()("trackingManager:googleTagManager.".concat(this.providerOptions.namespace)),function(t,n,i,r,a){t[r]=t[r]||[],t[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var s=n.getElementsByTagName(i)[0],o=n.createElement(i),l="dataLayer"!==r?"&l=".concat(r):"";o.async=!0,o.src="https://www.googletagmanager.com/gtm.js?id=".concat(a).concat(l),s.parentNode.insertBefore(o,s),e.logger("Load"),e.handleApiLoaded()}(window,document,"script",t.NAMESPACE,this.providerOptions.trackingId)}},{key:"trackEvent",value:function(e){var n=this;return this.providerReady.then(function(){return window[t.NAMESPACE].push(e)}).then(function(){return n.logger("trackEvent: ".concat(JSON.stringify(e)))})}},{key:"trackPageView",value:function(e){var n=this;return this.providerReady.then(function(){return window[t.NAMESPACE].push(e)}).then(function(){return n.logger("trackPageView: ".concat(JSON.stringify(e)))})}}]),t}(xe);Le.NAMESPACE="dataLayer";var Ie=function(){var e=new J.a;e.init(ne.config,ne.environment);var t=e.getVariable(p.d.MOCK_API_ENABLED);t&&console.warn("%c MOCK-API is enabled instead of real API","background: red; color: white;padding:5px;font-size: 18px");var n=M.create({baseURL:e.getURL(t?p.c.MOCK_API:p.c.API),headers:{Accept:"application/json"},responseType:"json"});n.interceptors.response.use(function(e){return function(e){return e&&e.data&&"undefined"!==typeof e.data.data?D()({},e,e.data):e}(e)},function(e){throw function(e){if(e&&e.response&&e.response.data&&e.response.data.error){var t=D()({config:e.config},e.response,e.response.data);return delete t.data,t}return e}(e)}),Object(l.b)(u.d,new Pe({providers:Z()({},j.GTM,new Le({namespace:"gtm",trackingId:e.getProperty(p.b.GTM)}))})),Object(l.b)(u.e,new le),Object(l.b)(u.b,new oe),Object(l.b)(u.a,e),Object(l.b)(u.c,n)},we=n(378).a,Oe={},Be=n(34);Object.keys(Oe).forEach(function(e){return i.a.filter(e,Oe[e])}),Object.keys(f).forEach(function(e){return i.a.directive(e,f[e])}),Object.keys(v).forEach(function(e){return i.a.component(e,v[e])}),Ie(),window.webpackPublicPath&&(n.p=window.webpackPublicPath);var De=Object(x.a)();De.state.user.rememberMe||De.commit(Be.a);var Ue=k(),Ve=m();Ve.localeEnabled&&(i.a.use(a.a,{store:De,router:Ve.localeRoutingEnabled?Ue:null,config:Ve.config,proxy:H}),i.a.initI18nManager()),Object(s.sync)(De,Ue);var Ge=new i.a({router:Ue,store:De,render:function(e){return e(we)}});Y(De).then(function(){Ge.$mount("#app")})}]);